<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui" />
    <meta
      name="description"
      content="" />
    <meta
      name="keywords"
      content="interview,reactjs,react-lite" />
    <title>react-lite - Implementation of React optimized for small size - Interview with Jade</title>
    
    <link rel='icon' type='image/png' href='/favicon.png'></link>

    
      <link href="/site.d7c7421e5f4fedab9f4a.css" rel="stylesheet">
    

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"
    />
  </head>
  <body>
    <div><div class="post__wrapper"><div class="header-image" style="background-image:url(/8967094b36295b05c31ce62bd55adf6b.jpg)"></div><h1 class="post__heading">react-lite - Implementation of React optimized for small size - Interview with Jade</h1><div class="toc-nav__wrapper"><div><div><h4 class="toc-nav--header">Interviews</h4><ul class="toc-nav"><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/redux-form-interview/">Redux Form - The best way to manage your form state in Redux - Interview with Erik Rasmussen</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/redux-zero-interview/">Redux Zero - Single Store, No Reducers - Interview with Matheus Lima</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/flow-runtime-interview/">Flow Runtime - A runtime type system for JavaScript with full Flow compatibility - Interview with Charles Pick</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/a-plus-interview/">a-plus-forms - A+ forms. Would use again - Interview with Nikolay Nemshilov</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/cabbie-interview/">Cabbie - WebDriver for the masses - Interview with Forbes Lindesay</a></li><li class="toc-undefined"><span class="toc-nav__link toc-nav__link--current undefined">react-lite - Implementation of React optimized for small size - Interview with Jade</span></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/react-day-berlin-interview/">React Day Berlin - Fully Packed Day of Your Favorite React Content - Interview with Robert Haritonov</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/unexpected-react-interview/">unexpected-react - Test Full Virtual DOM - Interview with Dave Brotherstone</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/kea-interview/">Kea - High level abstraction between React and Redux - Interview with Marius Andra</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/frint-interview/">FrintJS - Build reactive applications with React and RxJS - Interview with Fahad Ibnay Heylaal</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/neutrino-interview/">Neutrino - Create modern JavaScript applications with minimal configuration - Interview with Eli Perelman</a></li></ul></div><div><h4 class="toc-nav--header">Reactjs</h4><ul class="toc-nav"><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/redux-form-interview/">Redux Form - The best way to manage your form state in Redux - Interview with Erik Rasmussen</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/redux-zero-interview/">Redux Zero - Single Store, No Reducers - Interview with Matheus Lima</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/a-plus-interview/">a-plus-forms - A+ forms. Would use again - Interview with Nikolay Nemshilov</a></li><li class="toc-undefined"><span class="toc-nav__link toc-nav__link--current undefined">react-lite - Implementation of React optimized for small size - Interview with Jade</span></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/kea-interview/">Kea - High level abstraction between React and Redux - Interview with Marius Andra</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/react-next-2017/">Experiences on React Next 2017</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/frint-interview/">FrintJS - Build reactive applications with React and RxJS - Interview with Fahad Ibnay Heylaal</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/idyll-interview/">Idyll - Narratives for the web - Interview with Matthew Conlen</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/nextjs-interview/">Next.js - Framework for server-rendered React apps - Interview with Arunoda Susiripala</a></li></ul></div><div></div></div></div><div class="post"><div class="post__content"><div><p>Even though React API is small, the implementation is quite sizable due to all the work it does behind the façade. For this reason, people have developed solutions that implement the API with different trade-offs.</p>
<p><em>react-lite</em> by <a href="https://twitter.com/guyingjie129">Jade</a> is one of these solutions.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>To learn about a related solution, <a href="/blog/inferno-interview/">read the Inferno interview</a>.</blockquote><h2 class="header"><a class="header-anchor" href="#can-you-tell-a-bit-about-yourself-" id="can-you-tell-a-bit-about-yourself-"></a><span class="text">Can you tell a bit about yourself?</span><a class="header-anchor-select" href="#can-you-tell-a-bit-about-yourself-">#</a></h2>
<p>
  <img src="/0d2218b14f25799ed87e0cbf5a787085.jpg" alt="Jade" class="author" width="100" height="100" />

  My Chinese name is GuYingjie (古映杰), and people call me Jade in English. I live in Shanghai and work for Ctrip as a front-end architect. I am the author of <em>react-lite</em>.
</p>

<p>At Ctrip, we are big fans of React. We use React and React Native in many projects. My primary job is to improve the toolchain and infrastructure around React so that our engineers can develop a web app using React more productively and happily.</p>
<p>I like being a part of the open source community. <em>react-lite</em> is one of my open source projects, and there are also other exciting projects in my GitHub, such as <a href="https://github.com/Lucifier129/factor-network">factor-network</a>, which is two machine learning algorithms implemented in less than 400 lines code of JavaScript. It works well-playing flappy-bird and recognizing MNIST handwritten digit database.</p>
<h2 class="header"><a class="header-anchor" href="#how-would-you-describe-react-lite-to-someone-who-has-never-heard-of-it-" id="how-would-you-describe-react-lite-to-someone-who-has-never-heard-of-it-"></a><span class="text">How would you describe <em>react-lite</em> to someone who has never heard of it?</span><a class="header-anchor-select" href="#how-would-you-describe-react-lite-to-someone-who-has-never-heard-of-it-">#</a></h2>
<p><em>react-lite</em> is a subset of React - just like <em>zepto</em> to <em>jquery</em>. If your <em>react app</em> follows best practices of React, it&#39;s easy to use <em>react-lite</em> to replace React in <a href="https://github.com/Lucifier129/react-lite/blob/master/README.md#usage">a comfortable and safe way</a>. Everything should just work and reduce your JS bundle size by 100 kB+.</p>
<h2 class="header"><a class="header-anchor" href="#how-does-react-lite-work-" id="how-does-react-lite-work-"></a><span class="text">How does <em>react-lite</em> work?</span><a class="header-anchor-select" href="#how-does-react-lite-work-">#</a></h2>
<p>People often ask me a question: How much code you had to drop from React source code to make <em>react-lite</em> so small?</p>
<p>In fact, <em>react-lite</em> is not a fork of React repository. It&#39;s a re-implementation of the same React Public API using ES2015. It ignored the old browsers (such like IE8) to keep itself cleaner and smaller. We don&#39;t need to build a complex custom event-system as React does.</p>
<p>We simply follow the <em>W3C Event</em> which has been implemented in all modern browsers natively. It also made <em>React.PropType</em> to be noop (empty function). It doesn&#39;t implement <em>ReactDOM.renderToString</em> and other React features which are not expected to run in production.</p>
<p>I cherry-picked about 178 unit test suite from React GitHub repository (these are all about React Public API) to make sure <em>react-lite</em> can do the same thing. I created an independent repository(<a href="https://github.com/Lucifier129/react-core-unit-testing">react-core-unit-testing</a> to share the unit test suite.</p>
<p>Anyone can use the test suite to implement their own <em>react-lite</em> or to check compatibility with official React. It will be great if React officially shares the Public API unit test suite in an independent repository one day.</p>
<h2 class="header"><a class="header-anchor" href="#how-does-react-lite-differ-from-other-solutions-" id="how-does-react-lite-differ-from-other-solutions-"></a><span class="text">How does <em>react-lite</em> differ from other solutions?</span><a class="header-anchor-select" href="#how-does-react-lite-differ-from-other-solutions-">#</a></h2>
<p>Honestly speaking, <em>react-lite</em> is slower than <em>inferno</em> and bigger than <em>preact</em>. But, for now, <em>react-lite</em> may be more <em>compatible</em>. Both <em>inferno-compat</em> and <em>preact-compat</em> did not follow the same unit test suite of React Public API, and <em>react-lite</em> now has the best performance in react-core-unit-testing mentioned above.</p>
<p>As we know, <em>inferno</em> and <em>preact</em> are not built for compat, they just have a compat version. It may be hard for them if their custom features cannot keep up the compatibility with React API, or their current implementation can&#39;t simulate the new features of React. For <em>react-lite</em>, that is not a problem as it doesn&#39;t contain any custom features and therefore can be refactored anytime if needed without breaking.</p>
<h2 class="header"><a class="header-anchor" href="#why-did-you-develop-react-lite-" id="why-did-you-develop-react-lite-"></a><span class="text">Why did you develop <em>react-lite</em>?</span><a class="header-anchor-select" href="#why-did-you-develop-react-lite-">#</a></h2>
<p>In 2015/10, I saw some articles explaining how virtual-dom works. I thought I could do it better, so I created a repository named <em>esnext-react</em>, tried to implement a simple React using ES2015, and ran the <a href="http://lucifier129.github.io/react-motion-with-react-lite/index.html">react-motion demo</a> successfully. I felt great when it worked. It&#39;s a very smooth animation written using the good old React API that we know of but running on <em>esnext-react</em>.</p>
<p>In 2015/12, I shared the experience of <em>esnext-react</em> to some people in the Shanghai office of <a href="https://www.strikingly.com/">Strikingly</a>. The audience, include <a href="https://twitter.com/dfguo">Dafeng</a> - the CTO of Strikingly, all think that making a smaller React runtime implementation is a worthwhile thing to do. It can help people who are hesitant to choose React on the mobile web due to the large script size.</p>
<p>Then I renamed <em>esnext-react</em> to <em>react-lite</em>, and started to improve it and bring it into real projects in Ctrip. Now, <em>react-lite</em> is heavily adopted inside the company.</p>
<h2 class="header"><a class="header-anchor" href="#what-next-" id="what-next-"></a><span class="text">What next?</span><a class="header-anchor-select" href="#what-next-">#</a></h2>
<p>Now I am focusing on Isomorphic Web App development. As a result, I have developed the following solutions:</p>
<ul>
<li><a href="https://github.com/Lucifier129/relite">relite</a> is a Redux-like library for managing state with a more straightforward API) for state management.</li>
<li><a href="https://github.com/Lucifier129/create-app">create-app</a> is meant to be configured once. It renders both client and server for a router and allows integrating them with Node.js, React, Isomorphic-fetch, js-cookie, querystring and other isomorphic libraries into react-imvc.</li>
</ul>
<p><a href="https://github.com/Lucifier129/react-imvc">react-imvc</a> is similar to <a href="https://github.com/zeit/next.js">next.js</a> as it helps people to build isomorphic/universal web app more easily. But <em>react-imvc</em> has a different idea, which I call <em>Next generation of Front End MVC Architecture</em>.</p>
<p>The architecture comprises of React/React-lite as the View of MVC, redux-like/relite (state + actions) as the Model of MVC, and ES2015 class as the isomorphic Controller. All the parts of MVC are isomorphic by design. Our web app can do Server-Side-Rendering in Node.js (for SEO and faster initial screen load time) and do Client-Side-Rendering in the browser (for fast user interaction).</p>
<p>Unfortunately, react-imvc documentation is written only in Chinese. I&#39;m planning to translate it into English in the future.</p>
<h2 class="header"><a class="header-anchor" href="#what-does-the-future-look-like-for-react-lite-and-web-development-in-general-can-you-see-any-particular-trends-" id="what-does-the-future-look-like-for-react-lite-and-web-development-in-general-can-you-see-any-particular-trends-"></a><span class="text">What does the future look like for <em>react-lite</em> and web development in general? Can you see any particular trends?</span><a class="header-anchor-select" href="#what-does-the-future-look-like-for-react-lite-and-web-development-in-general-can-you-see-any-particular-trends-">#</a></h2>
<p><em>react-lite</em> does not support React 16 yet because React Fiber is not stable enough. <em>reducing the scripts size</em> is also a plan of React Core Team. React 16 is already much smaller than React 15 is. Maybe it&#39;s not necessary to write a smaller runtime library of React anymore, or perhaps it&#39;s impossible to implement the react-fiber-architecture with less code than React has.</p>
<p>So the future of <em>react-lite</em> is uncertain. It depended on the evolution of React. Anyway, <em>react-lite</em> is still an excellent choice for a mobile site that is following the best practices of React 15 and wants to reduce the bundle size of the js file.</p>
<h2 class="header"><a class="header-anchor" href="#what-advice-would-you-give-to-programmers-getting-into-web-development-" id="what-advice-would-you-give-to-programmers-getting-into-web-development-"></a><span class="text">What advice would you give to programmers getting into web development?</span><a class="header-anchor-select" href="#what-advice-would-you-give-to-programmers-getting-into-web-development-">#</a></h2>
<p>Web development moves faster than you and me. No one can learn everything. But luckily, for most of the libraries or frameworks, we can learn it in a few days.</p>
<p>Since there are too many things to learn, we must prioritize of our learning. For example, between ES2015/TypeScript and React/Vue/Angular, which to learn first? In my opinion, the answer is ES2015/TypeScript. The essential program language features have higher learning priority than libraries/frameworks written using the language.</p>
<p>I also believe in learning by doing, learning by coding, learning by building, and learning by making. The source code of React is complicated, but the original idea of React is quite simple and elegant. Implementing your own React (or any other things you are learning) in an MVP (Minimum Viable Product) way can help us understand them more deeply and clearly, even if the code we had written will never run in production.</p>
<h2 class="header"><a class="header-anchor" href="#who-should-i-interview-next-" id="who-should-i-interview-next-"></a><span class="text">Who should I interview next?</span><a class="header-anchor-select" href="#who-should-i-interview-next-">#</a></h2>
<p>In China, there are many excellent front-end developers. I recommend some of them below:</p>
<ul>
<li><a href="https://github.com/leeluolee">ZhengHaibo</a>, author of <a href="https://github.com/regularjs/regular">regularjs</a>, now works for Netease.</li>
<li><a href="https://github.com/hax">HeShiJun</a>, a evangelist of JavaScript/ECMAScript and Web Standard in China.</li>
<li><a href="https://github.com/yuanyan">yuanyan</a>, author of <a href="https://github.com/alibaba/rax">rax</a>, now works for Alibaba.</li>
<li><a href="https://github.com/kener">linfeng</a>, author of <a href="https://github.com/ecomfe/echarts">echarts</a>, now works for Alibaba.</li>
<li><a href="https://github.com/sorrycc">chencheng</a>, author of <a href="https://github.com/dvajs/dva">dva</a>, now works for Alibaba.</li>
<li><a href="https://github.com/aui">aui</a>, author of <a href="https://github.com/aui/art-template">art-template</a> and <a href="https://github.com/aui/artDialog">artDialog</a>.</li>
</ul>
<h2 class="header"><a class="header-anchor" href="#any-last-remarks-" id="any-last-remarks-"></a><span class="text">Any last remarks?</span><a class="header-anchor-select" href="#any-last-remarks-">#</a></h2>
<p>The language gap between Chinese developers and English developer will become smaller, and I am glad to see we can learn from each other more in the future.</p>
<h2 class="header"><a class="header-anchor" href="#conclusion" id="conclusion"></a><span class="text">Conclusion</span><a class="header-anchor-select" href="#conclusion">#</a></h2>
<p>Thanks for the interview Jade! It was great that you dared to develop <em>react-lite</em> as a light replacement for React. We&#39;ll see how it goes with React 16.</p>
<p>You can <a href="https://github.com/Lucifier129/react-lite">learn more about react-lite at GitHub</a>.</p>
</div><time dateTime="2017-11-06T00:00:00.000Z" class="post__moment">6 Nov 2017</time></div><div class="post__content"><div class="social-links"><h2 class="social-links__header">Subscribe to the blog updates</h2><blockquote class="tip social-links__tip">If you enjoyed this blog post, consider subscribing to the mailing list below or following <a href="https://twitter.com/survivejs">@survivejs</a> for occasional updates. There is also <a href="/atom.xml">RSS</a> available for old beards (no pun intended).</blockquote><form action="//jster.us7.list-manage.com/subscribe/post?u=ed40c0084a0c5ba31b3365d65&amp;amp;id=b853b8e786" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate social-form" target="_blank" novalidate=""><div id="mc_embed_signup_scroll" class="social-form__wrapper"><div class="mc-field-group social-form__input-container"><input type="email" placeholder="Email" value="" name="EMAIL" class="required email social-form__input" id="mce-EMAIL"/></div><div style="display:none;position:absolute;left:-5000px"><input type="text" name="b_ed40c0084a0c5ba31b3365d65_b853b8e786" tabindex="-1" value=""/></div><div class="social-form__subscribe-container"><input type="submit" class="btn button social-form__subscribe" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"/></div></div></form></div><div class="new-prevnext"><div class="new-prevnext__prev"><div class="new-prevnext__bg" style="background-image:url(/85427b194a1e57ad0d505f74c0814465.jpg)"></div><span class="new-prevnext__info">Previous post</span><a class="new-prevnext__link" href="/blog/react-day-berlin-interview/">React Day Berlin - Fully Packed Day of Your Favorite React Content - Interview with Robert Haritonov</a></div><div class="new-prevnext__next"><div class="new-prevnext__bg" style="background-image:url(/55dfb27501254e8ad60a687effe80546.jpg)"></div><span class="new-prevnext__info">Next post</span><a class="new-prevnext__link" href="/blog/cabbie-interview/">Cabbie - WebDriver for the masses - Interview with Forbes Lindesay</a></div></div><div id="disqus_thread"></div></div></div><div><a class="next-page" title="Cabbie - WebDriver for the masses - Interview with Forbes Lindesay" href="/blog/cabbie-interview/"><i class="icon-right-open"></i></a><a class="previous-page" title="React Day Berlin - Fully Packed Day of Your Favorite React Content - Interview with Robert Haritonov" href="/blog/react-day-berlin-interview/"><i class="icon-left-open"></i></a></div><script type="text/javascript">var disqus_shortname = 'survivejs';(function() {var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script></div><div class="nav__wrapper"><input type="checkbox" class="nav__toggle" id="nav__toggle"/><label class="nav__toggle-label" for="nav__toggle"></label><nav class="nav"><div class="nav__link"><a href="/">Home</a></div><div class="nav__link"><a href="/blog/">Read the blog</a></div><div class="nav__link"><a href="/maintenance/">Maintenance book</a></div><div class="nav__link"><a href="/react/">React book</a></div><div class="nav__link"><a href="/webpack/">Webpack book</a></div><div class="nav__link"><a href="/training/">Get training</a></div><div class="nav__link"><a href="https://twitter.com/survivejs">@survivejs</a></div></nav></div><footer><div class="footer-wrapper"><div class="footer-content-wrapper"><div class="footer-social"><h3>Social</h3><ul><li><a href="https://twitter.com/survivejs" target="_blank" rel="noopener noreferrer">@survivejs</a></li><li><a href="http://eepurl.com/bth1v5" target="_blank" rel="noopener noreferrer">Mailing List</a></li><li><a href="https://gitter.im/survivejs" target="_blank" rel="noopener noreferrer">Gitter Chat</a></li><li><a href="https://github.com/survivejs" target="_blank" rel="noopener noreferrer">GitHub</a></li><li><a href="https://presentations.survivejs.com" target="_blank" rel="noopener noreferrer">Presentations</a></li><li><a href="http://goo.gl/forms/OWdGIOdHm9" target="_blank" rel="noopener noreferrer">Contact</a></li><li><a href="https://github.com/survivejs/ama/issues" target="_blank" rel="noopener noreferrer">Ask Me Anything</a></li></ul></div><div class="footer-blog"><h3>From the Blog</h3><ul class="blog-teasers"><li><a class="blog-teaser" href="/blog/redux-form-interview/">Redux Form - The best way to manage your form state in Redux - Interview with Erik Rasmussen</a></li><li><a class="blog-teaser" href="/blog/redux-zero-interview/">Redux Zero - Single Store, No Reducers - Interview with Matheus Lima</a></li><li><a class="blog-teaser" href="/blog/flow-runtime-interview/">Flow Runtime - A runtime type system for JavaScript with full Flow compatibility - Interview with Charles Pick</a></li><li><a class="blog-teaser" href="/blog/a-plus-interview/">a-plus-forms - A+ forms. Would use again - Interview with Nikolay Nemshilov</a></li><li><a class="blog-teaser" href="/blog/survivejs-webpack-and-maintenance/">“SurviveJS — Webpack” v2.1 and “SurviveJS — Maintenance” v0.9</a></li><li><a class="blog-teaser" href="/blog/cabbie-interview/">Cabbie - WebDriver for the masses - Interview with Forbes Lindesay</a></li><li><a class="blog-teaser" href="/blog/react-lite-interview/">react-lite - Implementation of React optimized for small size - Interview with Jade</a></li></ul></div></div></div></footer><div><div class="gitter-open-chat-button">Need help?</div><script type="text/javascript">
          ((window.gitter = {}).chat = {}).options = {
            showChatByDefault: false,
            activationElement: '.gitter-open-chat-button',
            room: 'survivejs/react'
          };
        </script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script></div></div>

    
  </body>
</html>
