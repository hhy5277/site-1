<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui" />
    <meta
      name="description"
      content="
Describing what things are is an essential skill for a programmer. We might do that implicitly, but…" />
    <meta
      name="keywords"
      content="interview,json" />
    <meta property="og:site_name" content="SurviveJS" />
    <meta property="og:title" content="ajv - The Fastest JSON Schema Validator - Interview with Evgeny Poberezkin" />
    <meta property="og:description" content="
Describing what things are is an essential skill for a programmer. We might do that implicitly, but…" />
    <meta name="twitter:title" content="ajv - The Fastest JSON Schema Validator - Interview with Evgeny Poberezkin" />
    <meta name="twitter:description" content="
Describing what things are is an essential skill for a programmer. We might do that implicitly, but…" />
    <meta name="twitter:site" content="@SurviveJS" />
    <title>ajv - The Fastest JSON Schema Validator - Interview with Evgeny Poberezkin</title>
    
    <link rel='icon' type='image/png' href='/favicon.png'></link>

    
      <link href="/site.635738aa9923981190d2.css" rel="stylesheet">
    

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"
    />
  </head>
  <body>
    <div><div class="page"><div class="header-image" style="background-image:url(/5edf7bdd828a926e92fb0559c4216087.jpg)"></div><h1 class="page__heading">ajv - The Fastest JSON Schema Validator - Interview with Evgeny Poberezkin</h1><div class="page__container"><div class="css-xfgthk css-vx21s00"><label for="sidebar-toggle" class="css-7vv0nt css-vx21s02">Table of contents</label><input type="checkbox" id="sidebar-toggle" class="css-38lglc css-vx21s03"/><div class="css-1n6ynno css-vx21s01"><div class="toc-nav__wrapper"><div><div><h4 class="toc-nav--header">Interviews</h4><ul class="toc-nav"><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/parket-interview/">Parket - A state management library inspired by mobx-state-tree - Interview with Leah Ullmann</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/substyle-interview/">substyle - Build Styling Agnostic Components for React - Interview with Jan-Felix Schwarz</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/illuminate-interview/">Illuminate - Syntax highlighter for Node - Interview with Vivek Bansal</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/logux-interview/">Logux - Replace AJAX-REST - Interview with Andrey Sitnik</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/fastify-interview/">Fastify - Fast and low overhead web framework for Node.js - Interview with Tomas Della Vedova</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/bem-interview/">BEM - Methodology to enable reuse in front-end development - Interview with Sergey Berezhnoy</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/controllerim-interview/">controllerim - MobX Inspired State Management for React - Interview with Nir Yosef</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/react-finland-interview/">React Finland - Your Chance to Learn React Up North - Interview with Juho Vepsäläinen</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/redux-saga-test-plan-interview/">redux-saga-test-plan - Test Redux Saga with an easy plan - Interview with Jeremy Fairbank</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/redux-form-interview/">Redux Form - The best way to manage your form state in Redux - Interview with Erik Rasmussen</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/redux-zero-interview/">Redux Zero - Single Store, No Reducers - Interview with Matheus Lima</a></li></ul></div><div></div></div></div></div></div><div class="page__main"><div class="page__section"><div><p>Describing what things are is an essential skill for a programmer. We might do that implicitly, but we often have to think about structure regardless. <a href="http://json-schema.org/">JSON Schema</a> is a specification that allows us to do this in a more formal manner.</p>
<p>Assuming you were creating a form, you could describe its fields and their details using a schema. Once you have a schema, you could generate the form and its validation based on that information.</p>
<p>The same idea applies to tools like <a href="https://webpack.js.org/">webpack</a>. There we use a JSON Schema to describe the configuration webpack expects. This way you can get a schema invalidation error over a cryptic runtime one which you would have to debug.</p>
<p>Underneath webpack uses a library known as Ajv by <a href="https://twitter.com/EPoberezkin">Evgeny Poberezkin</a> to handle validation. Read on to learn more about JSON Schema and the library itself.</p>
<h2 class="header"><a class="header-anchor" href="#can-you-tell-a-bit-about-yourself-" id="can-you-tell-a-bit-about-yourself-"></a><span class="text">Can you tell a bit about yourself?</span><a class="header-anchor-select" href="#can-you-tell-a-bit-about-yourself-">#</a></h2>
<p>
<span class="author">
  <img src="https://www.gravatar.com/avatar/f0e97301983c1019d98740935009ab6e?s=200" alt="Evgeny Poberezkin" class="author" width="100" height="100" />
</span>

I&#39;ve been interested in software since school. I&#39;ve spent a big part of my life creating and managing businesses, only occasionally creating software for them. I&#39;ve been coding full time for several years. Currently I lead the team of great software engineers at <a href="http://dailymail.co.uk">MailOnline</a> (and we are hiring!).
</p>

<h2 class="header"><a class="header-anchor" href="#how-would-you-describe-ajv-to-someone-who-has-never-heard-of-it-" id="how-would-you-describe-ajv-to-someone-who-has-never-heard-of-it-"></a><span class="text">How would you describe <em>Ajv</em> to someone who has never heard of it?</span><a class="header-anchor-select" href="#how-would-you-describe-ajv-to-someone-who-has-never-heard-of-it-">#</a></h2>
<p><a href="https://github.com/epoberezkin/ajv">Ajv</a> implements <a href="http://json-schema.org">JSON Schema</a> - a standard to describe and validate a JSON document using a schema. For example, the schema below describes an object that must have two properties: &quot;first_name&quot; and &quot;last_name&quot;.</p>
<pre><code class="lang-json"><span class="token punctuation brackets-braces" >{</span>
  <span class="token property" >"type"</span><span class="token operator" >:</span> <span class="token string" >"object"</span><span class="token punctuation" >,</span>
  <span class="token property" >"required"</span><span class="token operator" >:</span> <span class="token punctuation brackets-square" >[</span><span class="token string" >"first_name"</span><span class="token punctuation" >,</span> <span class="token string" >"last_name"</span><span class="token punctuation brackets-square" >]</span><span class="token punctuation" >,</span>
  <span class="token property" >"properties"</span><span class="token operator" >:</span> <span class="token punctuation brackets-braces" >{</span>
    <span class="token property" >"first_name"</span><span class="token operator" >:</span> <span class="token punctuation brackets-braces" >{</span> <span class="token property" >"type"</span><span class="token operator" >:</span> <span class="token string" >"string"</span> <span class="token punctuation brackets-braces" >}</span><span class="token punctuation" >,</span>
    <span class="token property" >"last_name"</span><span class="token operator" >:</span> <span class="token punctuation brackets-braces" >{</span> <span class="token property" >"type"</span><span class="token operator" >:</span> <span class="token string" >"string"</span> <span class="token punctuation brackets-braces" >}</span>
  <span class="token punctuation brackets-braces" >}</span>
<span class="token punctuation brackets-braces" >}</span>
</code></pre>
<p>To comply with the schema, you could write a definition like this:</p>
<pre><code class="lang-json"><span class="token punctuation brackets-braces" >{</span>
  <span class="token property" >"first_name"</span><span class="token operator" >:</span> <span class="token string" >"John"</span><span class="token punctuation" >,</span>
  <span class="token property" >"last_name"</span><span class="token operator" >:</span> <span class="token string" >"Doe"</span>
<span class="token punctuation brackets-braces" >}</span>
</code></pre>
<p>Assuming you provided a wrong type or failed to pass a required field to the schema, the validation step would fail. This way you can know for sure that your data is exactly the way you expect it to be. Beyond simple field definitions, you could describe how data relates to each other. Even more complex invariants are possible.</p>
<p>Ajv implements several extensions to JSON Schema specification (e.g., <a href="https://github.com/epoberezkin/ajv#data-reference">$data reference</a>) and allows users to define their own custom keywords. <a href="https://github.com/epoberezkin/ajv-keywords">ajv-keywords</a> defines several useful keywords, some of which will be included in the next versions of JSON Schema specification - <code>propertyNames</code> is included in draft-06 (soon to be published) and <code>if/then/else</code> is considered for draft-07.</p>
<h2 class="header"><a class="header-anchor" href="#how-does-ajv-work-" id="how-does-ajv-work-"></a><span class="text">How does <em>Ajv</em> work?</span><a class="header-anchor-select" href="#how-does-ajv-work-">#</a></h2>
<p>Ajv compiles JSON Schema into JavaScript - it generates the code used to validate user data against the constraints defined in the original JSON Schema (and creates a validation function using the <code>Function</code> constructor).</p>
<p>For example, use this code to compile the above schema to a validation function:</p>
<pre><code class="lang-javascript"><span class="token keyword keyword-const" >const</span> Ajv <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation brackets-parentheses" >(</span><span class="token string" >'Ajv'</span><span class="token punctuation brackets-parentheses" >)</span><span class="token punctuation" >;</span>
<span class="token keyword keyword-const" >const</span> ajv <span class="token operator" >=</span> <span class="token keyword keyword-new" >new</span> <span class="token class-name" >Ajv</span><span class="token punctuation brackets-parentheses" >(</span><span class="token punctuation brackets-braces" >{</span>allErrors<span class="token punctuation" >:</span> <span class="token boolean" >true</span><span class="token punctuation brackets-braces" >}</span><span class="token punctuation brackets-parentheses" >)</span><span class="token punctuation" >;</span>

<span class="token comment" spellcheck="true" >// Schema from the example above</span>
<span class="token keyword keyword-const" >const</span> validate <span class="token operator" >=</span> ajv<span class="token punctuation" >.</span><span class="token function" >compile</span><span class="token punctuation brackets-parentheses" >(</span>schema<span class="token punctuation brackets-parentheses" >)</span><span class="token punctuation" >;</span>

console<span class="token punctuation" >.</span><span class="token function" >log</span><span class="token punctuation brackets-parentheses" >(</span>validate<span class="token punctuation" >.</span><span class="token function" >toString</span><span class="token punctuation brackets-parentheses" >(</span><span class="token punctuation brackets-parentheses" >)</span><span class="token punctuation brackets-parentheses" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>The result of the compilation is a JavaScript function:</p>
<pre><code class="lang-javascript"><span class="token keyword keyword-function" >function</span><span class="token punctuation brackets-parentheses" >(</span>data <span class="token comment" spellcheck="true" >/*, ... */</span><span class="token punctuation brackets-parentheses" >)</span> <span class="token punctuation brackets-braces" >{</span>
  <span class="token string" >'use strict'</span><span class="token punctuation" >;</span>
  <span class="token keyword keyword-var" >var</span> vErrors <span class="token operator" >=</span> <span class="token keyword keyword-null" >null</span><span class="token punctuation" >;</span>
  <span class="token keyword keyword-var" >var</span> errors <span class="token operator" >=</span> <span class="token number" >0</span><span class="token punctuation" >;</span>

  <span class="token keyword keyword-if" >if</span> <span class="token punctuation brackets-parentheses" >(</span><span class="token punctuation brackets-parentheses" >(</span>data <span class="token operator" >&amp;&amp;</span> <span class="token keyword keyword-typeof" >typeof</span> data <span class="token operator" >===</span> <span class="token string" >"object"</span> <span class="token operator" >&amp;&amp;</span> <span class="token operator" >!</span>Array<span class="token punctuation" >.</span><span class="token function" >isArray</span><span class="token punctuation brackets-parentheses" >(</span>data<span class="token punctuation brackets-parentheses" >)</span><span class="token punctuation brackets-parentheses" >)</span><span class="token punctuation brackets-parentheses" >)</span> <span class="token punctuation brackets-braces" >{</span>
    <span class="token keyword keyword-if" >if</span> <span class="token punctuation brackets-parentheses" >(</span>data<span class="token punctuation" >.</span>first_name <span class="token operator" >===</span> undefined<span class="token punctuation brackets-parentheses" >)</span> <span class="token punctuation brackets-braces" >{</span>
      <span class="token keyword keyword-var" >var</span> err <span class="token operator" >=</span> <span class="token punctuation brackets-braces" >{</span> keyword<span class="token punctuation" >:</span> <span class="token string" >'required'</span> <span class="token comment" spellcheck="true" >/*, ... */</span> <span class="token punctuation brackets-braces" >}</span><span class="token punctuation" >;</span>

      <span class="token keyword keyword-if" >if</span> <span class="token punctuation brackets-parentheses" >(</span>vErrors <span class="token operator" >===</span> <span class="token keyword keyword-null" >null</span><span class="token punctuation brackets-parentheses" >)</span> <span class="token punctuation brackets-braces" >{</span>
        vErrors <span class="token operator" >=</span> <span class="token punctuation brackets-square" >[</span>err<span class="token punctuation brackets-square" >]</span><span class="token punctuation" >;</span>
      <span class="token punctuation brackets-braces" >}</span> <span class="token keyword keyword-else" >else</span> <span class="token punctuation brackets-braces" >{</span>
        vErrors<span class="token punctuation" >.</span><span class="token function" >push</span><span class="token punctuation brackets-parentheses" >(</span>err<span class="token punctuation brackets-parentheses" >)</span><span class="token punctuation" >;</span>
      <span class="token punctuation brackets-braces" >}</span>

      errors<span class="token operator" >++</span><span class="token punctuation" >;</span>
    <span class="token punctuation brackets-braces" >}</span> <span class="token keyword keyword-else" >else</span> <span class="token keyword keyword-if" >if</span> <span class="token punctuation brackets-parentheses" >(</span><span class="token keyword keyword-typeof" >typeof</span> data<span class="token punctuation" >.</span>first_name <span class="token operator" >!==</span> <span class="token string" >"string"</span><span class="token punctuation brackets-parentheses" >)</span> <span class="token punctuation brackets-braces" >{</span>
      <span class="token keyword keyword-var" >var</span> err <span class="token operator" >=</span> <span class="token punctuation brackets-braces" >{</span> keyword<span class="token punctuation" >:</span> <span class="token string" >'type'</span> <span class="token comment" spellcheck="true" >/*, ... */</span> <span class="token punctuation brackets-braces" >}</span><span class="token punctuation" >;</span>

      <span class="token keyword keyword-if" >if</span> <span class="token punctuation brackets-parentheses" >(</span>vErrors <span class="token operator" >===</span> <span class="token keyword keyword-null" >null</span><span class="token punctuation brackets-parentheses" >)</span> <span class="token punctuation brackets-braces" >{</span>
        vErrors <span class="token operator" >=</span> <span class="token punctuation brackets-square" >[</span>err<span class="token punctuation brackets-square" >]</span><span class="token punctuation" >;</span>
      <span class="token punctuation brackets-braces" >}</span> <span class="token keyword keyword-else" >else</span> <span class="token punctuation brackets-braces" >{</span>
        vErrors<span class="token punctuation" >.</span><span class="token function" >push</span><span class="token punctuation brackets-parentheses" >(</span>err<span class="token punctuation brackets-parentheses" >)</span><span class="token punctuation" >;</span>
      <span class="token punctuation brackets-braces" >}</span>

      errors<span class="token operator" >++</span><span class="token punctuation" >;</span>
    <span class="token punctuation brackets-braces" >}</span>
    <span class="token keyword keyword-if" >if</span> <span class="token punctuation brackets-parentheses" >(</span>data<span class="token punctuation" >.</span>last_name <span class="token operator" >===</span> undefined<span class="token punctuation brackets-parentheses" >)</span> <span class="token punctuation brackets-braces" >{</span>
      <span class="token keyword keyword-var" >var</span> err <span class="token operator" >=</span> <span class="token punctuation brackets-braces" >{</span> keyword<span class="token punctuation" >:</span> <span class="token string" >'required'</span> <span class="token comment" spellcheck="true" >/*, ... */</span> <span class="token punctuation brackets-braces" >}</span><span class="token punctuation" >;</span>

      <span class="token keyword keyword-if" >if</span> <span class="token punctuation brackets-parentheses" >(</span>vErrors <span class="token operator" >===</span> <span class="token keyword keyword-null" >null</span><span class="token punctuation brackets-parentheses" >)</span> <span class="token punctuation brackets-braces" >{</span>
        vErrors <span class="token operator" >=</span> <span class="token punctuation brackets-square" >[</span>err<span class="token punctuation brackets-square" >]</span><span class="token punctuation" >;</span>
      <span class="token punctuation brackets-braces" >}</span> <span class="token keyword keyword-else" >else</span> <span class="token punctuation brackets-braces" >{</span>
        vErrors<span class="token punctuation" >.</span><span class="token function" >push</span><span class="token punctuation brackets-parentheses" >(</span>err<span class="token punctuation brackets-parentheses" >)</span><span class="token punctuation" >;</span>
      <span class="token punctuation brackets-braces" >}</span>

      errors<span class="token operator" >++</span><span class="token punctuation" >;</span>
    <span class="token punctuation brackets-braces" >}</span> <span class="token keyword keyword-else" >else</span> <span class="token keyword keyword-if" >if</span> <span class="token punctuation brackets-parentheses" >(</span><span class="token keyword keyword-typeof" >typeof</span> data<span class="token punctuation" >.</span>last_name <span class="token operator" >!==</span> <span class="token string" >"string"</span><span class="token punctuation brackets-parentheses" >)</span> <span class="token punctuation brackets-braces" >{</span>
      <span class="token keyword keyword-var" >var</span> err <span class="token operator" >=</span> <span class="token punctuation brackets-braces" >{</span> keyword<span class="token punctuation" >:</span> <span class="token string" >'type'</span> <span class="token comment" spellcheck="true" >/*, ... */</span> <span class="token punctuation brackets-braces" >}</span><span class="token punctuation" >;</span>

      <span class="token keyword keyword-if" >if</span> <span class="token punctuation brackets-parentheses" >(</span>vErrors <span class="token operator" >===</span> <span class="token keyword keyword-null" >null</span><span class="token punctuation brackets-parentheses" >)</span> <span class="token punctuation brackets-braces" >{</span>
        vErrors <span class="token operator" >=</span> <span class="token punctuation brackets-square" >[</span>err<span class="token punctuation brackets-square" >]</span><span class="token punctuation" >;</span>
      <span class="token punctuation brackets-braces" >}</span> <span class="token keyword keyword-else" >else</span> <span class="token punctuation brackets-braces" >{</span>
        vErrors<span class="token punctuation" >.</span><span class="token function" >push</span><span class="token punctuation brackets-parentheses" >(</span>err<span class="token punctuation brackets-parentheses" >)</span><span class="token punctuation" >;</span>
      <span class="token punctuation brackets-braces" >}</span>

      errors<span class="token operator" >++</span><span class="token punctuation" >;</span>
    <span class="token punctuation brackets-braces" >}</span>
  <span class="token punctuation brackets-braces" >}</span> <span class="token keyword keyword-else" >else</span> <span class="token punctuation brackets-braces" >{</span>
    <span class="token keyword keyword-var" >var</span> err <span class="token operator" >=</span> <span class="token punctuation brackets-braces" >{</span> keyword<span class="token punctuation" >:</span> <span class="token string" >'type'</span> <span class="token comment" spellcheck="true" >/*, ... */</span> <span class="token punctuation brackets-braces" >}</span><span class="token punctuation" >;</span>

    <span class="token keyword keyword-if" >if</span> <span class="token punctuation brackets-parentheses" >(</span>vErrors <span class="token operator" >===</span> <span class="token keyword keyword-null" >null</span><span class="token punctuation brackets-parentheses" >)</span> <span class="token punctuation brackets-braces" >{</span>
      vErrors <span class="token operator" >=</span> <span class="token punctuation brackets-square" >[</span>err<span class="token punctuation brackets-square" >]</span><span class="token punctuation" >;</span>
    <span class="token punctuation brackets-braces" >}</span> <span class="token keyword keyword-else" >else</span> <span class="token punctuation brackets-braces" >{</span>
      vErrors<span class="token punctuation" >.</span><span class="token function" >push</span><span class="token punctuation brackets-parentheses" >(</span>err<span class="token punctuation brackets-parentheses" >)</span><span class="token punctuation" >;</span>
    <span class="token punctuation brackets-braces" >}</span>

    errors<span class="token operator" >++</span><span class="token punctuation" >;</span>
  <span class="token punctuation brackets-braces" >}</span>

  validate<span class="token punctuation" >.</span>errors <span class="token operator" >=</span> vErrors<span class="token punctuation" >;</span>
  <span class="token keyword keyword-return" >return</span> errors <span class="token operator" >===</span> <span class="token number" >0</span><span class="token punctuation" >;</span>
<span class="token punctuation brackets-braces" >}</span>
</code></pre>
<p>The generated function performs validation against exactly the schema above without using the schema itself - all the keywords are translated into code.</p>
<p>The generated code is verbose. However, it is very efficient as it has no loops or function calls. The developer does not need to see the generated code to use it, so the size doesn&#39;t matter.</p>
<p>There are several other validators using the same approach - it allows to achieve more than 100 times performance of interpreting validators.</p>
<h2 class="header"><a class="header-anchor" href="#how-does-ajv-differ-from-other-solutions-" id="how-does-ajv-differ-from-other-solutions-"></a><span class="text">How does <em>Ajv</em> differ from other solutions?</span><a class="header-anchor-select" href="#how-does-ajv-differ-from-other-solutions-">#</a></h2>
<p>Ajv is the fastest JSON Schema validator - in <a href="https://github.com/pandastrike/jsck#benchmarks">some tests</a> it is almost 3 times faster than the nearest alternative.</p>
<p>Its main advantage is that it is the most standard-compliant JavaScript validator, particularly when it comes to resolving references between schemas - all other validators have <a href="https://github.com/epoberezkin/test-validators#most-failed-tests-related-to-ref">limited support of references</a>.</p>
<p>Ajv is also the most extensible validator - it allows to create custom validation keywords in <a href="https://github.com/epoberezkin/ajv/blob/master/CUSTOM.md">several different ways</a> and also has support of <a href="https://github.com/epoberezkin/ajv#asynchronous-validation">asynchronous validation</a> (when validation keywords make asynchronous calls). Users have managed to use this functionality to include the business logic validation into their schemas, that is often more manageable than having it in the code.</p>
<h2 class="header"><a class="header-anchor" href="#why-did-you-develop-ajv-" id="why-did-you-develop-ajv-"></a><span class="text">Why did you develop <em>Ajv</em>?</span><a class="header-anchor-select" href="#why-did-you-develop-ajv-">#</a></h2>
<p>I was working on <a href="http://www.jsonscript.org">JSONScript</a> (a language for scripted server-side processing of existing endpoints and services). I needed a JSON Schema validator. However, all the existing validators were failing in some of my tests – tests that were expected to pass according to the JSON Schema specification.</p>
<p>Before Ajv I created <a href="https://github.com/epoberezkin/json-schema-consolidate">json-schema-consolidate</a> - a collection of adapters to many JavaScript validators to be able to switch between them easily without changing my code. I&#39;ve learned a lot about the inner workings of the validators and I&#39;ve found out that there was no validator as good as I needed. So I decided to create another JSON Schema validator.</p>
<h2 class="header"><a class="header-anchor" href="#what-next-" id="what-next-"></a><span class="text">What next?</span><a class="header-anchor-select" href="#what-next-">#</a></h2>
<p>One of the problems in JSON Schema adoption is the lack of tools to test the schemas. From what I have observed, developers write only a handful of tests where validation passes and from these tests make a conclusion that their schemas are correct. Even an empty schema <code>{}</code> without any keywords would satisfy all passing tests!</p>
<p>The only way to thoroughly test JSON Schemas is to write tests when validation fails sufficient to cover all keywords used in the schema. But how &quot;sufficient to cover&quot; can be measured?</p>
<h3 class="header"><a class="header-anchor" href="#testing-schemas" id="testing-schemas"></a><span class="text">Testing Schemas</span><a class="header-anchor-select" href="#testing-schemas">#</a></h3>
<p>Given that Ajv compiles schemas to JavaScript functions, it is possible to measure <strong>code coverage</strong> of the schemas. The problem though is that the coverage reports are not very useful - it is not very easy to see JSON Schemas behind generated JavaScript code (as you can see in the earlier example).</p>
<p>I&#39;ve started working on tools that allow to test schemas and generate code coverage reports. These packages can already be used:</p>
<ul>
<li><a href="https://github.com/MailOnline/json-schema-test">json-schema-test</a> - a package that was used in Ajv from the very beginning to execute platform independent tests that are written as JSON files in <a href="https://github.com/json-schema-org/JSON-Schema-Test-Suite">the same format</a> that JSON Schema specification uses. Although this format was created to test validators with very simple schemas it can be used to test schemas (assuming that the validator is working correctly).</li>
<li><a href="https://github.com/epoberezkin/ajv-istanbul">ajv-istanbul</a> - a package to instrument generated validation code to measure its code coverage.</li>
<li><a href="https://github.com/epoberezkin/json-source-map">json-source-map</a> - a package to parse/stringify JSON and to provide source-map for JSON-pointers to all nodes.</li>
</ul>
<h3 class="header"><a class="header-anchor" href="#current-work" id="current-work"></a><span class="text">Current Work</span><a class="header-anchor-select" href="#current-work">#</a></h3>
<p>I am working on adding source maps to generated validation code (where the &quot;source code&quot; is JSON Schema itself) and on generating coverage reports for JSON Schemas. That would allow to test JSON Schemas using JSON files as test cases and measuring code coverage in a platform independent way.</p>
<p>It can be used for schemas used in any language. This assumes that the validator available in that language complies with the standard.</p>
<h2 class="header"><a class="header-anchor" href="#what-does-the-future-look-like-for-ajv-and-web-development-in-general-can-you-see-any-particular-trends-" id="what-does-the-future-look-like-for-ajv-and-web-development-in-general-can-you-see-any-particular-trends-"></a><span class="text">What does the future look like for <em>Ajv</em> and web development in general? Can you see any particular trends?</span><a class="header-anchor-select" href="#what-does-the-future-look-like-for-ajv-and-web-development-in-general-can-you-see-any-particular-trends-">#</a></h2>
<p>The next major version of Ajv will implement the next version of JSON Schema standard (draft-06) that should be published very soon. <a href="https://github.com/epoberezkin/ajv/tree/5.0.1-beta.1">Beta version</a> of Ajv that supports preliminary draft-06 specification is already available.</p>
<p>With JSON Schema coverage tool I described above it will be possible to use Ajv to help develop validators for other languages. I believe that JSON Schema specification still requires both some simplification and at the same time some additional features to make it more flexible and powerful.</p>
<h3 class="header"><a class="header-anchor" href="#reactive-programming-explicit-and-implicit-graphs" id="reactive-programming-explicit-and-implicit-graphs"></a><span class="text">Reactive Programming - Explicit and Implicit Graphs</span><a class="header-anchor-select" href="#reactive-programming-explicit-and-implicit-graphs">#</a></h3>
<p>Regarding the web, I think the most promising developments are happening in <strong>reactive programming</strong>. I think with React etc. we are only making the first steps. Reactive programming paradigm allows to define a graph connecting different parts of application data/state using some expressions/rules. There are two different approaches in defining such graphs - explicit and implicit.</p>
<p>In the explicit approach the graph is defined using some syntax connecting data structures (it is used in some libraries for JavaScript, e.g. <a href="https://github.com/milojs/milo">milojs</a>). In the implicit one, the observer pattern is used to translate messages to the changes in data/application state (e.g. React/Redux).</p>
<p>While the second approach is easier to implement and in some cases it allows to better manage some common reactive programming problems (glitches, cycles, mutable state, race conditions), the advantage of the first approach is that it allows to write code at a higher level of abstraction.</p>
<p>I think in the near future we will see new implementations of explicit approach to building data graph in JavaScript. It can be a library, syntax extensions or even a whole new language that allows to explicitly define data graph without worrying about internal mechanics of change propagation.</p>
<h3 class="header"><a class="header-anchor" href="#abstraction-of-html-css" id="abstraction-of-html-css"></a><span class="text">Abstraction of HTML/CSS</span><a class="header-anchor-select" href="#abstraction-of-html-css">#</a></h3>
<p>I also hope that we will either see some new web standard for defining UI in the browser that could supersede HTML/CSS or at the very least some mature libraries that abstract these details from the developer.</p>
<p>HTML/CSS that was created for hypertext documents seems very clunky when used for building UI. Although it keeps millions of web-developers busy, I think they could achieve much more with something more suitable for UI creation. Web components seem to be a step in that direction.</p>
<h2 class="header"><a class="header-anchor" href="#what-advice-would-you-give-to-programmers-getting-into-web-development-" id="what-advice-would-you-give-to-programmers-getting-into-web-development-"></a><span class="text">What advice would you give to programmers getting into web development?</span><a class="header-anchor-select" href="#what-advice-would-you-give-to-programmers-getting-into-web-development-">#</a></h2>
<p>I think the most important thing is to understand the foundations of the technologies you are using - JavaScript features (closures, classes, prototypes, etc.), DOM API and node.js core packages, rather than limit your understanding to a particular library/framework APIs and conventions.</p>
<p>Firstly, because the foundational technologies have much longer life cycle than frameworks, so any time spent learning them is a long term investment. Secondly, because by understanding the foundation of the frameworks you use you can easily solve problems that these frameworks can&#39;t help you with.</p>
<p>I think it&#39;s important to be able to solve the problem by just writing code rather than only be able to glue together pieces created by other people - I see that a bit too often when developers try to avoid writing code manipulating some simple data structures.</p>
<p>It&#39;s also very important to be very critical, I&#39;d even say skeptical, towards all new tools and libraries, particularly those that generate a lot of hype. Quite a few of them may spend more of your time than they promise to save. Some others may simply not be around in 3-5 years. So heavily relying on them should be a carefully made decision rather than a default choice.</p>
<h2 class="header"><a class="header-anchor" href="#who-should-i-interview-next-" id="who-should-i-interview-next-"></a><span class="text">Who should I interview next?</span><a class="header-anchor-select" href="#who-should-i-interview-next-">#</a></h2>
<p>I think your readers could be interested to learn about <a href="https://github.com/MatAtBread/nodent">nodent</a> - <code>async</code>/<code>await</code> transpiler created by <a href="https://github.com/MatAtBread">Matt Woolf</a> that generates the fastest ES5 code. It&#39;s been tested with Ajv for asynchronous validation and I can say that it is much more performant and stable than the alternatives.</p>
<p>Also, I would be quite interested to read about the history and the future of Istanbul - code coverage library created by <a href="https://github.com/gotwarlost">Krishnan Anantheswaran</a>. This library revolutionised the way we write and test JavaScript code.</p>
<h2 class="header"><a class="header-anchor" href="#conclusion" id="conclusion"></a><span class="text">Conclusion</span><a class="header-anchor-select" href="#conclusion">#</a></h2>
<p>Thanks for the interview Evgeny! I&#39;ve seen the power of schema many times and it feels like an underappreciated approach especially in front-end.</p>
<p>By relying on a standard, like JSON Schema, you simply eliminate a part of the work altogether and can focus on something more important. That said, there are always cases a standard won&#39;t cover, but regardless I would recommend studying the idea of schemas.</p>
<p>There are several tutorials about JSON Schema, e.g. a <a href="https://spacetelescope.github.io/understanding-json-schema/">very good guide</a> for schema authors by the Space Telescope Science Institute. Evgeny has also written a <a href="https://code.tutsplus.com/tutorials/validating-data-with-json-schema-part-1--cms-25343">tutorial about JSON Schema</a> that is available on tuts+. <a href="https://epoberezkin.github.io/ajv/">The site of Ajv</a> is worth studying and you can <a href="https://github.com/epoberezkin/ajv">find the project on GitHub</a>.</p>
</div><time dateTime="2017-01-23T00:00:00.000Z" class="post__moment">23 Jan 2017</time></div><div class="page__section"><div class="social-links"><h2 class="social-links__header">Subscribe to the blog updates</h2><blockquote class="tip social-links__tip">If you enjoyed this blog post, consider subscribing to the mailing list below or following <a href="https://twitter.com/survivejs">@survivejs</a> for occasional updates. There is also <a href="/atom.xml">RSS</a> available for old beards (no pun intended).</blockquote><form action="//jster.us7.list-manage.com/subscribe/post?u=ed40c0084a0c5ba31b3365d65&amp;id=b853b8e786" method="post" target="_blank" class="css-1nfeoes css-va8n550"><input type="email" class="css-baseStyle-1jrw962 css-inputStyle-16d70pc" placeholder="Email" name="EMAIL" id="mce-EMAIL" required=""/><div style="display:none;position:absolute;left:-5000px"><input type="text" name="b_ed40c0084a0c5ba31b3365d65_b853b8e786" tabindex="-1" value=""/></div><input type="submit" class="css-baseStyle-1jrw962 css-buttonStyle-1y781j1" value="Subscribe" name="subscribe"/></form></div><div class="css-r9vozr css-7ic71f0"><div class="css-panel-1asgzqv css-panelPrev-h368eu"><div class="css-1njlj0m css-7ic71f1">Previous post</div><a class="css-link-h8hsyv css-linkPrev-966ksh" href="/blog/survivejs-webpack-160/">SurviveJS - Webpack - v1.6.0</a></div><div class="css-panel-1asgzqv css-panelNext-1i6c957"><div class="css-1njlj0m css-7ic71f1">Next post</div><a class="css-link-h8hsyv css-linkNext-1a0mc68" href="/blog/survivejs-webpack-170/">SurviveJS - Webpack - v1.7.0</a></div></div><div id="disqus_thread"></div><script type="text/javascript">var disqus_shortname = 'survivejs';(function() {var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script></div><div><a class="next-page" title="SurviveJS - Webpack - v1.7.0" href="/blog/survivejs-webpack-170/"><i class="icon-right-open"></i></a><a class="previous-page" title="SurviveJS - Webpack - v1.6.0" href="/blog/survivejs-webpack-160/"><i class="icon-left-open"></i></a></div></div></div></div><div class="nav__wrapper"><input type="checkbox" class="nav__toggle" id="nav__toggle"/><label class="nav__toggle-label" for="nav__toggle"></label><nav class="nav"><div class="nav__link"><a href="/">Home</a></div><div class="nav__selected__link"><a href="/blog/">Read the blog</a></div><div class="nav__link"><a href="/maintenance/">Maintenance book</a></div><div class="nav__link"><a href="/react/">React book</a></div><div class="nav__link"><a href="/webpack/">Webpack book</a></div><div class="nav__link"><a href="/training/">Hire me</a></div><div class="nav__link"><a href="https://twitter.com/survivejs">@survivejs</a></div></nav></div><footer class="css-eo7znu css-iscbe10"><ul class="css-jtawwa css-iscbe13 css-6482o6 css-3yjlwf0"><li class="css-haw22i css-iscbe14 css-10ozgd1 css-17pd6qu0"><a href="https://twitter.com/survivejs" target="_blank" rel="noopener noreferrer">@survivejs</a></li><li class="css-haw22i css-iscbe14 css-10ozgd1 css-17pd6qu0"><a href="http://eepurl.com/bth1v5" target="_blank" rel="noopener noreferrer">Mailing List</a></li><li class="css-haw22i css-iscbe14 css-10ozgd1 css-17pd6qu0"><a href="https://gitter.im/survivejs" target="_blank" rel="noopener noreferrer">Gitter Chat</a></li><li class="css-haw22i css-iscbe14 css-10ozgd1 css-17pd6qu0"><a href="https://github.com/survivejs" target="_blank" rel="noopener noreferrer">GitHub</a></li><li class="css-haw22i css-iscbe14 css-10ozgd1 css-17pd6qu0"><a href="https://presentations.survivejs.com" target="_blank" rel="noopener noreferrer">Presentations</a></li><li class="css-haw22i css-iscbe14 css-10ozgd1 css-17pd6qu0"><a href="http://goo.gl/forms/OWdGIOdHm9" target="_blank" rel="noopener noreferrer">Contact</a></li><li class="css-haw22i css-iscbe14 css-10ozgd1 css-17pd6qu0"><a href="https://github.com/survivejs/ama/issues" target="_blank" rel="noopener noreferrer">Ask Me Anything</a></li><li class="css-haw22i css-iscbe14 css-10ozgd1 css-17pd6qu0"><a href="/atom.xml" target="_blank" rel="noopener noreferrer">RSS</a></li></ul><div class="css-1gd1yml css-iscbe11"><h3 class="css-oi3rzz css-iscbe12">From the Blog</h3><ul class="blog-teasers"><li><a class="blog-teaser" href="/blog/parket-interview/">Parket - A state management library inspired by mobx-state-tree - Interview with Leah Ullmann</a></li><li><a class="blog-teaser" href="/blog/substyle-interview/">substyle - Build Styling Agnostic Components for React - Interview with Jan-Felix Schwarz</a></li><li><a class="blog-teaser" href="/blog/agentconf-2018/">Experiences on AgentConf 2018</a></li><li><a class="blog-teaser" href="/blog/scriptconf-2018/">Experiences on ScriptConf 2018</a></li><li><a class="blog-teaser" href="/blog/illuminate-interview/">Illuminate - Syntax highlighter for Node - Interview with Vivek Bansal</a></li><li><a class="blog-teaser" href="/blog/logux-interview/">Logux - Replace AJAX-REST - Interview with Andrey Sitnik</a></li><li><a class="blog-teaser" href="/blog/fastify-interview/">Fastify - Fast and low overhead web framework for Node.js - Interview with Tomas Della Vedova</a></li></ul></div><ul class="css-6482o6 css-3yjlwf0"><li class="css-jtawwa css-3bvg0c0 css-10ozgd1 css-17pd6qu0"><a href="/maintenance/introduction"><img alt="Maintenance book cover" src="/44f3a3a3dad86956efa57dea740c5d44.png" width="255" height="329" class="css-1d87hyi css-3bvg0c1"/></a><a class="btn btn--normal css-button-v0k0bo" href="https://leanpub.com/survivejs-maintenance">Buy at Leanpub</a></li><li class="css-jtawwa css-3bvg0c0 css-10ozgd1 css-17pd6qu0"><a href="/react/introduction"><img alt="React book cover" src="/b61671d95f81496495f2587a10ddb122.png" width="255" height="329" class="css-1d87hyi css-3bvg0c1"/></a><a class="btn btn--normal css-button-v0k0bo" href="https://leanpub.com/survivejs-react">Buy at Leanpub</a></li><li class="css-jtawwa css-3bvg0c0 css-10ozgd1 css-17pd6qu0"><a href="/webpack/foreword"><img alt="Webpack book cover" src="/8f86c1d07d5536454690030cd1a10b53.png" width="255" height="329" class="css-1d87hyi css-3bvg0c1"/></a><a class="btn btn--normal css-button-v0k0bo" href="https://leanpub.com/survivejs-webpack">Buy at Leanpub</a><a class="btn btn--normal css-button-v0k0bo" href="https://www.amazon.com/dp/9526868803/">Buy at Amazon</a><a class="btn btn--normal css-button-v0k0bo" href="https://www.amazon.com/dp/B06XWZZGBS">Buy for Kindle</a></li></ul></footer><div><div class="gitter-open-chat-button">Need help?</div><script type="text/javascript">
          ((window.gitter = {}).chat = {}).options = {
            showChatByDefault: false,
            activationElement: '.gitter-open-chat-button',
            room: 'survivejs/react'
          };
        </script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script></div></div>

    
  </body>
</html>
