<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui" />
    <meta
      name="description"
      content="" />
    <meta
      name="keywords"
      content="interview,bundling,javascript" />
    <title>Rollup - Next-generation ES6 module bundler - Interview with Rich Harris</title>
    
    <link rel='icon' type='image/png' href='/favicon.png'></link>

    
      <link href="/site.4b5439d2350d75f68d39.css" rel="stylesheet">
    

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"
    />
  </head>
  <body>
    <div><div class="post__wrapper"><div class="header-image" style="background-image:url(/03f96e12cf165cfe109199e390b8d24e.jpg);"></div><h1 class="post__heading">Rollup - Next-generation ES6 module bundler - Interview with Rich Harris</h1><div class="toc-nav__wrapper"><div><div><h4 class="toc-nav--header">Interviews</h4><ul class="toc-nav"><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/redux-zero-interview/">Redux Zero - Single Store, No Reducers - Interview with Matheus Lima</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/flow-runtime-interview/">Flow Runtime - A runtime type system for JavaScript with full Flow compatibility - Interview with Charles Pick</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/a-plus-interview/">a-plus-forms - A+ forms. Would use again - Interview with Nikolay Nemshilov</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/cabbie-interview/">Cabbie - WebDriver for the masses - Interview with Forbes Lindesay</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/react-lite-interview/">react-lite - Implementation of React optimized for small size - Interview with Jade</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/react-day-berlin-interview/">React Day Berlin - Fully Packed Day of Your Favorite React Content - Interview with Robert Haritonov</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/unexpected-react-interview/">unexpected-react - Test Full Virtual DOM - Interview with Dave Brotherstone</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/kea-interview/">Kea - High level abstraction between React and Redux - Interview with Marius Andra</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/frint-interview/">FrintJS - Build reactive applications with React and RxJS - Interview with Fahad Ibnay Heylaal</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/neutrino-interview/">Neutrino - Create modern JavaScript applications with minimal configuration - Interview with Eli Perelman</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/idyll-interview/">Idyll - Narratives for the web - Interview with Matthew Conlen</a></li></ul></div><div></div><div><h4 class="toc-nav--header">Javascript</h4><ul class="toc-nav"><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/rekit-interview/">Rekit - Toolkit for building scalable React applications - Interview with Nate Wang</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/documentationjs-interview/">documentation.js - The documentation system for modern JavaScript - Interview with Tom MacWright</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/rill-interview/">Rill - Universal web application framework - Interview with Dylan Piercey</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/dont-break-interview/">dont-break - Check if you break dependents - Interview with Gleb Bahmutov</a></li><li class="toc-undefined"><span class="toc-nav__link toc-nav__link--current undefined">Rollup - Next-generation ES6 module bundler - Interview with Rich Harris</span></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/renovate-interview/">renovate - Keep npm dependencies up-to-date - Interview with Rhys Arkins</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/popper-interview/">Popper.js - Easy Tooltips and Popovers - Interview with Federico Zivolo</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/es-modules-interview/">ES Modules - Interview with Bradley Farias</a></li><li class="toc-undefined"><a class="toc-nav__link undefined" href="/blog/teaching-javascript-interview/">Teaching JavaScript - Interview with Bianca Gandolfo</a></li></ul></div></div></div><div class="post"><div class="post__content"><div><p>Given JavaScript application source cannot be consumed easily through the browser &quot;as is&quot; just yet, the process of <strong>bundling</strong> is needed. The point is to convert the source into a form the browser can understand. This is the reason why bundlers, such as Browserify, Rollup, or webpack exist.</p>
<p>To dig deeper into the topic, I&#39;m interviewing <a href="https://twitter.com/Rich_Harris">Rich Harris</a>, the author of Rollup.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>I <a href="/blog/svelte-interview/">interviewed Rich earlier about Svelte</a>, a UI framework of his.</blockquote><h2 class="header"><a class="header-anchor" href="#can-you-tell-a-bit-about-yourself-" id="can-you-tell-a-bit-about-yourself-"></a><span class="text">Can you tell a bit about yourself?</span><a class="header-anchor-select" href="#can-you-tell-a-bit-about-yourself-">#</a></h2>
<p>
<span class="author">
  <img src="https://www.gravatar.com/avatar/329f9d32fe20b186838ee237d3eb2d43?s=200" alt="Rich Harris" class="author" width="100" height="100" />
</span>
I&#39;m a graphics editor at the New York Times, working on the investigations team — part journalist, part developer. Before that I did a similar job at the Guardian. Part of my role historically has been to build tools that allow us to create and deploy projects at the speed of news, which can be pretty aggressive — <a href="https://rollupjs.org">Rollup</a>, <a href="https://buble.surge.sh">Bublé</a> and <a href="https://svelte.technology">Svelte</a>, among others, are all products of that.
</p>

<h2 class="header"><a class="header-anchor" href="#how-would-you-describe-rollup-to-someone-who-has-never-heard-of-it-" id="how-would-you-describe-rollup-to-someone-who-has-never-heard-of-it-"></a><span class="text">How would you describe <em>Rollup</em> to someone who has never heard of it?</span><a class="header-anchor-select" href="#how-would-you-describe-rollup-to-someone-who-has-never-heard-of-it-">#</a></h2>
<p>Rollup is a module bundler. Basically, it concatenates JavaScript files, except you don&#39;t have to manually specify the order of them or worry about variable names in one file conflicting with names in another. Under the hood it&#39;s a bit more sophisticated than that, but in essence that&#39;s all it&#39;s doing — concatenating.</p>
<p>The reason you&#39;d use it is so that you can write software in a modular way — which is better for your sanity for lots of reasons — using the <code>import</code> and <code>export</code> keywords that were added to the language in ES2015. Since browsers and Node.js don&#39;t yet support ES2015 modules (ESM) natively, we have to bundle our modules in order to run them.</p>
<p>Rollup can create self-executing <code>&lt;script&gt;</code> files, AMD modules, Node-friendly CommonJS modules, UMD modules (which are a combination of all three), or even ESM bundles that can be used in <em>other</em> projects.</p>
<p>Which is ideal for libraries. In fact, most major JavaScript libraries that I can think of — React, Vue, Angular, Glimmer, D3, Three.js, PouchDB, Moment, Most.js, Preact, Redux, etc — are built with Rollup.</p>
<h2 class="header"><a class="header-anchor" href="#how-does-rollup-work-" id="how-does-rollup-work-"></a><span class="text">How does <em>Rollup</em> work?</span><a class="header-anchor-select" href="#how-does-rollup-work-">#</a></h2>
<p>You give it an entry point — let&#39;s say <code>index.js</code>. Rollup will read that file and parse it using Acorn — this gives us something called an abstract syntax tree (AST). Once you have the AST you can discover lots of things about the code, such as which <code>import</code> declarations it contains.</p>
<p>Let&#39;s say <code>index.js</code> has this line at the top:</p>
<pre><code class="lang-js"><span class="token keyword">import</span> foo <span class="token keyword">from</span> <span class="token string">'./foo.js'</span><span class="token punctuation">;</span>
</code></pre>
<p>That means that Rollup needs to resolve <code>./foo.js</code> relative to <code>index.js</code>, load it, parse it, analyse it, lather, rinse and repeat until there are no more modules to import. Crucially, all these steps are pluggable, so you can augment Rollup with the ability to import from <code>node_modules</code> or compile ES2015 to ES5 in a sourcemap-aware way, for example.</p>
<h2 class="header"><a class="header-anchor" href="#how-does-rollup-differ-from-other-solutions-" id="how-does-rollup-differ-from-other-solutions-"></a><span class="text">How does <em>Rollup</em> differ from other solutions?</span><a class="header-anchor-select" href="#how-does-rollup-differ-from-other-solutions-">#</a></h2>
<p>Firstly, there&#39;s zero overhead. The traditional approach to bundling is to wrap every module in a function, put those functions in an array, and implement a <code>require</code> function that plucks those functions out of the array and executes them on demand. It turns out <a href="https://nolanlawson.com/2016/08/15/the-cost-of-small-modules/">this is terrible</a> for both bundle size and startup time.</p>
<p>Instead, Rollup essentially just concatenates your code — there&#39;s no waste, and the resulting bundle minifies better. Some people call this &#39;scope hoisting&#39;.</p>
<p>Secondly, it removes unused code from the modules you import, which is called &#39;treeshaking&#39; for reasons that no-one is certain of.</p>
<p>It&#39;s worth noting that webpack implements a form of scope hoisting and treeshaking in the most recent version, so it&#39;s catching up to Rollup in terms of bundle size and startup time (though we&#39;re still ahead!). Webpack is generally considered the better option if you&#39;re building an app rather than a library, since it has a lot of features that Rollup doesn&#39;t — code splitting, dynamic imports and so-on.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>To understand the difference between the tools, <a href="https://medium.com/webpack/webpack-and-rollup-the-same-but-different-a41ad427058c">read &quot;Webpack and Rollup: the same but different&quot;</a>.</blockquote><h2 class="header"><a class="header-anchor" href="#why-did-you-develop-rollup-" id="why-did-you-develop-rollup-"></a><span class="text">Why did you develop <em>Rollup</em>?</span><a class="header-anchor-select" href="#why-did-you-develop-rollup-">#</a></h2>
<p>Necessity. None of the existing tools were good enough.</p>
<p>A few years ago, I was working on a project called <a href="https://ractive.js.org">Ractive</a>, and I was frustrated with our build process. The more we split the codebase up into modules, the larger the build got, because of the overhead I described earlier. We were effectively being penalised for doing the right thing.</p>
<p>So I wrote a module bundler called Esperanto and released it as a separate open source project. Lo and behold, our builds shrank. But I wasn&#39;t satisfied, because I&#39;d read something <a href="https://twitter.com/jo_liss">Jo Liss</a> had written about how ESM — being designed with static analysis in mind — would allow us to do treeshaking. Esperanto didn&#39;t have that ability.</p>
<p>Adding treeshaking to Esperanto would have been very difficult, so I burned it all and started over with Rollup.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>To learn more about ESM, <a href="/blog/es-modules-interview/">read the interview of Bradley Farias</a>.</blockquote><h2 class="header"><a class="header-anchor" href="#what-next-" id="what-next-"></a><span class="text">What next?</span><a class="header-anchor-select" href="#what-next-">#</a></h2>
<p>I would love to get Rollup to a place where we can call it &#39;done&#39;, so that I don&#39;t have to think about it any more. It&#39;s not an exciting project to work on, since module bundling is an incredibly boring subject. It&#39;s basically just plumbing — essential but unglamorous.</p>
<p>There&#39;s a fair distance to go before we get there though. And I feel a certain responsibility to keep the community looked after, since I&#39;ve been such a vocal advocate for ESM.</p>
<p>We&#39;re getting to an exciting place though — browsers are just starting to add native module support, and now that webpack has scope hoisting, there are very tangible benefits to using ESM everywhere. So we&#39;ll hopefully see ESM take over from CommonJS modules very soon. (If you&#39;re still writing CommonJS, stop! You&#39;re just creating technical debt.)</p>
<h2 class="header"><a class="header-anchor" href="#what-does-the-future-look-like-for-rollup-and-web-development-in-general-can-you-see-any-particular-trends-" id="what-does-the-future-look-like-for-rollup-and-web-development-in-general-can-you-see-any-particular-trends-"></a><span class="text">What does the future look like for <em>Rollup</em> and web development in general? Can you see any particular trends?</span><a class="header-anchor-select" href="#what-does-the-future-look-like-for-rollup-and-web-development-in-general-can-you-see-any-particular-trends-">#</a></h2>
<p>For one thing, Rollup will become increasingly obsolete. Once browsers support modules natively, there&#39;ll be a large class of applications for which bundling (and everything that goes with it — compiling, minifying and so on) will just be an optional performance optimisation, as opposed to a necessity. That&#39;s going to be <em>huge</em>, particularly for newcomers to web development.</p>
<p>But at the same time we&#39;re increasingly using our build processes to add sophisticated capabilities to our applications. I&#39;m a proponent of that — <a href="https://svelte.technology">Svelte</a> is a compiler that essentially writes your app for you from a declarative template — and it&#39;s only going to get more intense with the advent of WASM and other things.</p>
<p>So we have these two seemingly contradictory trends happening simultaneously, and it&#39;ll be fascinating to see how they play out.</p>
<h2 class="header"><a class="header-anchor" href="#what-advice-would-you-give-to-programmers-getting-into-web-development-" id="what-advice-would-you-give-to-programmers-getting-into-web-development-"></a><span class="text">What advice would you give to programmers getting into web development?</span><a class="header-anchor-select" href="#what-advice-would-you-give-to-programmers-getting-into-web-development-">#</a></h2>
<p>Watch other programmers over their shoulders. Read source code. Develop taste by building things, and being proud of them but never satisifed. Learn the fundamentals, because all abstractions are leaky. Learn what &#39;all abstractions are leaky&#39; means. Turn your computer off and go outside, because most of your best programming will happen away from your keyboard.</p>
<p>Most importantly, take programming advice with a pinch of salt. As soon as someone reaches the stage where people start asking them to offer advice, they forget what it was like to be a new developer. No-one knows anything anyway.</p>
<h2 class="header"><a class="header-anchor" href="#who-should-i-interview-next-" id="who-should-i-interview-next-"></a><span class="text">Who should I interview next?</span><a class="header-anchor-select" href="#who-should-i-interview-next-">#</a></h2>
<p>I really like following the work of people who straddle the line between JavaScript and disciplines like dataviz, WebGL, cartography and animation — people like <a href="https://twitter.com/mourner">Vladimir Agafonkin</a>, <a href="https://twitter.com/mathisonian">Matthew Conlen</a>, <a href="https://twitter.com/sarah_edo">Sarah Drasner</a>, <a href="https://twitter.com/monfera">Robert Monfera</a>, and <a href="https://twitter.com/tmcw">Tom MacWright</a>.</p>
<p>On the web development front more generally, I&#39;ve been enjoying playing around with <a href="https://rill.site">Rill</a> by <a href="https://twitter.com/dylan_piercey">Dylan Piercey</a>. It&#39;s a universal router that lets you write Express-style apps that also work in the browser, and it&#39;s really well thought through. For me it hits the sweet spot between boosting productivity and not being overly opinionated.</p>
<h2 class="header"><a class="header-anchor" href="#any-last-remarks-" id="any-last-remarks-"></a><span class="text">Any last remarks?</span><a class="header-anchor-select" href="#any-last-remarks-">#</a></h2>
<p>Rollup would love your help! It&#39;s a fairly important part of the ecosystem nowadays, but I don&#39;t have nearly enough time to give it the attention it deserves, and the same is true for all our contributors. If you&#39;re interested in helping out with a tool that indirectly benefits millions (perhaps billions!) of web users, get in touch with us.</p>
<h2 class="header"><a class="header-anchor" href="#conclusion" id="conclusion"></a><span class="text">Conclusion</span><a class="header-anchor-select" href="#conclusion">#</a></h2>
<p>Thanks for the interview Rich! Rollup is an amazing tool and well worth learning especially for library authors. I hope we can skip the entire bundling step one day as that would make things simpler.</p>
<p>To learn more about Rollup, <a href="https://rollupjs.org/">check out the online documentation</a>. You can also <a href="https://github.com/rollup/rollup">find  the project on GitHub</a>.</p>
</div><time datetime="2017-07-10T00:00:00.000Z" class="post__moment">10 Jul 2017</time><div class="social-links"><blockquote class="tip">If you enjoyed this blog post, consider subscribing to the mailing list below or following <a href="https://twitter.com/survivejs">@survivejs</a> for occasional updates. There is also <a href="/atom.xml">RSS</a> available for old beards (no pun intended).</blockquote><h2 class="subscribe-header">Subscribe to the mailing list</h2><form action="//jster.us7.list-manage.com/subscribe/post?u=ed40c0084a0c5ba31b3365d65&amp;amp;id=b853b8e786" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate social-form" target="_blank" novalidate=""><div id="mc_embed_signup_scroll"><div class="mc-field-group social-input-container"><input type="email" placeholder="Email" value="" name="EMAIL" class="required email" id="mce-EMAIL"/></div><div style="display:none;position:absolute;left:-5000px;"><input type="text" name="b_ed40c0084a0c5ba31b3365d65_b853b8e786" tabindex="-1" value=""/></div><div class="social-subscribe-container"><input type="submit" class="btn button social-subscribe" style="margin-top:1em;margin-bottom:1em;line-height:2em;" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"/></div></div></form></div><div class="new-prevnext"><div class="new-prevnext__prev"><div class="new-prevnext__bg" style="background-image:url(/d5afdc9c8480c9127419ab0768726621.jpg);"></div><span class="new-prevnext__info">Previous post</span><a class="new-prevnext__link" href="/blog/jss-interview/">JSS - Author CSS Using JavaScript as a Host Language - Interview with Oleg Slobodskoi</a></div><div class="new-prevnext__next"><div class="new-prevnext__bg" style="background-image:url(/0123ec9e6fae70f5fbe4c17ba9116b83.jpg);"></div><span class="new-prevnext__info">Next post</span><a class="new-prevnext__link" href="/blog/dont-break-interview/">dont-break - Check if you break dependents - Interview with Gleb Bahmutov</a></div></div><div id="disqus_thread"></div></div></div><div><a class="next-page" title="dont-break - Check if you break dependents - Interview with Gleb Bahmutov" href="/blog/dont-break-interview/"><i class="icon-right-open"></i></a><a class="previous-page" title="JSS - Author CSS Using JavaScript as a Host Language - Interview with Oleg Slobodskoi" href="/blog/jss-interview/"><i class="icon-left-open"></i></a></div><script type="text/javascript">var disqus_shortname = 'survivejs';(function() {var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script></div><div class="nav__wrapper"><input type="checkbox" class="nav__toggle" id="nav__toggle"/><label class="nav__toggle-label" for="nav__toggle"></label><nav class="nav"><div class="nav__link"><a href="/">Home</a></div><div class="nav__link"><a href="/blog/">Read the blog</a></div><div class="nav__link"><a href="/maintenance/">Maintenance book</a></div><div class="nav__link"><a href="/react/">React book</a></div><div class="nav__link"><a href="/webpack/">Webpack book</a></div><div class="nav__link"><a href="/training/">Get training</a></div><div class="nav__link"><a href="https://twitter.com/survivejs">@survivejs</a></div></nav></div><footer><div class="footer-wrapper"><div class="footer-content-wrapper"><div class="footer-social"><h3>Social</h3><ul><li><a href="https://twitter.com/survivejs" target="_blank" rel="noopener noreferrer">@survivejs</a></li><li><a href="http://eepurl.com/bth1v5" target="_blank" rel="noopener noreferrer">Mailing List</a></li><li><a href="https://gitter.im/survivejs" target="_blank" rel="noopener noreferrer">Gitter Chat</a></li><li><a href="https://github.com/survivejs" target="_blank" rel="noopener noreferrer">GitHub</a></li><li><a href="https://presentations.survivejs.com" target="_blank" rel="noopener noreferrer">Presentations</a></li><li><a href="http://goo.gl/forms/OWdGIOdHm9" target="_blank" rel="noopener noreferrer">Contact</a></li><li><a href="https://github.com/survivejs/ama/issues" target="_blank" rel="noopener noreferrer">Ask Me Anything</a></li></ul></div><div class="footer-blog"><h3>From the Blog</h3><ul class="blog-teasers"><li><a class="blog-teaser" href="/blog/redux-zero-interview/">Redux Zero - Single Store, No Reducers - Interview with Matheus Lima</a></li><li><a class="blog-teaser" href="/blog/flow-runtime-interview/">Flow Runtime - A runtime type system for JavaScript with full Flow compatibility - Interview with Charles Pick</a></li><li><a class="blog-teaser" href="/blog/a-plus-interview/">a-plus-forms - A+ forms. Would use again - Interview with Nikolay Nemshilov</a></li><li><a class="blog-teaser" href="/blog/survivejs-webpack-and-maintenance/">“SurviveJS — Webpack” v2.1 and “SurviveJS — Maintenance” v0.9</a></li><li><a class="blog-teaser" href="/blog/cabbie-interview/">Cabbie - WebDriver for the masses - Interview with Forbes Lindesay</a></li><li><a class="blog-teaser" href="/blog/react-lite-interview/">react-lite - Implementation of React optimized for small size - Interview with Jade</a></li><li><a class="blog-teaser" href="/blog/react-day-berlin-interview/">React Day Berlin - Fully Packed Day of Your Favorite React Content - Interview with Robert Haritonov</a></li></ul></div></div></div></footer><div><div class="gitter-open-chat-button">Need help?</div><script type="text/javascript">
          ((window.gitter = {}).chat = {}).options = {
            showChatByDefault: false,
            activationElement: '.gitter-open-chat-button',
            room: 'survivejs/react'
          };
        </script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script></div></div>

    
  </body>
</html>
