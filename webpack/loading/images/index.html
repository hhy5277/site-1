<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui" />
    <meta
      name="description"
      content="" />
    <meta
      name="keywords"
      content="" />
    <title>Loading Images</title>
    
    <link rel='icon' type='image/png' href='/favicon.png'></link>

    
      <link href="/site.f3fc1a91c6a0c764b1a3.css" rel="stylesheet">
    

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"
    />
  </head>
  <body>
    <div><div class="chapter__wrapper"><div class="header-image" style="background-image:url(/c94517c380511118db6f67a965439d3a.jpg);"></div><h1 class="post__heading">Loading Images</h1><div class="header-extra"><a href="https://pixabay.com/en/photo-camera-photography-old-retro-219958/">PublicDomainPictures (Public Domain)</a></div><div class="toc-nav__wrapper"><h4 class="search-nav--header">Search</h4><input id="search"/><h4 class="toc-nav--header">Table of Contents</h4><ul class="toc-nav"><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/foreword/">Foreword</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/preface/">Preface</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/introduction/">Introduction</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/what-is-webpack/">What is Webpack</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/developing/">Developing</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing/getting-started/">Getting Started</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing/automatic-browser-refresh/">Automatic Browser Refresh</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing/linting/">Linting JavaScript</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing/composing-configuration/">Composing Configuration</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/styling/">Styling</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/styling/loading/">Loading Styles</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/styling/separating-css/">Separating CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/styling/autoprefixing/">Autoprefixing</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/styling/eliminating-unused-css/">Eliminating Unused CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/styling/linting/">Linting CSS</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/loading/">Loading Assets</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading/loader-definitions/">Loader Definitions</a></li><li class="toc-chapter"><span class="toc-nav__link toc-nav__link--current chapter">Loading Images</span></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading/fonts/">Loading Fonts</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading/javascript/">Loading JavaScript</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/building/">Building</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building/source-maps/">Source Maps</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building/bundle-splitting/">Bundle Splitting</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building/code-splitting/">Code Splitting</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building/tidying-up/">Tidying Up</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/optimizing/">Optimizing</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/minifying/">Minifying</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/tree-shaking/">Tree Shaking</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/environment-variables/">Environment Variables</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/adding-hashes-to-filenames/">Adding Hashes to Filenames</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/separating-manifest/">Separating a Manifest</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/analyzing-build-statistics/">Analyzing Build Statistics</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/performance/">Performance</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/output/">Output</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/output/targets/">Build Targets</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/output/bundling-libraries/">Bundling Libraries</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/output/library-output/">Library Output</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/output/multiple-pages/">Multiple Pages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/output/server-side-rendering/">Server Side Rendering</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/techniques/">Techniques</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/dynamic-loading/">Dynamic Loading</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/web-workers/">Web Workers</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/i18n/">Internationalization</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/testing/">Testing</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/deploying/">Deploying Applications</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/packages/">Packages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/packages/consuming/">Consuming Packages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/packages/consuming-techniques/">Package Consuming Techniques</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/packages/authoring/">Authoring Packages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/packages/authoring-techniques/">Package Authoring Techniques</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/extending/">Extending</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/extending/loaders/">Extending with Loaders</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/extending/plugins/">Extending with Plugins</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/conclusion/">Conclusion</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/appendices/">Appendices</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/comparison/">Comparison of Build Tools</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/hmr/">Hot Module Replacement</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/hmr-with-react/">Hot Module Replacement with React</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/customizing-eslint/">Customizing ESLint</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/searching-with-react/">Searching with React</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/troubleshooting/">Troubleshooting</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/glossary/">Glossary</a></li></ul><div><div class="buy-container"><a href="/webpack/foreword"><img alt="Webpack book cover" class="sidebar-cover" src="/8f86c1d07d5536454690030cd1a10b53.png" width="255" height="329"/></a><p><a class="btn btn--normal btn--buy" href="https://leanpub.com/survivejs-webpack">Buy at Leanpub</a><a class="btn btn--normal btn--buy" href="https://www.amazon.com/dp/9526868803/">Buy at Amazon</a><a class="btn btn--normal btn--buy" href="https://www.amazon.com/dp/B06XWZZGBS">Buy for Kindle</a></p></div><h3>See also</h3><div class="buy-container"><a href="/react/introduction"><img alt="React book cover" class="sidebar-cover" src="/b61671d95f81496495f2587a10ddb122.png" width="255" height="329"/></a><p><a class="btn btn--normal btn--buy" href="https://leanpub.com/survivejs-react">Buy at Leanpub</a></p></div></div></div><div class="chapter"><div class="post__content"><div><blockquote class="latestpost tip"><a class="latestpost-link" href="/blog/unexpected-react-interview/">unexpected-react - Test Full Virtual DOM - Interview with Dave Brotherstone</a></blockquote></div><div class="chapter-content"><p>HTTP/1 application can be made slow by loading a lot of small assets. Each request comes with an overhead. HTTP/2 helps in this regard and changes the situation somewhat drastically. Till then you are stuck with different approaches. Webpack allows a couple of these. They are particularly relevant for loading images.</p>
<p>Webpack allows you to inline assets by using <a href="https://www.npmjs.com/package/url-loader">url-loader</a>. It emits your images as base64 strings within your JavaScript bundles. The process decreases the number of requests needed while growing the bundle size. It&#39;s enough to use <em>url-loader</em> during development. You want to consider other alternatives for the production build, though.</p>
<p>Webpack gives control over the inlining process and can defer loading to <a href="https://www.npmjs.com/package/file-loader">file-loader</a>. <em>file-loader</em> outputs image files and returns paths to them instead of inlining. This technique works with other assets types, such as fonts, as you see in the later chapters.</p>
<h2 class="header"><a class="header-anchor" href="#setting-up-url-loader-" id="setting-up-url-loader-"></a><span class="text">Setting Up <em>url-loader</em></span><a class="header-anchor-select" href="#setting-up-url-loader-">#</a></h2>
<p><em>url-loader</em> is a good starting point and it&#39;s the perfect option for development purposes, as you don&#39;t have to care about the size of the resulting bundle. It comes with a <em>limit</em> option that can be used to defer image generation to <em>file-loader</em> after a certain limit&#39;s reached. This way you can inline small files to your JavaScript bundles while generating separate files for the bigger ones.</p>
<p>If you use the limit option, you need to install both <em>url-loader</em> and <em>file-loader</em> to your project. Assuming you have configured your styles correctly, webpack resolves any <code>url()</code> statements your styling contains. You can point to the image assets through your JavaScript code as well.</p>
<p>In case the <code>limit</code> option is used, <em>url-loader</em> passes possible additional options to <em>file-loader</em> making it possible to configure its behavior further.</p>
<p>To load <em>.jpg</em>, <em>.png</em>, and <em>.svg</em> files while inlining files below 25kB, you would have to set up a loader:</p>
<pre><code class="lang-javascript"><span class="token punctuation" >{</span>
  test<span class="token punctuation" >:</span> <span class="token regex" >/\.(jpg|png|svg)$/</span><span class="token punctuation" >,</span>
  loader<span class="token punctuation" >:</span> <span class="token string" >'url-loader'</span><span class="token punctuation" >,</span>
  options<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    limit<span class="token punctuation" >:</span> <span class="token number" >25000</span><span class="token punctuation" >,</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
<span class="token punctuation" >}</span><span class="token punctuation" >,</span>
</code></pre>
<h2 class="header"><a class="header-anchor" href="#setting-up-file-loader-" id="setting-up-file-loader-"></a><span class="text">Setting Up <em>file-loader</em></span><a class="header-anchor-select" href="#setting-up-file-loader-">#</a></h2>
<p>If you want to skip inlining altogether, you can use <em>file-loader</em> directly. The following setup customizes the resulting filename. By default, <em>file-loader</em> returns the MD5 hash of the file&#39;s contents with the original extension:</p>
<pre><code class="lang-javascript"><span class="token punctuation" >{</span>
  test<span class="token punctuation" >:</span> <span class="token regex" >/\.(jpg|png|svg)$/</span><span class="token punctuation" >,</span>
  loader<span class="token punctuation" >:</span> <span class="token string" >'file-loader'</span><span class="token punctuation" >,</span>
  options<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    name<span class="token punctuation" >:</span> <span class="token string" >'[path][name].[hash].[ext]'</span><span class="token punctuation" >,</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
<span class="token punctuation" >}</span><span class="token punctuation" >,</span>
</code></pre>
<blockquote class="tip"><i class="icon-attention-circled"></i>If you want to output your images below a particular directory, set it up with <code>name: &#39;./images/[hash].[ext]&#39;</code>.</blockquote><blockquote class="warning"><i class="icon-attention"></i>Be careful not to apply both loaders on images at the same time! Use the <code>include</code> field for further control if <em>url-loader</em> <code>limit</code> isn&#39;t enough.</blockquote><h2 class="header"><a class="header-anchor" href="#integrating-images-to-the-project" id="integrating-images-to-the-project"></a><span class="text">Integrating Images to the Project</span><a class="header-anchor-select" href="#integrating-images-to-the-project">#</a></h2>
<p>The ideas above can be wrapped in a small helper that can be incorporated into the book project. To get started, install the dependencies:</p>
<pre><code class="lang-bash">npm <span class="token function" >install</span> file-loader url-loader --save-dev
</code></pre>
<p>Set up a function as below:</p>
<p><strong>webpack.parts.js</strong></p>
<pre><code class="lang-javascript">exports<span class="token punctuation" >.</span>loadImages <span class="token operator" >=</span> <span class="token punctuation" >(</span><span class="token punctuation" >{</span> include<span class="token punctuation" >,</span> exclude<span class="token punctuation" >,</span> options <span class="token punctuation" >}</span> <span class="token operator" >=</span> <span class="token punctuation" >{</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >(</span><span class="token punctuation" >{</span>
  module<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    rules<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>
      <span class="token punctuation" >{</span>
        test<span class="token punctuation" >:</span> <span class="token regex" >/\.(png|jpg|svg)$/</span><span class="token punctuation" >,</span>
        include<span class="token punctuation" >,</span>
        exclude<span class="token punctuation" >,</span>

        use<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
          loader<span class="token punctuation" >:</span> <span class="token string" >'url-loader'</span><span class="token punctuation" >,</span>
          options<span class="token punctuation" >,</span>
        <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
      <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >]</span><span class="token punctuation" >,</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>To attach it to the configuration, adjust as follows. The configuration defaults to <em>url-loader</em> during development and uses both <em>url-loader</em> and <em>file-loader</em> in production to maintain smaller bundle sizes. <em>url-loader</em> uses <em>file-loader</em> implicitly when <code>limit</code> is set and both have to be installed for the setup to work.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword" >const</span> productionConfig <span class="token operator" >=</span> <span class="token function" >merge</span><span class="token punctuation" >(</span><span class="token punctuation" >[</span>
  <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
<div class="leanpub-insert">
  parts<span class="token punctuation" >.</span><span class="token function" >loadImages</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
    options<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
      limit<span class="token punctuation" >:</span> <span class="token number" >15000</span><span class="token punctuation" >,</span>
      name<span class="token punctuation" >:</span> <span class="token string" >'[name].[ext]'</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
</div>
<span class="token punctuation" >]</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<span class="token keyword" >const</span> developmentConfig <span class="token operator" >=</span> <span class="token function" >merge</span><span class="token punctuation" >(</span><span class="token punctuation" >[</span>
  <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
<div class="leanpub-insert">
  parts<span class="token punctuation" >.</span><span class="token function" >loadImages</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
</div>
<span class="token punctuation" >]</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>To test that the setup works, download an image or generate it (<code>convert -size 100x100 gradient:blue logo.png</code>) and refer to it from the project:</p>
<p><strong>app/main.css</strong></p>
<pre><code class="lang-css"><span class="token selector" >body </span><span class="token punctuation" >{</span>
  <span class="token property" >background</span><span class="token punctuation" >:</span> cornsilk<span class="token punctuation" >;</span>
<div class="leanpub-insert">
  <span class="token property" >background-image</span><span class="token punctuation" >:</span> <span class="token url" >url('./logo.png')</span><span class="token punctuation" >;</span>
  <span class="token property" >background-repeat</span><span class="token punctuation" >:</span> no-repeat<span class="token punctuation" >;</span>
  <span class="token property" >background-position</span><span class="token punctuation" >:</span> center<span class="token punctuation" >;</span>
</div>
  <span class="token property" >display</span><span class="token punctuation" >:</span> flex<span class="token punctuation" >;</span>
<span class="token punctuation" >}</span>
</code></pre>
<p>The behavior changes depending on the <code>limit</code> you set. Below the limit, it should inline the image while above it should emit a separate asset and a path to it. The CSS lookup works because of <em>css-loader</em>. You can also try importing the image from JavaScript code and see what happens.</p>
<h2 class="header"><a class="header-anchor" href="#loading-svgs" id="loading-svgs"></a><span class="text">Loading SVGs</span><a class="header-anchor-select" href="#loading-svgs">#</a></h2>
<p>Webpack allows a <a href="https://github.com/webpack/webpack/issues/595">couple ways</a> to load SVGs. However, the easiest way is through <em>file-loader</em> as follows:</p>
<pre><code class="lang-javascript"><span class="token punctuation" >{</span>
  test<span class="token punctuation" >:</span> <span class="token regex" >/\.svg$/</span><span class="token punctuation" >,</span>
  use<span class="token punctuation" >:</span> <span class="token string" >'file-loader'</span><span class="token punctuation" >,</span>
<span class="token punctuation" >}</span><span class="token punctuation" >,</span>
</code></pre>
<p>Assuming you have set up your styling correctly, you can refer to your SVG files as below. The example SVG path below is relative to the CSS file:</p>
<pre><code class="lang-css"><span class="token selector" ><span class="token class" >.icon</span> </span><span class="token punctuation" >{</span>
   <span class="token property" >background-image</span><span class="token punctuation" >:</span> <span class="token url" >url('../assets/icon.svg')</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span>
</code></pre>
<p>If you want the raw SVG content, you can use the <a href="https://www.npmjs.com/package/raw-loader">raw-loader</a> for this purpose. <a href="https://www.npmjs.com/package/svg-inline-loader">svg-inline-loader</a> goes a step further and eliminates unnecessary markup from your SVGs. These loaders can be valuable if you want to inject the SVG content to directly to JavaScript or HTML markup.</p>
<p><a href="https://www.npmjs.com/package/svg-sprite-loader">svg-sprite-loader</a> can merge separate SVG files into a single sprite, making it potentially more efficient to load as you avoid request overhead. It supports raster images (<em>.jpg</em>, <em>.png</em>) as well.</p>
<p><a href="https://www.npmjs.com/package/react-svg-loader">react-svg-loader</a> emits SVGs as React components meaning you could end up with code like <code>&lt;Image width={50} height={50}/&gt;</code> to render a SVG in your code after importing it.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>You can still use <em>url-loader</em> and the tips above with SVGs too.</blockquote><h2 class="header"><a class="header-anchor" href="#optimizing-images" id="optimizing-images"></a><span class="text">Optimizing Images</span><a class="header-anchor-select" href="#optimizing-images">#</a></h2>
<p>In case you want to compress your images, use <a href="https://www.npmjs.com/package/image-webpack-loader">image-webpack-loader</a>, <a href="https://www.npmjs.com/package/svgo-loader">svgo-loader</a> (SVG specific), or <a href="https://www.npmjs.com/package/imagemin-webpack-plugin">imagemin-webpack-plugin</a>. This type of loader should be applied first to the data, so remember to place it as the last within <code>use</code> listing.</p>
<p>Compression is particularly valuable for production builds as it decreases the amount of bandwidth required to download your image assets and speed up your site or application as a result.</p>
<h2 class="header"><a class="header-anchor" href="#utilizing-srcset" id="utilizing-srcset"></a><span class="text">Utilizing <code>srcset</code></span><a class="header-anchor-select" href="#utilizing-srcset">#</a></h2>
<p><a href="https://www.npmjs.com/package/resize-image-loader">resize-image-loader</a> and <a href="https://www.npmjs.com/package/responsive-loader">responsive-loader</a> allow you to generate <code>srcset</code> compatible collections of images for modern browsers. <code>srcset</code> gives more control to the browsers over what images to load and when resulting in higher performance.</p>
<h2 class="header"><a class="header-anchor" href="#loading-images-dynamically" id="loading-images-dynamically"></a><span class="text">Loading Images Dynamically</span><a class="header-anchor-select" href="#loading-images-dynamically">#</a></h2>
<p>Webpack allows you to load images dynamically based on a condition. The techniques covered in the <a href="/webpack/building/code-splitting/">Code Splitting</a> chapter are enough for this purpose. Doing this can save bandwidth and load images only when you need them or preload them while you have time.</p>
<h2 class="header"><a class="header-anchor" href="#getting-image-dimensions" id="getting-image-dimensions"></a><span class="text">Getting Image Dimensions</span><a class="header-anchor-select" href="#getting-image-dimensions">#</a></h2>
<p>Sometimes getting the only reference to an image isn&#39;t enough. <a href="https://www.npmjs.com/package/image-size-loader">image-size-loader</a> emits image dimensions, type, and size in addition to the reference to the image itself.</p>
<h2 class="header"><a class="header-anchor" href="#referencing-to-images" id="referencing-to-images"></a><span class="text">Referencing to Images</span><a class="header-anchor-select" href="#referencing-to-images">#</a></h2>
<p>Webpack can pick up images from style sheets through <code>@import</code> and <code>url()</code> assuming <em>css-loader</em> has been configured. You can also refer to your images within code. In this case, you have to import the files explicitly:</p>
<pre><code class="lang-javascript"><span class="token keyword" >const</span> src <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'./avatar.png'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<span class="token comment" spellcheck="true">// Use the image in your code somehow now</span>
<span class="token keyword" >const</span> Profile <span class="token operator" >=</span> <span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >(</span>
  <span class="token operator" >&lt;</span>img src<span class="token operator" >=</span><span class="token punctuation" >{</span>src<span class="token punctuation" >}</span> <span class="token operator" >/</span><span class="token operator" >></span>
<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>If you are using React, then you use <a href="https://www.npmjs.com/package/babel-plugin-transform-react-jsx-img-import">babel-plugin-transform-react-jsx-img-import</a> to generate the <code>require</code> automatically. In that case, you would end up with code:</p>
<pre><code class="lang-javascript"><span class="token keyword" >const</span> Profile <span class="token operator" >=</span> <span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >(</span>
  <span class="token operator" >&lt;</span>img src<span class="token operator" >=</span><span class="token string" >"avatar.png"</span> <span class="token operator" >/</span><span class="token operator" >></span>
<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>It&#39;s also possible to set up dynamic imports as discussed in the <a href="/webpack/building/code-splitting/">Code Splitting</a> chapter. Here&#39;s a small example:</p>
<pre><code class="lang-javascript"><span class="token comment" spellcheck="true">// The name of the avatar is received from somewhere</span>
<span class="token keyword" >const</span> src <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token template-string" ><span class="token string" >`./avatars/</span><span class="token interpolation" ><span class="token interpolation-punctuation punctuation" >${</span>avatar<span class="token interpolation-punctuation punctuation" >}</span></span><span class="token string" >`</span></span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
</code></pre>
<h2 class="header"><a class="header-anchor" href="#loading-sprites" id="loading-sprites"></a><span class="text">Loading Sprites</span><a class="header-anchor-select" href="#loading-sprites">#</a></h2>
<p><strong>Spriting</strong> technique allows you to combine multiple smaller images into a single image. It has been used for games to describe animations and it&#39;s valuable for web development as well as you avoid request overhead.</p>
<p><a href="https://www.npmjs.com/package/webpack-spritesmith">webpack-spritesmith</a> converts provided images into a sprite sheet and Sass/Less/Stylus mixins. You have to set up a <code>SpritesmithPlugin</code>, point it to target images, and set the name of the generated mixin. After that, your styling can pick it up:</p>
<pre><code class="lang-sass"><span class="token atrule-line" ><span class="token atrule" >@import</span> '~sprite.sass';</span>

<span class="token number" >.</span><span class="token selector" >close-button {</span>
  <span class="token function" >sprite</span><span class="token selector" >($close);</span>
<span class="token selector" >}</span>

<span class="token number" >.</span><span class="token selector" >open-button {</span>
  <span class="token function" >sprite</span><span class="token selector" >($open);</span>
<span class="token selector" >}</span>
</code></pre>
<h2 class="header"><a class="header-anchor" href="#images-and-css-loader-source-map-gotcha" id="images-and-css-loader-source-map-gotcha"></a><span class="text">Images and <em>css-loader</em> Source Map Gotcha</span><a class="header-anchor-select" href="#images-and-css-loader-source-map-gotcha">#</a></h2>
<p>If you are using images and <em>css-loader</em> with the <code>sourceMap</code> option enabled, it&#39;s important that you set <code>output.publicPath</code> to an absolute value pointing to your development server. Otherwise, images aren&#39;t going to work. See <a href="https://github.com/webpack/style-loader/issues/55">the relevant webpack issue</a> for further explanation.</p>
<h2 class="header"><a class="header-anchor" href="#conclusion" id="conclusion"></a><span class="text">Conclusion</span><a class="header-anchor-select" href="#conclusion">#</a></h2>
<p>Webpack allows you to inline images within your bundles when needed. Figuring out proper inlining limits for your images requires experimentation. You have to balance between bundle sizes and the number of requests.</p>
<p>To recap:</p>
<ul>
<li><em>url-loader</em> inlines the assets within JavaScript. It comes with a <code>limit</code> option that allows you to defer assets above it to <em>file-loader</em>.</li>
<li><em>file-loader</em> emits image assets and returns paths to them to the code. It allows hashing the asset names.</li>
<li>You can find image optimization related loaders and plugins that allow you to tune their size further.</li>
<li>It&#39;s possible to generate <strong>sprite sheets</strong> out of smaller images to combine them into a single request.</li>
<li>Webpack allows you to load images dynamically based on a given condition.</li>
<li>If you are using source maps, you should remember to set <code>output.publicPath</code> to an absolute value for the images to show up.</li>
</ul>
<p>You&#39;ll learn to load fonts using webpack in the next chapter.</p>
</div><div class="social-links"><blockquote class="tip">If you enjoyed this page, consider subscribing to the mailing list below or following <a href="https://twitter.com/survivejs">@survivejs</a> for occasional updates. There is also <a href="/atom.xml">RSS</a> available for old beards (no pun intended).</blockquote><h2 class="subscribe-header">Subscribe to the mailing list</h2><form action="//jster.us7.list-manage.com/subscribe/post?u=ed40c0084a0c5ba31b3365d65&amp;amp;id=b853b8e786" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate social-form" target="_blank" novalidate=""><div id="mc_embed_signup_scroll"><div class="mc-field-group social-input-container"><input type="email" placeholder="Email" value="" name="EMAIL" class="required email" id="mce-EMAIL"/></div><div style="display:none;position:absolute;left:-5000px;"><input type="text" name="b_ed40c0084a0c5ba31b3365d65_b853b8e786" tabindex="-1" value=""/></div><div class="social-subscribe-container"><input type="submit" class="btn button social-subscribe" style="margin-top:1em;margin-bottom:1em;line-height:2em;" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"/></div></div></form></div><div class="new-prevnext"><div class="new-prevnext__prev"><div class="new-prevnext__bg" style="background-image:url(/6f6f10aebab3c6092b5d3853b909bf4e.jpg);"></div><span class="new-prevnext__info">Previous chapter</span><a class="new-prevnext__link" href="/webpack/loading/loader-definitions/">Loader Definitions</a></div><div class="new-prevnext__next"><div class="new-prevnext__bg" style="background-image:url(/074d8abbdb6ed554a1f21462bb0c621b.jpg);"></div><span class="new-prevnext__info">Next chapter</span><a class="new-prevnext__link" href="/webpack/loading/fonts/">Loading Fonts</a></div></div><blockquote class="tip"><p>This book is available through <a href="https://leanpub.com/survivejs-webpack">Leanpub (digital)</a>, <a href="https://www.amazon.com/dp/9526868803">Amazon (paperback)</a>, and <a href="https://www.amazon.com/dp/B06XWZZGBS">Kindle (digital)</a>. By purchasing the book you support the development of further content. A part of profit (~30%) goes to Tobias Koppers, the author of webpack.</p></blockquote><div id="disqus_thread"></div></div></div><div><a class="next-page" title="Loading Fonts" href="/webpack/loading/fonts/"><i class="icon-right-open"></i></a><a class="previous-page" title="Loader Definitions" href="/webpack/loading/loader-definitions/"><i class="icon-left-open"></i></a></div><script type="text/javascript">var disqus_shortname = 'survivejs';(function() {var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script></div><div class="nav__wrapper"><input type="checkbox" class="nav__toggle" id="nav__toggle"/><label class="nav__toggle-label" for="nav__toggle"></label><nav class="nav"><div class="nav__link"><a href="/">Home</a></div><div class="nav__link"><a href="/blog/">Read the blog</a></div><div class="nav__link"><a href="/training/">Get training</a></div><div class="nav__link"><a href="https://leanpub.com/survivejs-webpack">Buy the ebook</a></div><div class="nav__link"><a href="/"></a></div><div class="nav__link"><a href="https://twitter.com/survivejs">@survivejs</a></div></nav></div><footer><div class="footer-wrapper"><div class="footer-content-wrapper"><div class="footer-social"><h3>Social</h3><ul><li><a href="https://twitter.com/survivejs" target="_blank" rel="noopener noreferrer">@survivejs</a></li><li><a href="http://eepurl.com/bth1v5" target="_blank" rel="noopener noreferrer">Mailing List</a></li><li><a href="https://gitter.im/survivejs" target="_blank" rel="noopener noreferrer">Gitter Chat</a></li><li><a href="https://github.com/survivejs" target="_blank" rel="noopener noreferrer">GitHub</a></li><li><a href="https://presentations.survivejs.com" target="_blank" rel="noopener noreferrer">Presentations</a></li><li><a href="http://goo.gl/forms/OWdGIOdHm9" target="_blank" rel="noopener noreferrer">Contact</a></li><li><a href="https://github.com/survivejs/ama/issues" target="_blank" rel="noopener noreferrer">Ask Me Anything</a></li></ul></div><div class="footer-blog"><h3>From the Blog</h3><ul class="blog-teasers"><li><a class="blog-teaser" href="/blog/unexpected-react-interview/">unexpected-react - Test Full Virtual DOM - Interview with Dave Brotherstone</a></li><li><a class="blog-teaser" href="/blog/webexpo-2017/">Experiences on WebExpo 2017</a></li><li><a class="blog-teaser" href="/blog/kea-interview/">Kea - High level abstraction between React and Redux - Interview with Marius Andra</a></li><li><a class="blog-teaser" href="/blog/react-next-2017/">Experiences on React Next 2017</a></li><li><a class="blog-teaser" href="/blog/frint-interview/">FrintJS - Build reactive applications with React and RxJS - Interview with Fahad Ibnay Heylaal</a></li><li><a class="blog-teaser" href="/blog/neutrino-interview/">Neutrino - Create modern JavaScript applications with minimal configuration - Interview with Eli Perelman</a></li><li><a class="blog-teaser" href="/blog/idyll-interview/">Idyll - Narratives for the web - Interview with Matthew Conlen</a></li></ul></div></div></div></footer><div><div class="gitter-open-chat-button">Need help?</div><script type="text/javascript">
          ((window.gitter = {}).chat = {}).options = {
            showChatByDefault: false,
            activationElement: '.gitter-open-chat-button',
            room: 'survivejs/react'
          };
        </script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script></div><div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript">
        docsearch({
          apiKey: '1182e3806d62e921613b8dc9c7a22ef3',
          indexName: 'survivejs_webpack',
          inputSelector: '#search',
          debug: false
        });
      </script></div></div>

    
  </body>
</html>
