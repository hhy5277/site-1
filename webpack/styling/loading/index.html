<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui" />
    <meta
      name="description"
      content="" />
    <meta
      name="keywords"
      content="" />
    <title>Loading Styles</title>
    
    <link rel='icon' type='image/png' href='/assets/favicon.png'></link>

    
      <link href="/site.3d1ca16ddf7e0940df8a.css" rel="stylesheet">
    

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"
    />
  </head>
  <body>
    <div><div class="chapter__wrapper"><div class="header-image" style="background-image:url(/57fb50f4ac4bf9913cfebc72c900849d.jpg);"></div><h1 class="post__heading">Loading Styles</h1><div class="header-extra"><a href="https://pixabay.com/en/camera-photos-photograph-514992/">condesign (Public Domain)</a></div><div class="toc-nav__wrapper"><h4 class="search-nav--header">Search</h4><input id="search"/><h4 class="toc-nav--header">Table of Contents</h4><ul class="toc-nav"><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/foreword/">Foreword</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/preface/">Preface</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/introduction/">Introduction</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/what-is-webpack/">What is Webpack</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/developing/">Developing</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing/getting-started/">Getting Started</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing/automatic-browser-refresh/">Automatic Browser Refresh</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing/linting/">Linting JavaScript</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing/composing-configuration/">Composing Configuration</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/styling/">Styling</a></li><li class="toc-chapter"><span class="toc-nav__link toc-nav__link--current chapter">Loading Styles</span></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/styling/separating-css/">Separating CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/styling/autoprefixing/">Autoprefixing</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/styling/eliminating-unused-css/">Eliminating Unused CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/styling/linting/">Linting CSS</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/loading/">Loading Assets</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading/loader-definitions/">Loader Definitions</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading/images/">Loading Images</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading/fonts/">Loading Fonts</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading/javascript/">Loading JavaScript</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/building/">Building</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building/source-maps/">Source Maps</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building/bundle-splitting/">Bundle Splitting</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building/code-splitting/">Code Splitting</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building/tidying-up/">Tidying Up</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/optimizing/">Optimizing</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/minifying/">Minifying</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/tree-shaking/">Tree Shaking</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/environment-variables/">Environment Variables</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/adding-hashes-to-filenames/">Adding Hashes to Filenames</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/separating-manifest/">Separating a Manifest</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/analyzing-build-statistics/">Analyzing Build Statistics</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/performance/">Performance</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/output/">Output</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/output/targets/">Build Targets</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/output/bundling-libraries/">Bundling Libraries</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/output/library-output/">Library Output</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/output/multiple-pages/">Multiple Pages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/output/server-side-rendering/">Server Side Rendering</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/techniques/">Techniques</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/dynamic-loading/">Dynamic Loading</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/web-workers/">Web Workers</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/i18n/">Internationalization</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/testing/">Testing</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/deploying/">Deploying Applications</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/packages/">Packages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/packages/consuming/">Consuming Packages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/packages/consuming-techniques/">Package Consuming Techniques</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/packages/authoring/">Authoring Packages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/packages/authoring-techniques/">Package Authoring Techniques</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/extending/">Extending</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/extending/loaders/">Extending with Loaders</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/extending/plugins/">Extending with Plugins</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/conclusion/">Conclusion</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/appendices/">Appendices</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/comparison/">Comparison of Build Tools</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/hmr/">Hot Module Replacement</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/hmr-with-react/">Hot Module Replacement with React</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/customizing-eslint/">Customizing ESLint</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/searching-with-react/">Searching with React</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/troubleshooting/">Troubleshooting</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/glossary/">Glossary</a></li></ul><div><div class="buy-container"><a href="/webpack/foreword"><img alt="Webpack book cover" class="sidebar-cover" src="/8f86c1d07d5536454690030cd1a10b53.png" width="255" height="329"/></a><p><a class="btn btn--normal btn--buy" href="https://leanpub.com/survivejs-webpack">Buy at Leanpub</a><a class="btn btn--normal btn--buy" href="https://www.amazon.com/dp/9526868803/">Buy at Amazon</a><a class="btn btn--normal btn--buy" href="https://www.amazon.com/dp/B06XWZZGBS">Buy for Kindle</a></p></div><h3>See also</h3><div class="buy-container"><a href="/react/introduction"><img alt="React book cover" class="sidebar-cover" src="/b61671d95f81496495f2587a10ddb122.png" width="255" height="329"/></a><p><a class="btn btn--normal btn--buy" href="https://leanpub.com/survivejs-react">Buy at Leanpub</a></p></div></div></div><div class="chapter"><div class="post__content"><div><blockquote class="latestpost tip"><a class="latestpost-link" href="/blog/unexpected-react-interview/">unexpected-react - Test Full Virtual DOM - Interview with Dave Brotherstone</a></blockquote></div><div class="chapter-content"><p>Webpack doesn&#39;t handle styling out of the box and you will have to use loaders and plugins to allow loading style files. In this chapter, you will set up CSS with the project and see how it works out with automatic browser refreshing. When you make a change to the CSS webpack doesn&#39;t have to force a full refresh. Instead, it can patch the CSS without one.</p>
<h2 class="header"><a class="header-anchor" href="#loading-css" id="loading-css"></a><span class="text">Loading CSS</span><a class="header-anchor-select" href="#loading-css">#</a></h2>
<p>To load CSS, you need to use <a href="https://www.npmjs.com/package/css-loader">css-loader</a> and <a href="https://www.npmjs.com/package/style-loader">style-loader</a>. <em>css-loader</em> goes through possible <code>@import</code> and <code>url()</code> lookups within the matched files and treats them as a regular ES6 <code>import</code>. If an <code>@import</code> points to an external resource, <em>css-loader</em> skips it as only internal resources get processed further by webpack.</p>
<p><em>style-loader</em> injects the styling through a <code>style</code> element. The way it does this can be customized. It also implements the <a href="/webpack/appendices/hmr/">Hot Module Replacement</a> interface providing good development experience.</p>
<p>The matched files can be processed through loaders like <a href="https://www.npmjs.com/package/file-loader">file-loader</a> or <a href="https://www.npmjs.com/package/url-loader">url-loader</a> and these possibilities are discussed in the <a href="/webpack/loading/">Loading Assets</a> part of the book.</p>
<p>Since inlining CSS isn&#39;t a good idea for production usage, it makes sense to use <code>ExtractTextPlugin</code> to generate a separate CSS file. You will do this in the next chapter.</p>
<p>To get started, invoke</p>
<pre><code class="lang-bash">npm <span class="token function" >install</span> css-loader style-loader --save-dev
</code></pre>
<p>Now let&#39;s make sure webpack is aware of them. Add a new function at the end of the part definition:</p>
<p><strong>webpack.parts.js</strong></p>
<pre><code class="lang-javascript">exports<span class="token punctuation" >.</span>loadCSS <span class="token operator" >=</span> <span class="token punctuation" >(</span><span class="token punctuation" >{</span> include<span class="token punctuation" >,</span> exclude <span class="token punctuation" >}</span> <span class="token operator" >=</span> <span class="token punctuation" >{</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >(</span><span class="token punctuation" >{</span>
  module<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    rules<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>
      <span class="token punctuation" >{</span>
        test<span class="token punctuation" >:</span> <span class="token regex" >/\.css$/</span><span class="token punctuation" >,</span>
        include<span class="token punctuation" >,</span>
        exclude<span class="token punctuation" >,</span>

        use<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >'style-loader'</span><span class="token punctuation" >,</span> <span class="token string" >'css-loader'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>
      <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >]</span><span class="token punctuation" >,</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>You also need to connect the fragment with the main configuration:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword" >const</span> commonConfig <span class="token operator" >=</span> <span class="token function" >merge</span><span class="token punctuation" >(</span><span class="token punctuation" >[</span>
  <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
<div class="leanpub-insert">
  parts<span class="token punctuation" >.</span><span class="token function" >loadCSS</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
</div>
<span class="token punctuation" >]</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>The added configuration means that files ending with <code>.css</code> should invoke the given loaders. <code>test</code> matches against a JavaScript-style regular expression.</p>
<p>Loaders are transformations that are applied to source files, and return the new source and can be chained together like a pipe in Unix. They evaluated from right to left. This means that <code>loaders: [&#39;style-loader&#39;, &#39;css-loader&#39;]</code> can be read as <code>styleLoader(cssLoader(input))</code>.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>If you want to disable <em>css-loader</em> <code>url</code> parsing, set <code>url: false</code>. The same idea applies to <code>@import</code> as to disable parsing imports you can set <code>import: false</code> through the loader options.</blockquote><h2 class="header"><a class="header-anchor" href="#setting-up-the-initial-css" id="setting-up-the-initial-css"></a><span class="text">Setting Up the Initial CSS</span><a class="header-anchor-select" href="#setting-up-the-initial-css">#</a></h2>
<p>You are missing the CSS still:</p>
<p><strong>app/main.css</strong></p>
<pre><code class="lang-css"><span class="token selector" >body </span><span class="token punctuation" >{</span>
  <span class="token property" >background</span><span class="token punctuation" >:</span> cornsilk<span class="token punctuation" >;</span>
<span class="token punctuation" >}</span>
</code></pre>
<p>Also, you need to make webpack aware of it. Without having an entry pointing to it somehow, webpack is not able to find the file:</p>
<p><strong>app/index.js</strong></p>
<pre><code class="lang-javascript"><div class="leanpub-insert">
<span class="token keyword" >import</span> <span class="token string" >'./main.css'</span><span class="token punctuation" >;</span>
</div>
<span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
</code></pre>
<p>Execute <code>npm start</code> now. Browse to <code>http://localhost:8080</code> if you are using the default port and open up <em>main.css</em> and change the background color to something like <code>lime</code> (<code>background: lime</code>). Develop styles as needed to make it look a nicer.</p>
<p>You continue from here in the next chapter. Before that, though, you&#39;ll learn about styling-related techniques.</p>
<p><img src="/cd71ecb61ec740d78052fda80a30830a.png" alt="Hello cornsilk world" class="" width="" height="" /></p>
<h2 class="header"><a class="header-anchor" href="#understanding-css-scoping-and-css-modules" id="understanding-css-scoping-and-css-modules"></a><span class="text">Understanding CSS Scoping and CSS Modules</span><a class="header-anchor-select" href="#understanding-css-scoping-and-css-modules">#</a></h2>
<p>Perhaps the biggest challenge of CSS is that all rules exist within <strong>global scope</strong>, meaning that two classes with the same name will collide. The limitation is inherent to the CSS specification but projects have workarounds for the issue. <a href="https://github.com/css-modules/css-modules">CSS Modules</a> introduces <strong>local scope</strong> for every module by making every class declared within unique by including a hash in their name that is globally unique to the module.</p>
<p>Webpack&#39;s <em>css-loader</em> supports CSS Modules. You can enable it through a loader definition as above while enabling the support:</p>
<pre><code class="lang-javascript"><span class="token punctuation" >{</span>
  loader<span class="token punctuation" >:</span> <span class="token string" >'css-loader'</span><span class="token punctuation" >,</span>
<div class="leanpub-insert">
  options<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    modules<span class="token punctuation" >:</span> <span class="token boolean" >true</span><span class="token punctuation" >,</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
</div>
<span class="token punctuation" >}</span><span class="token punctuation" >,</span>
</code></pre>
<p>After this change, your class definitions remain local to the files. In case you want global class definitions, you need to wrap them within <code>:global(.redButton) { ... }</code> kind of declarations.</p>
<p>In this case, the <code>import</code> statement gives you the local classes you can then bind to elements. Assume you had CSS as below:</p>
<p><strong>app/main.css</strong></p>
<pre><code class="lang-css"><span class="token selector" >body </span><span class="token punctuation" >{</span>
  <span class="token property" >background</span><span class="token punctuation" >:</span> cornsilk<span class="token punctuation" >;</span>
<span class="token punctuation" >}</span>

<span class="token selector" ><span class="token class" >.redButton</span> </span><span class="token punctuation" >{</span>
  <span class="token property" >background</span><span class="token punctuation" >:</span> red<span class="token punctuation" >;</span>
<span class="token punctuation" >}</span>
</code></pre>
<p>You could then bind the resulting class to a component:</p>
<p><strong>app/component.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword" >import</span> styles <span class="token keyword" >from</span> <span class="token string" >'./main.css'</span><span class="token punctuation" >;</span>

<span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>

<span class="token comment" spellcheck="true">// Attach the generated class name</span>
element<span class="token punctuation" >.</span>className <span class="token operator" >=</span> styles<span class="token punctuation" >.</span>redButton<span class="token punctuation" >;</span>
</code></pre>
<p><code>body</code> remains as a global declaration still. It&#39;s that <code>redButton</code> that makes the difference. You can build component-specific styles that don&#39;t leak elsewhere this way.</p>
<p>CSS Modules provides additional features like composition to make it easier to work with your styles. You can also combine it with other loaders as long as you apply them before <em>css-loader</em>.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>CSS Modules behavior can be modified <a href="https://www.npmjs.com/package/css-loader#local-scope">as discussed in the official documentation</a>. You have control over the names it generates for instance.</blockquote><blockquote class="tip"><i class="icon-attention-circled"></i><a href="https://www.npmjs.com/package/eslint-plugin-css-modules">eslint-plugin-css-modules</a> is handy for tracking CSS Modules related problems.</blockquote><h3 class="header"><a class="header-anchor" href="#using-css-modules-with-third-party-libraries-and-css" id="using-css-modules-with-third-party-libraries-and-css"></a><span class="text">Using CSS Modules with Third Party Libraries and CSS</span><a class="header-anchor-select" href="#using-css-modules-with-third-party-libraries-and-css">#</a></h3>
<p>If you are using CSS Modules in your project, you should process normal CSS through a separate loader definition without the <code>modules</code> option of <em>css-loader</em> enabled. Otherwise all classes will be scoped to their module. In the case of third party libraries this is almost certainly not what you want.</p>
<p>You can solve the problem by processing third party CSS differently through an <code>include</code> definition against <em>node_modules</em>. Alternately, you could use a file extension (<code>.mcss</code>) to tell files using CSS Modules apart from the rest and then manage this situation in a loader <code>test</code>.</p>
<h2 class="header"><a class="header-anchor" href="#loading-less" id="loading-less"></a><span class="text">Loading Less</span><a class="header-anchor-select" href="#loading-less">#</a></h2>
<p><img src="/9c96eb3ca778baf3a930c75926c51f1c.png" alt="Less" class="" width="" height="" /></p>
<p><a href="http://lesscss.org/">Less</a> is a CSS processor packed with functionality. Using Less doesn&#39;t take a lot of effort through webpack as <a href="https://www.npmjs.com/package/less-loader">less-loader</a> deals with the heavy lifting. You should install <a href="https://www.npmjs.com/package/less">less</a> as well given it&#39;s a peer dependency of <em>less-loader</em>.</p>
<p>Consider the following minimal setup:</p>
<pre><code class="lang-javascript"><span class="token punctuation" >{</span>
  test<span class="token punctuation" >:</span> <span class="token regex" >/\.less$/</span><span class="token punctuation" >,</span>
  use<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >'style-loader'</span><span class="token punctuation" >,</span> <span class="token string" >'css-loader'</span><span class="token punctuation" >,</span> <span class="token string" >'less-loader'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>
<span class="token punctuation" >}</span><span class="token punctuation" >,</span>
</code></pre>
<p>The loader supports Less plugins, source maps, and so on. To understand how those work you should check out the project itself.</p>
<h2 class="header"><a class="header-anchor" href="#loading-sass" id="loading-sass"></a><span class="text">Loading Sass</span><a class="header-anchor-select" href="#loading-sass">#</a></h2>
<p><img src="/ecdc6b5ac4e41f237df0b1a796d6e3ac.png" alt="Sass" class="" width="" height="" /></p>
<p><a href="http://sass-lang.com/">Sass</a> is a widely used CSS preprocessor. You should use <a href="https://www.npmjs.com/package/sass-loader">sass-loader</a> with it. Remember to install <a href="https://www.npmjs.com/package/node-sass">node-sass</a> to your project as it&#39;s a peer dependency.</p>
<p>Webpack doesn&#39;t take much configuration:</p>
<pre><code class="lang-javascript"><span class="token punctuation" >{</span>
  test<span class="token punctuation" >:</span> <span class="token regex" >/\.scss$/</span><span class="token punctuation" >,</span>
  use<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >'style-loader'</span><span class="token punctuation" >,</span> <span class="token string" >'css-loader'</span><span class="token punctuation" >,</span> <span class="token string" >'sass-loader'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>
<span class="token punctuation" >}</span><span class="token punctuation" >,</span>
</code></pre>
<blockquote class="tip"><i class="icon-attention-circled"></i>If you want more performance, especially during development, check out <a href="https://www.npmjs.com/package/fast-sass-loader">fast-sass-loader</a>.</blockquote><h2 class="header"><a class="header-anchor" href="#loading-stylus-and-yeticss" id="loading-stylus-and-yeticss"></a><span class="text">Loading Stylus and Yeticss</span><a class="header-anchor-select" href="#loading-stylus-and-yeticss">#</a></h2>
<p><img src="/edd6c36d59fc85102755b731109cd523.png" alt="Stylus" class="" width="" height="" /></p>
<p><a href="http://stylus-lang.com/">Stylus</a> is yet another example of a CSS processor. It works well through <a href="https://www.npmjs.com/package/stylus-loader">stylus-loader</a>. <a href="https://www.npmjs.com/package/yeticss">yeticss</a> is a pattern library that works well with it.</p>
<p>Consider the following configuration:</p>
<pre><code class="lang-javascript"><span class="token punctuation" >{</span>
  <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
  module<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    rules<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>
      <span class="token punctuation" >{</span>
        test<span class="token punctuation" >:</span> <span class="token regex" >/\.styl$/</span><span class="token punctuation" >,</span>
        use<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >'style-loader'</span><span class="token punctuation" >,</span> <span class="token string" >'css-loader'</span><span class="token punctuation" >,</span> <span class="token string" >'stylus-loader'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>
      <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >]</span><span class="token punctuation" >,</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
  plugins<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>
    <span class="token keyword" >new</span> <span class="token class-name" >webpack<span class="token punctuation" >.</span>LoaderOptionsPlugin</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
      options<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
        <span class="token comment" spellcheck="true">// yeticss</span>
        stylus<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
          use<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'yeticss'</span><span class="token punctuation" >)</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>
        <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
      <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
  <span class="token punctuation" >]</span><span class="token punctuation" >,</span>
<span class="token punctuation" >}</span><span class="token punctuation" >,</span>
</code></pre>
<p>To start using yeticss with Stylus, you must import it to one of your app&#39;s <em>.styl</em> files:</p>
<pre><code class="lang-javascript">@<span class="token keyword" >import</span> <span class="token string" >'yeticss'</span>

<span class="token comment" spellcheck="true">//or</span>
@<span class="token keyword" >import</span> <span class="token string" >'yeticss/components/type'</span>
</code></pre>
<h2 class="header"><a class="header-anchor" href="#postcss" id="postcss"></a><span class="text">PostCSS</span><a class="header-anchor-select" href="#postcss">#</a></h2>
<p><img src="/6a4638d8a038abef68cdc020771c604d.png" alt="PostCSS" class="" width="" height="" /></p>
<p><a href="http://postcss.org/">PostCSS</a> allows you to perform transformations over CSS through JavaScript plugins. You can even find plugins that provide you Sass-like features. PostCSS is the equivalent of Babel for styling. <a href="https://www.npmjs.com/package/postcss-loader">postcss-loader</a> allows using it with webpack.</p>
<p>The example below illustrates how to set up autoprefixing using PostCSS. It also sets up <a href="https://www.npmjs.com/package/precss">precss</a>, a PostCSS plugin that allows you to use Sass-like markup in your CSS. You can mix this technique with other loaders to allow autoprefixing there.</p>
<pre><code class="lang-javascript"><span class="token punctuation" >{</span>
  test<span class="token punctuation" >:</span> <span class="token regex" >/\.css$/</span><span class="token punctuation" >,</span>
  use<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>
    <span class="token string" >'style-loader'</span><span class="token punctuation" >,</span>
    <span class="token string" >'css-loader'</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >{</span>
      loader<span class="token punctuation" >:</span> <span class="token string" >'postcss-loader'</span><span class="token punctuation" >,</span>
      options<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
        plugins<span class="token punctuation" >:</span> <span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >(</span><span class="token punctuation" >[</span>
          <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'autoprefixer'</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
          <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'precss'</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
        <span class="token punctuation" >]</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
      <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
  <span class="token punctuation" >]</span><span class="token punctuation" >,</span>
<span class="token punctuation" >}</span><span class="token punctuation" >,</span>
</code></pre>
<p>You have to remember to include <a href="https://www.npmjs.com/package/autoprefixer">autoprefixer</a> and <a href="https://www.npmjs.com/package/precss">precss</a> to your project for this to work. The technique is discussed in detail in the <a href="/webpack/styling/autoprefixing/">Autoprefixing</a> chapter.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>PostCSS supports <em>postcss.config.js</em> based configuration. It relies on <a href="https://www.npmjs.com/package/cosmiconfig">cosmiconfig</a> internally for other formats.</blockquote><h3 class="header"><a class="header-anchor" href="#cssnext" id="cssnext"></a><span class="text">cssnext</span><a class="header-anchor-select" href="#cssnext">#</a></h3>
<p><a href="http://cssnext.io/">cssnext</a> is a PostCSS plugin that allows to experience the future now with certain restrictions. You can use it through <a href="https://www.npmjs.com/package/postcss-cssnext">postcss-cssnext</a> and enable it as follows:</p>
<pre><code class="lang-javascript"><span class="token punctuation" >{</span>
  loader<span class="token punctuation" >:</span> <span class="token string" >'postcss-loader'</span><span class="token punctuation" >,</span>
  options<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    plugins<span class="token punctuation" >:</span> <span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >(</span><span class="token punctuation" >[</span>
      <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'postcss-cssnext'</span><span class="token punctuation" >)</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >]</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
<span class="token punctuation" >}</span><span class="token punctuation" >,</span>
</code></pre>
<p>See <a href="http://cssnext.io/usage/">the usage documentation</a> for available options.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>cssnext includes <em>autoprefixer</em>! You don&#39;t have to configure autoprefixing separately for it to work in this case.</blockquote><h2 class="header"><a class="header-anchor" href="#understanding-lookups" id="understanding-lookups"></a><span class="text">Understanding Lookups</span><a class="header-anchor-select" href="#understanding-lookups">#</a></h2>
<p>To get most out of <em>css-loader</em>, you should understand how it performs its lookups. Even though <em>css-loader</em> handles relative imports by default, it doesn&#39;t touch absolute imports (<code>url(&quot;/static/img/demo.png&quot;)</code>). If you rely on these kind of imports, you have to copy the files to your project.</p>
<p><a href="https://www.npmjs.com/package/copy-webpack-plugin">copy-webpack-plugin</a> works for this purpose, but you can also copy the files outside of webpack. The benefit of the former approach is that webpack-dev-server can pick that up.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i><a href="https://www.npmjs.com/package/resolve-url-loader">resolve-url-loader</a> comes in handy if you use Sass or Less. It adds support for relative imports to the environments.</blockquote><h3 class="header"><a class="header-anchor" href="#processing-css-loader-imports" id="processing-css-loader-imports"></a><span class="text">Processing <em>css-loader</em> Imports</span><a class="header-anchor-select" href="#processing-css-loader-imports">#</a></h3>
<p>If you want to process <em>css-loader</em> imports in a specific way, you should set up <code>importLoaders</code> option to a number that tells the loader how many loaders after the <em>css-loader</em> should be executed against the imports found. If you import other CSS files from your CSS through the <code>@import</code> statement and want to process the imports through specific loaders, this technique is essential.</p>
<p>Consider the following import from a CSS file:</p>
<pre><code class="lang-css"><span class="token atrule" ><span class="token rule" >@import</span> <span class="token string" >"./variables.sass"</span><span class="token punctuation" >;</span></span>
</code></pre>
<p>To process the Sass file, you would have to write configuration:</p>
<pre><code class="lang-javascript"><span class="token punctuation" >{</span>
  test<span class="token punctuation" >:</span> <span class="token regex" >/\.css$/</span><span class="token punctuation" >,</span>
  use<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>
    <span class="token string" >'style-loader'</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >{</span>
      loader<span class="token punctuation" >:</span> <span class="token string" >'css-loader'</span><span class="token punctuation" >,</span>
      options<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
        importLoaders<span class="token punctuation" >:</span> <span class="token number" >1</span><span class="token punctuation" >,</span>
      <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
    <span class="token string" >'sass-loader'</span><span class="token punctuation" >,</span>
  <span class="token punctuation" >]</span><span class="token punctuation" >,</span>
<span class="token punctuation" >}</span><span class="token punctuation" >,</span>
</code></pre>
<p>If you added more loaders, such as <em>postcss-loader</em>, to the chain, you would have to adjust the <code>importLoaders</code> option accordingly.</p>
<h3 class="header"><a class="header-anchor" href="#loading-from-node_modules-directory" id="loading-from-node_modules-directory"></a><span class="text">Loading from <em>node_modules</em> Directory</span><a class="header-anchor-select" href="#loading-from-node_modules-directory">#</a></h3>
<p>You can load files directly from your node_modules directory. Consider Bootstrap and its usage for example:</p>
<pre><code class="lang-less"><span class="token variable" >@import</span> <span class="token string" >"~bootstrap/less/bootstrap"</span><span class="token punctuation" >;</span>
</code></pre>
<p>The tilde character (<code>~</code>) tells webpack that it&#39;s not a relative import as by default. If tilde is included, it performs a lookup against <code>node_modules</code> (default setting) although this is configurable through the <a href="https://webpack.js.org/configuration/resolve/#resolve-modules">resolve.modules</a> field.</p>
<blockquote class="warning"><i class="icon-attention"></i>If you are using <em>postcss-loader</em>, you can skip using <code>~</code> as discussed in <a href="https://github.com/postcss/postcss-loader/issues/166">postcss-loader issue tracker</a>. <em>postcss-loader</em> can resolve the imports without a tilde.</blockquote><h2 class="header"><a class="header-anchor" href="#enabling-source-maps" id="enabling-source-maps"></a><span class="text">Enabling Source Maps</span><a class="header-anchor-select" href="#enabling-source-maps">#</a></h2>
<p>If you want to enable source maps for CSS, you should enable <code>sourceMap</code> option for <em>css-loader</em> and set <code>output.publicPath</code> to an absolute url pointing to your development server. If you have multiple loaders in a chain, you have to enable source maps separately for each. <em>css-loader</em> <a href="https://github.com/webpack/css-loader/issues/29">issue 29</a> discusses this problem further.</p>
<h2 class="header"><a class="header-anchor" href="#converting-css-to-strings" id="converting-css-to-strings"></a><span class="text">Converting CSS to Strings</span><a class="header-anchor-select" href="#converting-css-to-strings">#</a></h2>
<p>Especially with Angular 2, it can be convenient if you can get CSS in a string format that can be pushed to components. <a href="https://www.npmjs.com/package/css-to-string-loader">css-to-string-loader</a> achieves exactly this.</p>
<h2 class="header"><a class="header-anchor" href="#using-bootstrap" id="using-bootstrap"></a><span class="text">Using Bootstrap</span><a class="header-anchor-select" href="#using-bootstrap">#</a></h2>
<p>There are a couple of ways to use <a href="https://getbootstrap.com/">Bootstrap</a> through webpack. One option is to point to the <a href="https://www.npmjs.com/package/bootstrap">npm version</a> and perform loader configuration as above.</p>
<p>The <a href="https://www.npmjs.com/package/bootstrap-sass">Sass version</a> is another option. In this case, you should set <code>precision</code> option of <em>sass-loader</em> to at least 8. This is <a href="https://www.npmjs.com/package/bootstrap-sass#sass-number-precision">a known issue</a> explained at <em>bootstrap-sass</em>.</p>
<p>The third option is to go through <a href="https://www.npmjs.com/package/bootstrap-loader">bootstrap-loader</a>. It does a lot more but allows customization.</p>
<h2 class="header"><a class="header-anchor" href="#conclusion" id="conclusion"></a><span class="text">Conclusion</span><a class="header-anchor-select" href="#conclusion">#</a></h2>
<p>Webpack can load a variety of style formats. It even supports advanced specifications like <a href="https://github.com/css-modules/webpack-demo">CSS Modules</a>. The approaches covered here inline the styling by default.</p>
<p>To recap:</p>
<ul>
<li><em>css-loader</em> evaluates the <code>@import</code> and <code>url()</code> definitions of your styling. <em>style-loader</em> converts it to JavaScript and implements webpack&#39;s Hot Module Replacement interface.</li>
<li><em>css-loader</em> supports the CSS Modules specification. CSS Modules allow you maintain CSS in a local scope by default solving the biggest issue of CSS.</li>
<li>Webpack supports a large variety of formats compiling to CSS through loaders. These include Sass, Less, and Stylus.</li>
<li>PostCSS allows you to inject functionality to CSS in through its plugin system. cssnext is an example of a collection of plugins for PostCSS that implements future features of CSS.</li>
<li><em>css-loader</em> doesn&#39;t touch absolute imports by default. It allows customization of loading behavior through the <code>importLoaders</code> option. You can perform lookups against <em>node_modules</em> by prefixing your imports with a tilde (<code>~</code>) character.</li>
<li>To use source maps, you have to enable <code>sourceMap</code> boolean through each style loader you are using except for <em>style-loader</em>. You should also set <code>output.publicPath</code> to an absolute url that points to your development server.</li>
<li>Using Bootstrap with webpack requires special care. You can either go through generic loaders or a bootstrap specific loader for more customization options.</li>
</ul>
<p>Although the loading approach covered here is enough for development purposes, it&#39;s not ideal for production as it inlines the styling to the JavaScript bundles. You&#39;ll learn to solve this problem in the next chapter by separating CSS from the source.</p>
</div><div class="social-links"><blockquote class="tip">If you enjoyed this page, consider subscribing to the mailing list below or following <a href="https://twitter.com/survivejs">@survivejs</a> for occasional updates. There is also <a href="/atom.xml">RSS</a> available for old beards (no pun intended).</blockquote><h2 class="subscribe-header">Subscribe to the mailing list</h2><form action="//jster.us7.list-manage.com/subscribe/post?u=ed40c0084a0c5ba31b3365d65&amp;amp;id=b853b8e786" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate social-form" target="_blank" novalidate=""><div id="mc_embed_signup_scroll"><div class="mc-field-group social-input-container"><input type="email" placeholder="Email" value="" name="EMAIL" class="required email" id="mce-EMAIL"/></div><div style="display:none;position:absolute;left:-5000px;"><input type="text" name="b_ed40c0084a0c5ba31b3365d65_b853b8e786" tabindex="-1" value=""/></div><div class="social-subscribe-container"><input type="submit" class="btn button social-subscribe" style="margin-top:1em;margin-bottom:1em;line-height:2em;" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"/></div></div></form></div><div class="new-prevnext"><div class="new-prevnext__prev"><div class="new-prevnext__bg" style="background-image:url(/a6fbb9ff305e017a8d08adc9cbc9c1ba.jpg);"></div><span class="new-prevnext__info">Previous chapter</span><a class="new-prevnext__link" href="/webpack/styling/">Styling</a></div><div class="new-prevnext__next"><div class="new-prevnext__bg" style="background-image:url(/b55f9451c82211376b2cd6620733e943.jpg);"></div><span class="new-prevnext__info">Next chapter</span><a class="new-prevnext__link" href="/webpack/styling/separating-css/">Separating CSS</a></div></div><blockquote class="tip"><p>This book is available through <a href="https://leanpub.com/survivejs-webpack">Leanpub (digital)</a>, <a href="https://www.amazon.com/dp/9526868803">Amazon (paperback)</a>, and <a href="https://www.amazon.com/dp/B06XWZZGBS">Kindle (digital)</a>. By purchasing the book you support the development of further content. A part of profit (~30%) goes to Tobias Koppers, the author of webpack.</p></blockquote><div id="disqus_thread"></div></div></div><div><a class="next-page" title="Separating CSS" href="/webpack/styling/separating-css/"><i class="icon-right-open"></i></a><a class="previous-page" title="Styling" href="/webpack/styling/"><i class="icon-left-open"></i></a></div><script type="text/javascript">var disqus_shortname = 'survivejs';(function() {var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script></div><div class="nav__wrapper"><input type="checkbox" class="nav__toggle" id="nav__toggle"/><label class="nav__toggle-label" for="nav__toggle"></label><nav class="nav"><div class="nav__link"><a href="/">Home</a></div><div class="nav__link"><a href="/blog/">Read the blog</a></div><div class="nav__link"><a href="/training/">Get training</a></div><div class="nav__link"><a href="https://leanpub.com/survivejs-webpack">Buy the ebook</a></div><div class="nav__link"><a href="/"></a></div><div class="nav__link"><a href="https://twitter.com/survivejs">@survivejs</a></div></nav></div><footer><div class="footer-wrapper"><div class="footer-content-wrapper"><div class="footer-social"><h3>Social</h3><ul><li><a href="https://twitter.com/survivejs" target="_blank" rel="noopener noreferrer">@survivejs</a></li><li><a href="http://eepurl.com/bth1v5" target="_blank" rel="noopener noreferrer">Mailing List</a></li><li><a href="https://gitter.im/survivejs" target="_blank" rel="noopener noreferrer">Gitter Chat</a></li><li><a href="https://github.com/survivejs" target="_blank" rel="noopener noreferrer">GitHub</a></li><li><a href="https://presentations.survivejs.com" target="_blank" rel="noopener noreferrer">Presentations</a></li><li><a href="http://goo.gl/forms/OWdGIOdHm9" target="_blank" rel="noopener noreferrer">Contact</a></li><li><a href="https://github.com/survivejs/ama/issues" target="_blank" rel="noopener noreferrer">Ask Me Anything</a></li></ul></div><div class="footer-blog"><h3>From the Blog</h3><ul class="blog-teasers"><li><a class="blog-teaser" href="/blog/unexpected-react-interview/">unexpected-react - Test Full Virtual DOM - Interview with Dave Brotherstone</a></li><li><a class="blog-teaser" href="/blog/webexpo-2017/">Experiences on WebExpo 2017</a></li><li><a class="blog-teaser" href="/blog/kea-interview/">Kea - High level abstraction between React and Redux - Interview with Marius Andra</a></li><li><a class="blog-teaser" href="/blog/react-next-2017/">Experiences on React Next 2017</a></li><li><a class="blog-teaser" href="/blog/frint-interview/">FrintJS - Build reactive applications with React and RxJS - Interview with Fahad Ibnay Heylaal</a></li><li><a class="blog-teaser" href="/blog/neutrino-interview/">Neutrino - Create modern JavaScript applications with minimal configuration - Interview with Eli Perelman</a></li><li><a class="blog-teaser" href="/blog/idyll-interview/">Idyll - Narratives for the web - Interview with Matthew Conlen</a></li></ul></div></div></div></footer><div><div class="gitter-open-chat-button">Need help?</div><script type="text/javascript">
          ((window.gitter = {}).chat = {}).options = {
            showChatByDefault: false,
            activationElement: '.gitter-open-chat-button',
            room: 'survivejs/react'
          };
        </script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script></div><div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript">
        docsearch({
          apiKey: '1182e3806d62e921613b8dc9c7a22ef3',
          indexName: 'survivejs_webpack',
          inputSelector: '#search',
          debug: false
        });
      </script></div></div>

    
  </body>
</html>
