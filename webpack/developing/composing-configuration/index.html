<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui" />
    <meta
      name="description"
      content="" />
    <meta
      name="keywords"
      content="" />
    <title>Composing Configuration</title>
    
    <link rel='icon' type='image/png' href='/favicon.png'></link>

    
      <link href="/site.68e8dd59996ad880a8b1.css" rel="stylesheet">
    

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"
    />
  </head>
  <body>
    <div><div class="chapter__wrapper"><div class="header-image" style="background-image:url(/223bc5e44691378be72e75fef2a3deb2.jpg);"></div><h1 class="post__heading">Composing Configuration</h1><div class="header-extra"><a href="https://pixabay.com/en/axe-chopper-cut-split-hatchet-674841/">stevepb (Public Domain)</a></div><div class="toc-nav__wrapper"><h4 class="search-nav--header">Search</h4><input id="search"/><h4 class="toc-nav--header">Table of Contents</h4><ul class="toc-nav"><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/foreword/">Foreword</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/preface/">Preface</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/introduction/">Introduction</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/what-is-webpack/">What is Webpack</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/developing/">Developing</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing/getting-started/">Getting Started</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing/webpack-dev-server/">webpack-dev-server</a></li><li class="toc-chapter"><span class="toc-nav__link toc-nav__link--current chapter">Composing Configuration</span></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/styling/">Styling</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/styling/loading/">Loading Styles</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/styling/separating-css/">Separating CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/styling/autoprefixing/">Autoprefixing</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/styling/eliminating-unused-css/">Eliminating Unused CSS</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/loading/">Loading Assets</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading/loader-definitions/">Loader Definitions</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading/images/">Loading Images</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading/fonts/">Loading Fonts</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading/javascript/">Loading JavaScript</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/building/">Building</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building/source-maps/">Source Maps</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building/bundle-splitting/">Bundle Splitting</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building/code-splitting/">Code Splitting</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building/tidying-up/">Tidying Up</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/optimizing/">Optimizing</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/minifying/">Minifying</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/tree-shaking/">Tree Shaking</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/environment-variables/">Environment Variables</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/adding-hashes-to-filenames/">Adding Hashes to Filenames</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/separating-manifest/">Separating a Manifest</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/build-analysis/">Build Analysis</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/performance/">Performance</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/output/">Output</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/output/targets/">Build Targets</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/output/multiple-pages/">Multiple Pages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/output/server-side-rendering/">Server Side Rendering</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/techniques/">Techniques</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/dynamic-loading/">Dynamic Loading</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/web-workers/">Web Workers</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/i18n/">Internationalization</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/testing/">Testing</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/deploying/">Deploying Applications</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/consuming/">Consuming Packages</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/extending/">Extending</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/extending/loaders/">Extending with Loaders</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/extending/plugins/">Extending with Plugins</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/conclusion/">Conclusion</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/appendices/">Appendices</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/comparison/">Comparison of Build Tools</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/hmr/">Hot Module Replacement</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/css-modules/">CSS Modules</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/searching-with-react/">Searching with React</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/troubleshooting/">Troubleshooting</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/glossary/">Glossary</a></li></ul><div><div class="buy-container"><a href="/webpack/foreword"><img alt="Webpack book cover" class="sidebar-cover" src="/8f86c1d07d5536454690030cd1a10b53.png" width="255" height="329"/></a><p><a class="btn btn--normal btn--buy" href="https://leanpub.com/survivejs-webpack">Buy at Leanpub</a><a class="btn btn--normal btn--buy" href="https://www.amazon.com/dp/9526868803/">Buy at Amazon</a><a class="btn btn--normal btn--buy" href="https://www.amazon.com/dp/B06XWZZGBS">Buy for Kindle</a></p></div><h3>See also</h3><div class="buy-container"><a href="/maintenance/introduction"><img alt="Maintenance book cover" class="sidebar-cover" src="/44f3a3a3dad86956efa57dea740c5d44.png" width="255" height="329"/></a><p><a class="btn btn--normal btn--buy" href="https://leanpub.com/survivejs-maintenance">Buy at Leanpub</a></p></div><div class="buy-container"><a href="/react/introduction"><img alt="React book cover" class="sidebar-cover" src="/b61671d95f81496495f2587a10ddb122.png" width="255" height="329"/></a><p><a class="btn btn--normal btn--buy" href="https://leanpub.com/survivejs-react">Buy at Leanpub</a></p></div></div></div><div class="chapter"><div class="post__content"><div><blockquote class="latestpost tip"><a class="latestpost-link" href="/blog/a-plus-interview/">a-plus-forms - A+ forms. Would use again - Interview with Nikolay Nemshilov</a></blockquote></div><div class="chapter-content"><p>Even though not a lot has been done with webpack yet, the amount of configuration is starting to feel substantial. Now you have to be careful about the way you compose it as you have separate production and development targets in the project. The situation can only get worse as you want to add more functionality to the project.</p>
<p>Using a single monolithic configuration file impacts comprehension and removes any potential for reusablity. As the needs of your project grow, you have to figure out the means to manage webpack configuration more effectively.</p>
<h2 class="header"><a class="header-anchor" href="#possible-ways-to-manage-configuration" id="possible-ways-to-manage-configuration"></a><span class="text">Possible Ways to Manage Configuration</span><a class="header-anchor-select" href="#possible-ways-to-manage-configuration">#</a></h2>
<p>You can manage webpack configuration in the following ways:</p>
<ul>
<li>Maintain configuration in multiple files for each environment and point webpack to each through the <code>--config</code> parameter, sharing configuration through module imports. You can see this approach in action at <a href="https://github.com/webpack/react-starter">webpack/react-starter</a>.</li>
<li>Push configuration to a library, which you then consume. Examples: <a href="https://www.npmjs.com/package/hjs-webpack">hjs-webpack</a>, <a href="https://neutrino.js.org/">Neutrino</a>, <a href="https://www.npmjs.com/package/webpack-blocks">webpack-blocks</a>.</li>
<li>Push configuration to a tool. Examples: <a href="https://www.npmjs.com/package/create-react-app">create-react-app</a>, <a href="https://www.npmjs.com/package/kyt">kyt</a>, <a href="https://www.npmjs.com/package/nwb">nwb</a>.</li>
<li>Maintain all configuration within a single file and branch there and by relying on the <code>--env</code> parameter.</li>
</ul>
<p>These approaches can be combined to create a higher level configuration that is then composed of smaller parts. Those parts could then be added to a library which you then use through npm making it possible to consume the same configuration across multiple projects.</p>
<h2 class="header"><a class="header-anchor" href="#composing-configuration-by-merging" id="composing-configuration-by-merging"></a><span class="text">Composing Configuration by Merging</span><a class="header-anchor-select" href="#composing-configuration-by-merging">#</a></h2>
<p>If the configuration file is broken into separate pieces, they have to be combined together again somehow. Normally this means merging objects and arrays. To eliminate the problem of dealing with <code>Object.assign</code> and <code>Array.concat</code>, <a href="https://www.npmjs.org/package/webpack-merge">webpack-merge</a> was developed.</p>
<p><em>webpack-merge</em> does two things: it concatenates arrays and merges objects instead of overriding them allowing composition. The example below shows the behavior in detail:</p>
<pre><code class="lang-bash"><span class="token operator" >></span> merge <span class="token operator" >=</span> require<span class="token punctuation" >(</span><span class="token string" >"webpack-merge"</span><span class="token punctuation" >)</span>
<span class="token punctuation" >..</span>.
<span class="token operator" >></span> merge<span class="token punctuation" >(</span>
<span class="token punctuation" >..</span>. <span class="token punctuation" >{</span> a: <span class="token punctuation" >[</span>1<span class="token punctuation" >]</span>, b: 5, c: 20 <span class="token punctuation" >}</span>,
<span class="token punctuation" >..</span>. <span class="token punctuation" >{</span> a: <span class="token punctuation" >[</span>2<span class="token punctuation" >]</span>, b: 10, d: 421 <span class="token punctuation" >}</span>
<span class="token punctuation" >..</span>. <span class="token punctuation" >)</span>
<span class="token punctuation" >{</span> a: <span class="token punctuation" >[</span> 1, 2 <span class="token punctuation" >]</span>, b: 10, c: 20, d: 421 <span class="token punctuation" >}</span>
</code></pre>
<p><em>webpack-merge</em> provides even more control through strategies that enable you to control its behavior per field. Strategies allow you to force it to append, prepend, or replace content.</p>
<p>Even though <em>webpack-merge</em> was designed for this book, it has proven to be an invaluable tool beyond it. You can consider it as a learning tool and pick it up in your work if you find it handy.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i><a href="https://www.npmjs.com/package/webpack-chain">webpack-chain</a> provides a fluent API for configuring webpack allowing you to avoid configuration shape-related problems while enabling composition.</blockquote><h2 class="header"><a class="header-anchor" href="#setting-up-webpack-merge-" id="setting-up-webpack-merge-"></a><span class="text">Setting Up <em>webpack-merge</em></span><a class="header-anchor-select" href="#setting-up-webpack-merge-">#</a></h2>
<p>To get started, add <em>webpack-merge</em> to the project:</p>
<pre><code class="lang-bash">npm <span class="token function" >install</span> webpack-merge --save-dev
</code></pre>
<p>To give a degree of abstraction, you can define <em>webpack.config.js</em> for higher level configuration and <em>webpack.parts.js</em> for configuration parts to consume. Here are the parts with small function-based interfaces extracted from the existing code:</p>
<p><strong>webpack.parts.js</strong></p>
<pre><code class="lang-javascript">exports<span class="token punctuation" >.</span>devServer <span class="token operator" >=</span> <span class="token punctuation" >(</span><span class="token punctuation" >{</span> host<span class="token punctuation" >,</span> port <span class="token punctuation" >}</span> <span class="token operator" >=</span> <span class="token punctuation" >{</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >(</span><span class="token punctuation" >{</span>
  devServer<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    stats<span class="token punctuation" >:</span> <span class="token string" >"errors-only"</span><span class="token punctuation" >,</span>
    host<span class="token punctuation" >,</span> <span class="token comment" spellcheck="true">// Defaults to `localhost`</span>
    port<span class="token punctuation" >,</span> <span class="token comment" spellcheck="true">// Defaults to 8080</span>
    overlay<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
      errors<span class="token punctuation" >:</span> <span class="token boolean" >true</span><span class="token punctuation" >,</span>
      warnings<span class="token punctuation" >:</span> <span class="token boolean" >true</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<blockquote class="tip"><i class="icon-attention-circled"></i>The same <code>stats</code> idea works for production configuration as well. See <a href="https://webpack.js.org/configuration/stats/">the official documentation</a> for all the available options.</blockquote><p>To connect this configuration part, set up <em>webpack.config.js</em> as in the code example below:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword" >const</span> path <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >"path"</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token keyword" >const</span> HtmlWebpackPlugin <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >"html-webpack-plugin"</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token keyword" >const</span> merge <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >"webpack-merge"</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<span class="token keyword" >const</span> parts <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >"./webpack.parts"</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<span class="token keyword" >const</span> PATHS <span class="token operator" >=</span> <span class="token punctuation" >{</span>
  app<span class="token punctuation" >:</span> path<span class="token punctuation" >.</span><span class="token function" >join</span><span class="token punctuation" >(</span>__dirname<span class="token punctuation" >,</span> <span class="token string" >"app"</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
  build<span class="token punctuation" >:</span> path<span class="token punctuation" >.</span><span class="token function" >join</span><span class="token punctuation" >(</span>__dirname<span class="token punctuation" >,</span> <span class="token string" >"build"</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>

<span class="token keyword" >const</span> commonConfig <span class="token operator" >=</span> <span class="token function" >merge</span><span class="token punctuation" >(</span><span class="token punctuation" >[</span>
  <span class="token punctuation" >{</span>
    entry<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
      app<span class="token punctuation" >:</span> PATHS<span class="token punctuation" >.</span>app<span class="token punctuation" >,</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
    output<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
      path<span class="token punctuation" >:</span> PATHS<span class="token punctuation" >.</span>build<span class="token punctuation" >,</span>
      filename<span class="token punctuation" >:</span> <span class="token string" >"[name].js"</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
    plugins<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>
      <span class="token keyword" >new</span> <span class="token class-name" >HtmlWebpackPlugin</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
        title<span class="token punctuation" >:</span> <span class="token string" >"Webpack demo"</span><span class="token punctuation" >,</span>
      <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >]</span><span class="token punctuation" >,</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
<span class="token punctuation" >]</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<span class="token keyword" >const</span> productionConfig <span class="token operator" >=</span> <span class="token function" >merge</span><span class="token punctuation" >(</span><span class="token punctuation" >[</span><span class="token punctuation" >]</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<span class="token keyword" >const</span> developmentConfig <span class="token operator" >=</span> <span class="token function" >merge</span><span class="token punctuation" >(</span><span class="token punctuation" >[</span>
  parts<span class="token punctuation" >.</span><span class="token function" >devServer</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
    <span class="token comment" spellcheck="true">// Customize host/port here if needed</span>
    host<span class="token punctuation" >:</span> process<span class="token punctuation" >.</span>env<span class="token punctuation" >.</span>HOST<span class="token punctuation" >,</span>
    port<span class="token punctuation" >:</span> process<span class="token punctuation" >.</span>env<span class="token punctuation" >.</span>PORT<span class="token punctuation" >,</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
<span class="token punctuation" >]</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

module<span class="token punctuation" >.</span>exports <span class="token operator" >=</span> env <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
  <span class="token keyword" >if</span> <span class="token punctuation" >(</span>env <span class="token operator" >===</span> <span class="token string" >"production"</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >return</span> <span class="token function" >merge</span><span class="token punctuation" >(</span>commonConfig<span class="token punctuation" >,</span> productionConfig<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>

  <span class="token keyword" >return</span> <span class="token function" >merge</span><span class="token punctuation" >(</span>commonConfig<span class="token punctuation" >,</span> developmentConfig<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>
</code></pre>
<p>After this change, the build should behave the same way as before. This time, however, you have room to expand, and you don&#39;t have to worry about how to combine different parts of the configuration.</p>
<p>You can add more targets by expanding the <em>package.json</em> definition and branching at <em>webpack.config.js</em> based on the need. <em>webpack.parts.js</em> grows to contain specific techniques you can then use to compose the configuration.</p>
<h2 class="header"><a class="header-anchor" href="#benefits-of-composing-configuration" id="benefits-of-composing-configuration"></a><span class="text">Benefits of Composing Configuration</span><a class="header-anchor-select" href="#benefits-of-composing-configuration">#</a></h2>
<p>Splitting configuration allows you to keep on expanding the setup. The biggest win is the fact that you can extract commonalities between different targets. You can also identify smaller configuration parts to compose. These configuration parts can be pushed to packages of their own to consume across projects.</p>
<p>Instead of duplicating similar configuration across multiple projects, you can manage configuration as a dependency now. As you figure out better ways to perform tasks, all your projects receive the improvements.</p>
<p>Each approach comes with its pros and cons. Composition-based approach is a good starting point. In addition to composition, it gives you a limited amount of code to scan through, but it&#39;s a good idea to check out how other people do it too. You can find something that works the best based on your tastes.</p>
<p>Perhaps the biggest problem is that with composition you need to know what you are doing, and it&#39;s possible you aren&#39;t going to get the composition right the first time around. But that&#39;s a software engineering problem that goes beyond webpack.</p>
<p>You can always iterate on the interfaces and find better ones. By passing in a configuration object instead of multiple arguments, you can change the behavior of a part without effecting its API. You can expose API as you need it.</p>
<h2 class="header"><a class="header-anchor" href="#configuration-layouts" id="configuration-layouts"></a><span class="text">Configuration Layouts</span><a class="header-anchor-select" href="#configuration-layouts">#</a></h2>
<p>In the book project, you push all of the configuration into two files: <em>webpack.config.js</em> and <em>webpack.parts.js</em>. The former contains higher level configuration while the latter lower level and isolates you from webpack specifics. The chosen approach allows more layouts, and you can evolve it further.</p>
<h3 class="header"><a class="header-anchor" href="#split-per-configuration-target" id="split-per-configuration-target"></a><span class="text">Split per Configuration Target</span><a class="header-anchor-select" href="#split-per-configuration-target">#</a></h3>
<p>If you split the configuration per target, you could end up with a file structure as below:</p>
<pre><code class="lang-bash"><span class="token keyword" >.</span>
└── config
    ├── webpack.common.js
    ├── webpack.development.js
    ├── webpack.parts.js
    └── webpack.production.js
</code></pre>
<p>In this case, you would point to the targets through webpack <code>--config</code> parameter and <code>merge</code> common configuration through <code>module.exports = merge(common, config);</code>.</p>
<h3 class="header"><a class="header-anchor" href="#split-parts-per-purpose" id="split-parts-per-purpose"></a><span class="text">Split Parts per Purpose</span><a class="header-anchor-select" href="#split-parts-per-purpose">#</a></h3>
<p>To add hierarchy to the way configuration parts are managed, you could decompose <em>webpack.parts.js</em> per category:</p>
<pre><code class="lang-bash"><span class="token keyword" >.</span>
└── config
    ├── parts
    │   ├── devserver.js
    <span class="token punctuation" >..</span>.
    │   ├── index.js
    │   └── javascript.js
    └── <span class="token punctuation" >..</span>.
</code></pre>
<p>This arrangement would make it faster to find configuration related to a category. A good option would be to arrange the parts within a single file and use comments to split it up.</p>
<h3 class="header"><a class="header-anchor" href="#pushing-parts-to-packages" id="pushing-parts-to-packages"></a><span class="text">Pushing Parts to Packages</span><a class="header-anchor-select" href="#pushing-parts-to-packages">#</a></h3>
<p>Given all configuration is JavaScript, nothing prevents you from consuming it as a package or packages. It would be possible to package the shared configuration so that you can consume it across multiple projects. See the <em>SurviveJS - Maintenance</em> book for further information on how to achieve this.</p>
<h2 class="header"><a class="header-anchor" href="#conclusion" id="conclusion"></a><span class="text">Conclusion</span><a class="header-anchor-select" href="#conclusion">#</a></h2>
<p>Even though the configuration is technically the same as before, now you have room to grow it.</p>
<p>To recap:</p>
<ul>
<li>Given webpack configuration is JavaScript code underneath, there are many ways to manage it.</li>
<li>You should choose a method to compose configuration that makes the most sense to you. <a href="https://www.npmjs.com/package/webpack-merge">webpack-merge</a> was developed to provide a light approach for composition, but you can find many other options in the wild.</li>
<li>Composition can enable configuration sharing. Instead of having to maintain a custom configuration per repository, you can share it across repositories this way. Using npm packages enables this. Developing configuration is close to developing any other code. This time, however, you codify your practices as packages.</li>
</ul>
<p>The next parts of this book cover different techniques, and <em>webpack.parts.js</em> sees a lot of action as a result. The changes to <em>webpack.config.js</em> fortunately remain minimal.</p>
</div><div class="social-links"><blockquote class="tip">If you enjoyed this page, consider subscribing to the mailing list below or following <a href="https://twitter.com/survivejs">@survivejs</a> for occasional updates. There is also <a href="/atom.xml">RSS</a> available for old beards (no pun intended).</blockquote><h2 class="subscribe-header">Subscribe to the mailing list</h2><form action="//jster.us7.list-manage.com/subscribe/post?u=ed40c0084a0c5ba31b3365d65&amp;amp;id=b853b8e786" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate social-form" target="_blank" novalidate=""><div id="mc_embed_signup_scroll"><div class="mc-field-group social-input-container"><input type="email" placeholder="Email" value="" name="EMAIL" class="required email" id="mce-EMAIL"/></div><div style="display:none;position:absolute;left:-5000px;"><input type="text" name="b_ed40c0084a0c5ba31b3365d65_b853b8e786" tabindex="-1" value=""/></div><div class="social-subscribe-container"><input type="submit" class="btn button social-subscribe" style="margin-top:1em;margin-bottom:1em;line-height:2em;" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"/></div></div></form></div><div class="new-prevnext"><div class="new-prevnext__prev"><div class="new-prevnext__bg" style="background-image:url(/7483086380eb84bfeb44cb75d891f945.jpg);"></div><span class="new-prevnext__info">Previous chapter</span><a class="new-prevnext__link" href="/webpack/developing/webpack-dev-server/">webpack-dev-server</a></div><div class="new-prevnext__next"><div class="new-prevnext__bg" style="background-image:url(/a6fbb9ff305e017a8d08adc9cbc9c1ba.jpg);"></div><span class="new-prevnext__info">Next chapter</span><a class="new-prevnext__link" href="/webpack/styling/">Styling</a></div></div><blockquote class="tip"><p>This book is available through <a href="https://leanpub.com/survivejs-webpack">Leanpub (digital)</a>, <a href="https://www.amazon.com/dp/9526868803">Amazon (paperback)</a>, and <a href="https://www.amazon.com/dp/B06XWZZGBS">Kindle (digital)</a>. By purchasing the book you support the development of further content. A part of profit (~30%) goes to Tobias Koppers, the author of webpack.</p></blockquote><div id="disqus_thread"></div></div></div><div><a class="next-page" title="Styling" href="/webpack/styling/"><i class="icon-right-open"></i></a><a class="previous-page" title="webpack-dev-server" href="/webpack/developing/webpack-dev-server/"><i class="icon-left-open"></i></a></div><script type="text/javascript">var disqus_shortname = 'survivejs';(function() {var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script></div><div class="nav__wrapper"><input type="checkbox" class="nav__toggle" id="nav__toggle"/><label class="nav__toggle-label" for="nav__toggle"></label><nav class="nav"><div class="nav__link"><a href="/">Home</a></div><div class="nav__link"><a href="/blog/">Read the blog</a></div><div class="nav__link"><a href="/maintenance/">Maintenance book</a></div><div class="nav__link"><a href="/react/">React book</a></div><div class="nav__link"><a href="/webpack/">Webpack book</a></div><div class="nav__link"><a href="/training/">Get training</a></div><div class="nav__link"><a href="https://twitter.com/survivejs">@survivejs</a></div></nav></div><footer><div class="footer-wrapper"><div class="footer-content-wrapper"><div class="footer-social"><h3>Social</h3><ul><li><a href="https://twitter.com/survivejs" target="_blank" rel="noopener noreferrer">@survivejs</a></li><li><a href="http://eepurl.com/bth1v5" target="_blank" rel="noopener noreferrer">Mailing List</a></li><li><a href="https://gitter.im/survivejs" target="_blank" rel="noopener noreferrer">Gitter Chat</a></li><li><a href="https://github.com/survivejs" target="_blank" rel="noopener noreferrer">GitHub</a></li><li><a href="https://presentations.survivejs.com" target="_blank" rel="noopener noreferrer">Presentations</a></li><li><a href="http://goo.gl/forms/OWdGIOdHm9" target="_blank" rel="noopener noreferrer">Contact</a></li><li><a href="https://github.com/survivejs/ama/issues" target="_blank" rel="noopener noreferrer">Ask Me Anything</a></li></ul></div><div class="footer-blog"><h3>From the Blog</h3><ul class="blog-teasers"><li><a class="blog-teaser" href="/blog/a-plus-interview/">a-plus-forms - A+ forms. Would use again - Interview with Nikolay Nemshilov</a></li><li><a class="blog-teaser" href="/blog/survivejs-webpack-and-maintenance/">“SurviveJS — Webpack” v2.1 and “SurviveJS — Maintenance” v0.9</a></li><li><a class="blog-teaser" href="/blog/cabbie-interview/">Cabbie - WebDriver for the masses - Interview with Forbes Lindesay</a></li><li><a class="blog-teaser" href="/blog/react-lite-interview/">react-lite - Implementation of React optimized for small size - Interview with Jade</a></li><li><a class="blog-teaser" href="/blog/react-day-berlin-interview/">React Day Berlin - Fully Packed Day of Your Favorite React Content - Interview with Robert Haritonov</a></li><li><a class="blog-teaser" href="/blog/unexpected-react-interview/">unexpected-react - Test Full Virtual DOM - Interview with Dave Brotherstone</a></li><li><a class="blog-teaser" href="/blog/webexpo-2017/">Experiences on WebExpo 2017</a></li></ul></div></div></div></footer><div><div class="gitter-open-chat-button">Need help?</div><script type="text/javascript">
          ((window.gitter = {}).chat = {}).options = {
            showChatByDefault: false,
            activationElement: '.gitter-open-chat-button',
            room: 'survivejs/react'
          };
        </script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script></div><div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript">
        docsearch({
          apiKey: '1182e3806d62e921613b8dc9c7a22ef3',
          indexName: 'survivejs_webpack',
          inputSelector: '#search',
          debug: false
        });
      </script></div></div>

    
  </body>
</html>
