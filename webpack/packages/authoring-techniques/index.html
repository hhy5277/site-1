<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui" />
    <meta
      name="description"
      content="" />
    <meta
      name="keywords"
      content="" />
    <title>Package Authoring Techniques</title>
    
    <link rel='icon' type='image/png' href='/assets/favicon.png'></link>

    
      <link href="/site.e12bb4c262347b760f5d.css" rel="stylesheet">
    

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"
    />
  </head>
  <body>
    <div><div class="chapter__wrapper"><div class="header-image" style="background-image:url(/03715aa11bab766e7797770dc92a45af.jpg);"></div><h1 class="post__heading">Package Authoring Techniques</h1><div class="header-extra"><a href="https://pixabay.com/en/letters-typewriter-vintage-hipster-1161946/">KoalaParkLaundromat (Public Domain)</a></div><div class="toc-nav__wrapper"><h4 class="search-nav--header">Search</h4><input id="search"/><h4 class="toc-nav--header">Table of Contents</h4><ul class="toc-nav"><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/foreword/">Foreword</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/preface/">Preface</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/introduction/">Introduction</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/what-is-webpack/">What is Webpack</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/developing/">Developing</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing/getting-started/">Getting Started</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing/automatic-browser-refresh/">Automatic Browser Refresh</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing/linting/">Linting JavaScript</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing/composing-configuration/">Composing Configuration</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/styling/">Styling</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/styling/loading/">Loading Styles</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/styling/separating-css/">Separating CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/styling/autoprefixing/">Autoprefixing</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/styling/eliminating-unused-css/">Eliminating Unused CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/styling/linting/">Linting CSS</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/loading/">Loading Assets</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading/loader-definitions/">Loader Definitions</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading/images/">Loading Images</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading/fonts/">Loading Fonts</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading/javascript/">Loading JavaScript</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/building/">Building</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building/source-maps/">Source Maps</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building/bundle-splitting/">Bundle Splitting</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building/code-splitting/">Code Splitting</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building/tidying-up/">Tidying Up</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/optimizing/">Optimizing</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/minifying/">Minifying</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/tree-shaking/">Tree Shaking</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/environment-variables/">Environment Variables</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/adding-hashes-to-filenames/">Adding Hashes to Filenames</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/separating-manifest/">Separating a Manifest</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/analyzing-build-statistics/">Analyzing Build Statistics</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/performance/">Performance</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/output/">Output</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/output/targets/">Build Targets</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/output/bundling-libraries/">Bundling Libraries</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/output/library-output/">Library Output</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/output/multiple-pages/">Multiple Pages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/output/server-side-rendering/">Server Side Rendering</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/techniques/">Techniques</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/dynamic-loading/">Dynamic Loading</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/web-workers/">Web Workers</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/i18n/">Internationalization</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/testing/">Testing</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/deploying/">Deploying Applications</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/packages/">Packages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/packages/consuming/">Consuming Packages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/packages/consuming-techniques/">Package Consuming Techniques</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/packages/authoring/">Authoring Packages</a></li><li class="toc-chapter"><span class="toc-nav__link toc-nav__link--current chapter">Package Authoring Techniques</span></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/extending/">Extending</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/extending/loaders/">Extending with Loaders</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/extending/plugins/">Extending with Plugins</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/conclusion/">Conclusion</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/appendices/">Appendices</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/comparison/">Comparison of Build Tools</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/hmr/">Hot Module Replacement</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/hmr-with-react/">Hot Module Replacement with React</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/customizing-eslint/">Customizing ESLint</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/searching-with-react/">Searching with React</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/troubleshooting/">Troubleshooting</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/glossary/">Glossary</a></li></ul><div><div class="buy-container"><a href="/webpack/foreword"><img alt="Webpack book cover" class="sidebar-cover" src="/8f86c1d07d5536454690030cd1a10b53.png" width="255" height="329"/></a><p><a class="btn btn--normal btn--buy" href="https://leanpub.com/survivejs-webpack">Buy at Leanpub</a><a class="btn btn--normal btn--buy" href="https://www.amazon.com/dp/9526868803/">Buy at Amazon</a><a class="btn btn--normal btn--buy" href="https://www.amazon.com/dp/B06XWZZGBS">Buy for Kindle</a></p></div><h3>See also</h3><div class="buy-container"><a href="/react/introduction"><img alt="React book cover" class="sidebar-cover" src="/b61671d95f81496495f2587a10ddb122.png" width="255" height="329"/></a><p><a class="btn btn--normal btn--buy" href="https://leanpub.com/survivejs-react">Buy at Leanpub</a></p></div></div></div><div class="chapter"><div class="post__content"><div><blockquote class="latestpost tip"><a class="latestpost-link" href="/blog/unexpected-react-interview/">unexpected-react - Test Full Virtual DOM - Interview with Dave Brotherstone</a></blockquote></div><div class="chapter-content"><p>To get most out of npm and webpack, consider the techniques below. Webpack can help you here.</p>
<h2 class="header"><a class="header-anchor" href="#npm-lifecycle-hooks" id="npm-lifecycle-hooks"></a><span class="text">npm Lifecycle Hooks</span><a class="header-anchor-select" href="#npm-lifecycle-hooks">#</a></h2>
<p>npm provides a collection of lifecycle hooks. Suppose you are authoring a React component using Babel. In that case, you should generate an ES5 compatible version of the package for npm consumers and point to it through <em>package.json</em> <code>main</code>. You can achieve this using <strong>babel</strong> command line tool:</p>
<pre><code class="lang-bash">babel ./lib --out-dir ./dist-modules
</code></pre>
<p>The command walks through the <code>./lib</code> directory and writes a processed file to <code>./dist-modules</code> for each module it encounters.</p>
<p>Since running that command each time you publish is tedious, you can set up a <code>prepublish</code> hook:</p>
<p><strong>package.json</strong></p>
<pre><code class="lang-json"><span class="token property" >"scripts"</span><span class="token operator" >:</span> <span class="token punctuation" >{</span>
  ...
  <span class="token property" >"prepublish"</span><span class="token operator" >:</span> <span class="token string" >"babel ./lib --out-dir ./dist-modules"</span>
<span class="token punctuation" >}</span><span class="token punctuation" >,</span>
<span class="token property" >"main"</span><span class="token operator" >:</span> <span class="token string" >"dist-modules/"</span><span class="token punctuation" >,</span>
</code></pre>
<p>Make sure you execute <code>npm install babel-cli --save-dev</code> to include the tool into your project.</p>
<p>To avoid versioning the directory and to keep your <code>git status</code> clean, consider adding <code>dist-modules/</code> to your <em>.gitignore</em>.</p>
<p>Besides <code>prepublish</code>, npm provides a set of other hooks. The naming is always the same and follows the pattern <code>pre&lt;hook&gt;</code>, <code>&lt;hook&gt;</code>, <code>post&lt;hook&gt;</code> where <code>&lt;hook&gt;</code> can be <code>publish</code>, <code>install</code>, <code>test</code>, <code>stop</code>, <code>start</code>, <code>restart</code>, or <code>version</code>. Even though npm triggers scripts bound to these automatically, you can trigger them explicitly through <code>npm run</code> for testing (i.e., <code>npm run prepublish</code>).</p>
<p>The <a href="https://docs.npmjs.com/misc/scripts">the official documentation</a> covers a lot of smaller tips related to these hooks. However, often all you need is a <code>prepublish</code> script for build automation.</p>
<h3 class="header"><a class="header-anchor" href="#working-around-prepublish-in-npm-3" id="working-around-prepublish-in-npm-3"></a><span class="text">Working Around <code>prepublish</code> in npm 3</span><a class="header-anchor-select" href="#working-around-prepublish-in-npm-3">#</a></h3>
<p>In npm 3 <code>prepublish</code> hook gets also triggered when you run <code>npm install</code> on the project locally. Sometimes this can be surprising and counter-productive even.</p>
<p><a href="https://www.npmjs.com/package/in-publish">in-publish</a> allows you to tune the behavior and skip the installation step. You need to prepend your script with <code>in-publish &amp;&amp; babel ...</code> kind of line for this to work. npm 4 and the following versions fix this confusing behavior.</p>
<h2 class="header"><a class="header-anchor" href="#avoiding-bundling-dependencies" id="avoiding-bundling-dependencies"></a><span class="text">Avoiding Bundling Dependencies</span><a class="header-anchor-select" href="#avoiding-bundling-dependencies">#</a></h2>
<p>Since it&#39;s not a good idea to bundle your package dependencies, such as React, within the distribution bundle itself, you should let the user inject them. You can configure external dependencies using the <code>externals</code> configuration:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="lang-javascript">externals<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
  <span class="token comment" spellcheck="true">// Adapt `import merge from 'lodash/merge';` to different environments.</span>
  <span class="token string" >'lodash/merge'</span><span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    commonjs<span class="token punctuation" >:</span> <span class="token string" >'lodash/merge'</span><span class="token punctuation" >,</span>
    commonjs2<span class="token punctuation" >:</span> <span class="token string" >'lodash/merge'</span><span class="token punctuation" >,</span>
    <span class="token comment" spellcheck="true">// Look up lodash.merge below ['lodash', 'merge'] for AMD.</span>
    amd<span class="token punctuation" >:</span>  <span class="token punctuation" >[</span><span class="token string" >'lodash'</span><span class="token punctuation" >,</span> <span class="token string" >'merge'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>
    <span class="token comment" spellcheck="true">// Look up lodash.merge through `_.merge` in global environment.</span>
    root<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >'_'</span><span class="token punctuation" >,</span> <span class="token string" >'merge'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
  <span class="token comment" spellcheck="true">// Adapt React to different environments.</span>
  <span class="token string" >'react'</span><span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    commonjs<span class="token punctuation" >:</span> <span class="token string" >'react'</span><span class="token punctuation" >,</span>
    commonjs2<span class="token punctuation" >:</span> <span class="token string" >'react'</span><span class="token punctuation" >,</span>
    amd<span class="token punctuation" >:</span> <span class="token string" >'React'</span><span class="token punctuation" >,</span>
    root<span class="token punctuation" >:</span> <span class="token string" >'React'</span><span class="token punctuation" >,</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
  <span class="token string" >'jquery'</span><span class="token punctuation" >:</span> <span class="token string" >'jquery'</span><span class="token punctuation" >,</span>
<span class="token punctuation" >}</span><span class="token punctuation" >,</span>
</code></pre>
<p>If you want to include all modules in <em>node_modules</em> by default, it&#39;s possible to use <a href="https://www.npmjs.com/package/webpack-node-externals">webpack-node-externals</a> instead. In this case would end up with <code>externals: [nodeExternals()]</code> kind of declaration.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>Given bundling is still be required sometimes, consider using the <a href="https://docs.npmjs.com/files/package.json#bundleddependencies">bundledDependencies</a> field for sharing third-party files not available through npm. There&#39;s a great <a href="http://stackoverflow.com/a/25044361/228885">Stack Overflow answer</a> discussing the topic further.</blockquote><h2 class="header"><a class="header-anchor" href="#processing-node-version-through-babel" id="processing-node-version-through-babel"></a><span class="text">Processing Node Version through Babel</span><a class="header-anchor-select" href="#processing-node-version-through-babel">#</a></h2>
<p>If you are processing your code through Babel, you can skip webpack. The advantage of doing this is that it gives you separate modules that are easier to consume one by one if needed.</p>
<p>In this case, a setup as below works:</p>
<p><strong>package.json</strong></p>
<pre><code class="lang-json">/* `npm run &lt;name>` */
<span class="token property" >"scripts"</span><span class="token operator" >:</span> <span class="token punctuation" >{</span>
  ...
  <span class="token property" >"dist"</span><span class="token operator" >:</span> <span class="token string" >"webpack --env dist"</span><span class="token punctuation" >,</span>
  "dist<span class="token operator" >:</span>min"<span class="token operator" >:</span> <span class="token string" >"webpack --env dist:min"</span><span class="token punctuation" >,</span>

  /* Process source through Babel! */
  "dist<span class="token operator" >:</span>modules"<span class="token operator" >:</span> <span class="token string" >"babel ./src --out-dir ./dist-modules"</span><span class="token punctuation" >,</span>
  ...
  <span class="token property" >"preversion"</span><span class="token operator" >:</span> <span class="token string" >"npm run test &amp;&amp; npm run dist:all &amp;&amp; git commit --allow-empty -am \"</span>Update dist\<span class="token string" >""</span><span class="token punctuation" >,</span>
  <span class="token property" >"prepublish"</span><span class="token operator" >:</span> <span class="token string" >"npm run dist:modules"</span><span class="token punctuation" >,</span>
  ...
<span class="token punctuation" >}</span><span class="token punctuation" >,</span>
/* Point to the Node specific version */
<span class="token property" >"main"</span><span class="token operator" >:</span> <span class="token string" >"dist-modules"</span><span class="token punctuation" >,</span>
</code></pre>
<p>What if someone points to a development version of your package directly through GitHub, though? It doesn&#39;t work as the <code>dist-modules</code> directory is missing. The problem can be fixed using a hook that generates the needed source.</p>
<h2 class="header"><a class="header-anchor" href="#generating-a-distribution-for-development-usage" id="generating-a-distribution-for-development-usage"></a><span class="text">Generating a Distribution for Development Usage</span><a class="header-anchor-select" href="#generating-a-distribution-for-development-usage">#</a></h2>
<p>To solve the development distribution problem, a custom script is required. First, connect the hook with a custom script:</p>
<p><strong>package.json</strong></p>
<pre><code class="lang-json"><span class="token property" >"scripts"</span><span class="token operator" >:</span> <span class="token punctuation" >{</span>
  ...
  /* Point to the script that generates the missing source. */
  <span class="token property" >"postinstall"</span><span class="token operator" >:</span> <span class="token string" >"node lib/postinstall.js"</span>
<span class="token punctuation" >}</span><span class="token punctuation" >,</span>
</code></pre>
<p>Secondly, define a script:</p>
<p><strong>lib/postinstall.js</strong></p>
<pre><code class="lang-javascript"><span class="token comment" spellcheck="true">/* eslint-disable */</span>
<span class="token comment" spellcheck="true">// adapted based on rackt/history (MIT)</span>
<span class="token comment" spellcheck="true">// Node 4+</span>
<span class="token keyword" >const</span> execSync <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'child_process'</span><span class="token punctuation" >)</span><span class="token punctuation" >.</span>execSync<span class="token punctuation" >;</span>
<span class="token keyword" >const</span> fs <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'fs'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<span class="token comment" spellcheck="true">// This could be read from package.json</span>
<span class="token keyword" >const</span> distDirectory <span class="token operator" >=</span> <span class="token string" >'dist-modules'</span><span class="token punctuation" >;</span>

fs<span class="token punctuation" >.</span><span class="token function" >stat</span><span class="token punctuation" >(</span>distDirectory<span class="token punctuation" >,</span> <span class="token punctuation" >(</span>error<span class="token punctuation" >,</span> stat<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
  <span class="token keyword" >if</span> <span class="token punctuation" >(</span>error <span class="token operator" >||</span> <span class="token operator" >!</span>stat<span class="token punctuation" >.</span><span class="token function" >isDirectory</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token comment" spellcheck="true">// Create a directory to avoid getting stuck</span>
    <span class="token comment" spellcheck="true">// in postinstall loop</span>
    fs<span class="token punctuation" >.</span><span class="token function" >mkdirSync</span><span class="token punctuation" >(</span>distDirectory<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
    <span class="token function" >exec</span><span class="token punctuation" >(</span><span class="token string" >'npm install --only=dev'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
    <span class="token function" >exec</span><span class="token punctuation" >(</span><span class="token string" >'npm run build'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<span class="token keyword" >function</span> <span class="token function" >exec</span><span class="token punctuation" >(</span>command<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token function" >execSync</span><span class="token punctuation" >(</span>command<span class="token punctuation" >,</span> <span class="token punctuation" >{</span>
    <span class="token comment" spellcheck="true">// Print stdin/stdout/stderr</span>
    stdio<span class="token punctuation" >:</span> <span class="token string" >'inherit'</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span>
</code></pre>
<p>The script needs tweaking to fit your purposes. But it&#39;s enough to give you a rough idea. If the <code>dist-modules</code> directory is missing, you generate it here.</p>
<p>For the build script to work, you have to remember to include the source of the package to the distribution version and to tweak <em>package.json</em> <code>files</code> field accordingly.</p>
<blockquote class="warning"><i class="icon-attention"></i>Relying on <code>postinstall</code> scripts can be <a href="http://blog.npmjs.org/post/141702881055/package-install-scripts-vulnerability">potentially dangerous</a>. Security-minded developers want to use <code>npm install --ignore-scripts</code>. You can set that default through <code>npm config set ignore-scripts true</code> if you want. Being cautious does not hurt.</blockquote><h2 class="header"><a class="header-anchor" href="#deprecating-unpublishing-and-renaming-packages" id="deprecating-unpublishing-and-renaming-packages"></a><span class="text">Deprecating, Unpublishing, and Renaming Packages</span><a class="header-anchor-select" href="#deprecating-unpublishing-and-renaming-packages">#</a></h2>
<p>It&#39;s possible that your package reaches the end of its life. Another package could replace it, or it can become obsolete. For this purpose, npm provides <a href="https://docs.npmjs.com/cli/deprecate">npm deprecate</a> command. You can state <code>npm deprecate foo@&quot;&lt; 0.4.0&quot; &quot;Use bar package instead&quot;</code>.</p>
<p>You can deprecate a range or a whole package by skipping the range. Given mistakes happen, you can undeprecate a package by providing an empty message.</p>
<p>Deprecation can be handy if you have to rename a package. You can publish the package under a new name and let the users know of the new name in your deprecation message.</p>
<p>There is a heavier duty option in the form of <a href="https://docs.npmjs.com/cli/unpublish">npm unpublish</a>. Using <code>npm unpublish</code> you can pull a package out of the registry. Given this can be potentially dangerous and break the code for a lot of people, it has been <a href="http://blog.npmjs.org/post/141905368000/changes-to-npms-unpublish-policy">restricted to versions that are less than 24 hours old</a>. Most likely you don&#39;t need the feature at all, but it&#39;s nice to know it exists.</p>
<h2 class="header"><a class="header-anchor" href="#sharing-authorship" id="sharing-authorship"></a><span class="text">Sharing Authorship</span><a class="header-anchor-select" href="#sharing-authorship">#</a></h2>
<p>As packages evolve, you likely want to start developing with others. You could become the new maintainer of a project, or pass the torch to someone else. These things happen as packages evolve.</p>
<p>npm provides certain commands for these purposes. It&#39;s all behind <code>npm owner</code> namespace. More specifically, there are <code>npm owner ls &lt;package name&gt;</code>, <code>npm owner add &lt;user&gt; &lt;package name&gt;</code> and <code>npm owner rm &lt;user&gt; &lt;package name&gt;</code>. That&#39;s about it.</p>
<p>See <a href="https://docs.npmjs.com/cli/owner">npm documentation</a> for the most up to date information about the topic.</p>
<h2 class="header"><a class="header-anchor" href="#conclusion" id="conclusion"></a><span class="text">Conclusion</span><a class="header-anchor-select" href="#conclusion">#</a></h2>
<p>Both npm and webpack come with techniques of their own. It&#39;s possible to bundle packages without webpack. Webpack can generate standalone bundles and project site easily. You can leave a part of the work to Babel and similar tools.</p>
<p>To recap:</p>
<ul>
<li>Consider publishing differently packaged versions of the source to account for different usage patterns. Packaged right, your consumers can benefit from features, such as <strong>tree shaking</strong>.</li>
<li>To make it possible to consume a work in progress package, implement an npm <code>postinstall</code> script that builds the project if a distribution version does not exist in the source.</li>
<li>If a package becomes obsolete, consider deprecating it and let your users know how to upgrade to another solution.</li>
</ul>
<p>The covered options are valuable beyond package authoring. Mainly <code>externals</code> comes in handy when you want to exclude certain dependencies outside of your bundles and load them using another way.</p>
</div><div class="social-links"><blockquote class="tip">If you enjoyed this page, consider subscribing to the mailing list below or following <a href="https://twitter.com/survivejs">@survivejs</a> for occasional updates. There is also <a href="/atom.xml">RSS</a> available for old beards (no pun intended).</blockquote><h2 class="subscribe-header">Subscribe to the mailing list</h2><form action="//jster.us7.list-manage.com/subscribe/post?u=ed40c0084a0c5ba31b3365d65&amp;amp;id=b853b8e786" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate social-form" target="_blank" novalidate=""><div id="mc_embed_signup_scroll"><div class="mc-field-group social-input-container"><input type="email" placeholder="Email" value="" name="EMAIL" class="required email" id="mce-EMAIL"/></div><div style="display:none;position:absolute;left:-5000px;"><input type="text" name="b_ed40c0084a0c5ba31b3365d65_b853b8e786" tabindex="-1" value=""/></div><div class="social-subscribe-container"><input type="submit" class="btn button social-subscribe" style="margin-top:1em;margin-bottom:1em;line-height:2em;" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"/></div></div></form></div><div class="new-prevnext"><div class="new-prevnext__prev"><div class="new-prevnext__bg" style="background-image:url(/26ed4b217447d9cf989ff4053ec17712.jpg);"></div><span class="new-prevnext__info">Previous chapter</span><a class="new-prevnext__link" href="/webpack/packages/authoring/">Authoring Packages</a></div><div class="new-prevnext__next"><div class="new-prevnext__bg" style="background-image:url(/edd1fcdead531da5dd57c67ee4bb6835.jpg);"></div><span class="new-prevnext__info">Next chapter</span><a class="new-prevnext__link" href="/webpack/extending/">Extending</a></div></div><blockquote class="tip"><p>This book is available through <a href="https://leanpub.com/survivejs-webpack">Leanpub (digital)</a>, <a href="https://www.amazon.com/dp/9526868803">Amazon (paperback)</a>, and <a href="https://www.amazon.com/dp/B06XWZZGBS">Kindle (digital)</a>. By purchasing the book you support the development of further content. A part of profit (~30%) goes to Tobias Koppers, the author of webpack.</p></blockquote><div id="disqus_thread"></div></div></div><div><a class="next-page" title="Extending" href="/webpack/extending/"><i class="icon-right-open"></i></a><a class="previous-page" title="Authoring Packages" href="/webpack/packages/authoring/"><i class="icon-left-open"></i></a></div><script type="text/javascript">var disqus_shortname = 'survivejs';(function() {var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script></div><div class="nav__wrapper"><input type="checkbox" class="nav__toggle" id="nav__toggle"/><label class="nav__toggle-label" for="nav__toggle"></label><nav class="nav"><div class="nav__link"><a href="/">Home</a></div><div class="nav__link"><a href="/blog/">Read the blog</a></div><div class="nav__link"><a href="/training/">Get training</a></div><div class="nav__link"><a href="https://leanpub.com/survivejs-webpack">Buy the ebook</a></div><div class="nav__link"><a href="/"></a></div><div class="nav__link"><a href="https://twitter.com/survivejs">@survivejs</a></div></nav></div><footer><div class="footer-wrapper"><div class="footer-content-wrapper"><div class="footer-social"><h3>Social</h3><ul><li><a href="https://twitter.com/survivejs" target="_blank" rel="noopener noreferrer">@survivejs</a></li><li><a href="http://eepurl.com/bth1v5" target="_blank" rel="noopener noreferrer">Mailing List</a></li><li><a href="https://gitter.im/survivejs" target="_blank" rel="noopener noreferrer">Gitter Chat</a></li><li><a href="https://github.com/survivejs" target="_blank" rel="noopener noreferrer">GitHub</a></li><li><a href="https://presentations.survivejs.com" target="_blank" rel="noopener noreferrer">Presentations</a></li><li><a href="http://goo.gl/forms/OWdGIOdHm9" target="_blank" rel="noopener noreferrer">Contact</a></li><li><a href="https://github.com/survivejs/ama/issues" target="_blank" rel="noopener noreferrer">Ask Me Anything</a></li></ul></div><div class="footer-blog"><h3>From the Blog</h3><ul class="blog-teasers"><li><a class="blog-teaser" href="/blog/unexpected-react-interview/">unexpected-react - Test Full Virtual DOM - Interview with Dave Brotherstone</a></li><li><a class="blog-teaser" href="/blog/webexpo-2017/">Experiences on WebExpo 2017</a></li><li><a class="blog-teaser" href="/blog/kea-interview/">Kea - High level abstraction between React and Redux - Interview with Marius Andra</a></li><li><a class="blog-teaser" href="/blog/react-next-2017/">Experiences on React Next 2017</a></li><li><a class="blog-teaser" href="/blog/frint-interview/">FrintJS - Build reactive applications with React and RxJS - Interview with Fahad Ibnay Heylaal</a></li><li><a class="blog-teaser" href="/blog/neutrino-interview/">Neutrino - Create modern JavaScript applications with minimal configuration - Interview with Eli Perelman</a></li><li><a class="blog-teaser" href="/blog/idyll-interview/">Idyll - Narratives for the web - Interview with Matthew Conlen</a></li></ul></div></div></div></footer><div><div class="gitter-open-chat-button">Need help?</div><script type="text/javascript">
          ((window.gitter = {}).chat = {}).options = {
            showChatByDefault: false,
            activationElement: '.gitter-open-chat-button',
            room: 'survivejs/react'
          };
        </script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script></div><div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript">
        docsearch({
          apiKey: '1182e3806d62e921613b8dc9c7a22ef3',
          indexName: 'survivejs_webpack',
          inputSelector: '#search',
          debug: false
        });
      </script></div></div>

    
  </body>
</html>
