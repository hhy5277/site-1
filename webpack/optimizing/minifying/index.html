<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui" />
    <meta
      name="description"
      content="
Since webpack 4, the production output gets minified using UglifyJS by default. That said, it&#39;s goo…" />
    <meta
      name="keywords"
      content="" />
    <meta property="og:site_name" content="SurviveJS" />
    <meta property="og:title" content="Minifying" />
    <meta property="og:description" content="
Since webpack 4, the production output gets minified using UglifyJS by default. That said, it&#39;s goo…" />
    <meta name="twitter:title" content="Minifying" />
    <meta name="twitter:description" content="
Since webpack 4, the production output gets minified using UglifyJS by default. That said, it&#39;s goo…" />
    <meta name="twitter:site" content="@SurviveJS" />
    <title>Minifying</title>
    
    <link rel='icon' type='image/png' href='/favicon.png'></link>

    
      <link href="/site.4bb25afda5870d80aef5.css" rel="stylesheet">
    

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"
    />
  </head>
  <body>
    <div><div class="page"><div class="header-image" style="background-image:url(/8a4a775e3383dfd9a5dbbbb04b29ea0b.jpg)"></div><h1 class="page__heading">Minifying</h1><div class="header-extra"><a href="https://pixabay.com/en/austin-tx-sign-texas-downtown-713746/">BreaLeaDesigns (Public Domain)</a></div><div class="page__container"><div class="css-xfgthk css-20xtq50"><label for="sidebar-toggle" class="css-7vv0nt css-20xtq52">Table of contents</label><input type="checkbox" id="sidebar-toggle" class="css-38lglc css-20xtq53"/><div class="css-nyzxad css-20xtq51"><div class="toc-nav__wrapper"><div class="toc-nav__section"><input id="search" class="toc-nav__search" placeholder="Search"/></div><div class="toc-nav__section"><h4 class="toc-nav--header">Table of Contents</h4><ul class="toc-nav"><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/foreword/">Foreword</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/preface/">Preface</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/introduction/">Introduction</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/what-is-webpack/">What is Webpack</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/developing/">Developing</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing/getting-started/">Getting Started</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing/webpack-dev-server/">webpack-dev-server</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing/composing-configuration/">Composing Configuration</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/styling/">Styling</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/styling/loading/">Loading Styles</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/styling/separating-css/">Separating CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/styling/eliminating-unused-css/">Eliminating Unused CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/styling/autoprefixing/">Autoprefixing</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/loading/">Loading Assets</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading/loader-definitions/">Loader Definitions</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading/images/">Loading Images</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading/fonts/">Loading Fonts</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading/javascript/">Loading JavaScript</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/building/">Building</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building/source-maps/">Source Maps</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building/bundle-splitting/">Bundle Splitting</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building/code-splitting/">Code Splitting</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building/tidying-up/">Tidying Up</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/optimizing/">Optimizing</a></li><li class="toc-chapter"><span class="toc-nav__link toc-nav__link--current chapter">Minifying</span></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/tree-shaking/">Tree Shaking</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/environment-variables/">Environment Variables</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/adding-hashes-to-filenames/">Adding Hashes to Filenames</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/separating-manifest/">Separating a Manifest</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/build-analysis/">Build Analysis</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/performance/">Performance</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/output/">Output</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/output/targets/">Build Targets</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/output/multiple-pages/">Multiple Pages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/output/server-side-rendering/">Server Side Rendering</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/techniques/">Techniques</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/dynamic-loading/">Dynamic Loading</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/web-workers/">Web Workers</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/i18n/">Internationalization</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/testing/">Testing</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/deploying/">Deploying Applications</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/consuming/">Consuming Packages</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/extending/">Extending</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/extending/loaders/">Extending with Loaders</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/extending/plugins/">Extending with Plugins</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/conclusion/">Conclusion</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/appendices/">Appendices</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/comparison/">Comparison of Build Tools</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/hmr/">Hot Module Replacement</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/css-modules/">CSS Modules</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/searching-with-react/">Searching with React</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/troubleshooting/">Troubleshooting</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/glossary/">Glossary</a></li></ul></div><div class="toc-nav__section"></div></div></div></div><div class="page__main"><div class="page__section"><div><blockquote class="latestpost tip"><a class="latestpost-link" href="/blog/summer-2018-events/">SurviveJS - Summer Events</a></blockquote></div><div class="chapter-content"><p>Since webpack 4, the production output gets minified using UglifyJS by default. That said, it&#39;s good to understand the technique and further possibilities.</p>
<h2 class="header"><a class="header-anchor" href="#minifying-javascript" id="minifying-javascript"></a><span class="text">Minifying JavaScript</span><a class="header-anchor-select" href="#minifying-javascript">#</a></h2>
<p>The point of <strong>minification</strong> is to convert the code into a smaller form. Safe <strong>transformations</strong> do this without losing any meaning by rewriting code. Good examples of this include renaming variables or even removing entire blocks of code based on the fact that they are unreachable (<code>if (false)</code>).</p>
<p>Unsafe transformations can break code as they can lose something implicit the underlying code relies upon. For example, Angular 1 expects specific function parameter naming when using modules. Rewriting the parameters breaks code unless you take precautions against it in this case.</p>
<h3 class="header"><a class="header-anchor" href="#modifying-javascript-minification-process" id="modifying-javascript-minification-process"></a><span class="text">Modifying JavaScript Minification Process</span><a class="header-anchor-select" href="#modifying-javascript-minification-process">#</a></h3>
<p>In webpack 4, minification process is controlled through two configuration fields: <code>optimization.minimize</code> flag to toggle it and <code>optimization.minimizer</code> array to configure the process.</p>
<p>To tune the defaults, we&#39;ll attach <a href="https://www.npmjs.com/package/uglifyjs-webpack-plugin">uglifyjs-webpack-plugin</a> to the project so that it&#39;s possible to tune it.</p>
<p>To get started, include the plugin to the project:</p>
<pre><code class="lang-bash"><span class="token function" >npm</span> <span class="token function" >install</span> uglifyjs-webpack-plugin --save-dev
</code></pre>
<p>To attach it to the configuration, define a part for it first:</p>
<p><strong>webpack.parts.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword keyword-const" >const</span> UglifyWebpackPlugin <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation brackets-parentheses" >(</span><span class="token string" >"uglifyjs-webpack-plugin"</span><span class="token punctuation brackets-parentheses" >)</span><span class="token punctuation" >;</span>

exports<span class="token punctuation" >.</span><span class="token function-variable function" >minifyJavaScript</span> <span class="token operator" >=</span> <span class="token punctuation brackets-parentheses" >(</span><span class="token punctuation brackets-parentheses" >)</span> <span class="token operator" >=&gt;</span> <span class="token punctuation brackets-parentheses" >(</span><span class="token punctuation brackets-braces" >{</span>
  optimization<span class="token punctuation" >:</span> <span class="token punctuation brackets-braces" >{</span>
    minimizer<span class="token punctuation" >:</span> <span class="token punctuation brackets-square" >[</span><span class="token keyword keyword-new" >new</span> <span class="token class-name" >UglifyWebpackPlugin</span><span class="token punctuation brackets-parentheses" >(</span><span class="token punctuation brackets-braces" >{</span> sourceMap<span class="token punctuation" >:</span> <span class="token boolean" >true</span> <span class="token punctuation brackets-braces" >}</span><span class="token punctuation brackets-parentheses" >)</span><span class="token punctuation brackets-square" >]</span><span class="token punctuation" >,</span>
  <span class="token punctuation brackets-braces" >}</span><span class="token punctuation" >,</span>
<span class="token punctuation brackets-braces" >}</span><span class="token punctuation brackets-parentheses" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>Hook it up to the configuration:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword keyword-const" >const</span> productionConfig <span class="token operator" >=</span> <span class="token function" >merge</span><span class="token punctuation brackets-parentheses" >(</span><span class="token punctuation brackets-square" >[</span>
  parts<span class="token punctuation" >.</span><span class="token function" >clean</span><span class="token punctuation brackets-parentheses" >(</span>PATHS<span class="token punctuation" >.</span>build<span class="token punctuation brackets-parentheses" >)</span><span class="token punctuation" >,</span>
<div class="leanpub-insert">
  parts<span class="token punctuation" >.</span><span class="token function" >minifyJavaScript</span><span class="token punctuation brackets-parentheses" >(</span><span class="token punctuation brackets-parentheses" >)</span><span class="token punctuation" >,</span>
</div>
  <span class="token operator" >...</span>
<span class="token punctuation brackets-square" >]</span><span class="token punctuation brackets-parentheses" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>If you execute <code>npm run build</code> now, you should see result close to the same as before. The outcome may be a slightly better as you are likely using a newer version of UglifyJS this way.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>Source maps are disabled by default. You can enable them through the <code>sourceMap</code> flag. You should check <em>uglifyjs-webpack-plugin</em> for more options.</blockquote><blockquote class="tip"><i class="icon-attention-circled"></i>To strip <code>console.log</code> calls from the resulting source, set <code>uglifyOptions.compress.drop_console</code> to <code>true</code> as <a href="https://stackoverflow.com/questions/49101152/webpack-v4-remove-console-logs-with-webpack-uglify">discussed on Stack Overflow</a>.</blockquote><h2 class="header"><a class="header-anchor" href="#other-ways-to-minify-javascript" id="other-ways-to-minify-javascript"></a><span class="text">Other Ways to Minify JavaScript</span><a class="header-anchor-select" href="#other-ways-to-minify-javascript">#</a></h2>
<p>Although the defaults and <em>uglifyjs-webpack-plugin</em> works for this use case, there are more options you can consider:</p>
<ul>
<li><a href="https://www.npmjs.com/package/babel-minify-webpack-plugin">babel-minify-webpack-plugin</a> relies on <a href="https://www.npmjs.com/package/babel-preset-minify">babel-preset-minify</a> underneath and it has been developed by the Babel team. It&#39;s slower than UglifyJS, though.</li>
<li><a href="https://www.npmjs.com/package/webpack-closure-compiler">webpack-closure-compiler</a> runs parallel and gives even smaller result than <em>babel-minify-webpack-plugin</em> at times. <a href="https://www.npmjs.com/package/closure-webpack-plugin">closure-webpack-plugin</a> is another option.</li>
<li><a href="https://www.npmjs.com/package/butternut-webpack-plugin">butternut-webpack-plugin</a> uses Rich Harris&#39; experimental <a href="https://www.npmjs.com/package/butternut">butternut</a> minifier underneath.</li>
</ul>
<h2 class="header"><a class="header-anchor" href="#speeding-up-javascript-execution" id="speeding-up-javascript-execution"></a><span class="text">Speeding Up JavaScript Execution</span><a class="header-anchor-select" href="#speeding-up-javascript-execution">#</a></h2>
<p>Specific solutions allow you to preprocess code so that it will run faster. They complement the minification technique and can be split into <strong>scope hoisting</strong>, <strong>pre-evaluation</strong>, and <strong>improving parsing</strong>. It&#39;s possible these techniques grow overall bundle size sometimes while allowing faster execution.</p>
<h3 class="header"><a class="header-anchor" href="#scope-hoisting" id="scope-hoisting"></a><span class="text">Scope Hoisting</span><a class="header-anchor-select" href="#scope-hoisting">#</a></h3>
<p>Since webpack 4, it applies scope hoisting in production mode by default. It hoists all modules to a single scope instead of writing a separate closure for each. Doing this slows down the build but gives you bundles that are faster to execute. <a href="https://medium.com/webpack/brief-introduction-to-scope-hoisting-in-webpack-8435084c171f">Read more about scope hoisting</a> at the webpack blog.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>Pass <code>--display-optimization-bailout</code> flag to webpack to gain debugging information related to hoisting results.</blockquote><h3 class="header"><a class="header-anchor" href="#pre-evaluation" id="pre-evaluation"></a><span class="text">Pre-evaluation</span><a class="header-anchor-select" href="#pre-evaluation">#</a></h3>
<p><a href="https://www.npmjs.com/package/prepack-webpack-plugin">prepack-webpack-plugin</a> uses <a href="https://prepack.io/">Prepack</a>, a partial JavaScript evaluator. It rewrites computations that can be done compile-time and therefore speeds up code execution. See also <a href="https://www.npmjs.com/package/val-loader">val-loader</a> and <a href="https://www.npmjs.com/package/babel-plugin-preval">babel-plugin-preval</a> for alternative solutions.</p>
<h3 class="header"><a class="header-anchor" href="#improving-parsing" id="improving-parsing"></a><span class="text">Improving Parsing</span><a class="header-anchor-select" href="#improving-parsing">#</a></h3>
<p><a href="https://www.npmjs.com/package/optimize-js-plugin">optimize-js-plugin</a> complements the other solutions by wrapping eager functions, and it enhances the way your JavaScript code gets parsed initially. The plugin relies on <a href="https://github.com/nolanlawson/optimize-js">optimize-js</a> by Nolan Lawson.</p>
<h2 class="header"><a class="header-anchor" href="#minifying-html" id="minifying-html"></a><span class="text">Minifying HTML</span><a class="header-anchor-select" href="#minifying-html">#</a></h2>
<p>If you consume HTML templates through your code using <a href="https://www.npmjs.com/package/html-loader">html-loader</a>, you can preprocess it through <a href="https://www.npmjs.com/package/posthtml">posthtml</a> with <a href="https://www.npmjs.com/package/posthtml-loader">posthtml-loader</a>. You can use <a href="https://www.npmjs.com/package/posthtml-minifier">posthtml-minifier</a> to minify your HTML through it.</p>
<h2 class="header"><a class="header-anchor" href="#minifying-css" id="minifying-css"></a><span class="text">Minifying CSS</span><a class="header-anchor-select" href="#minifying-css">#</a></h2>
<p><em>css-loader</em> allows minifying CSS through <a href="http://cssnano.co/">cssnano</a>. Minification needs to be enabled explicitly using the <code>minimize</code> option. You can also pass <a href="http://cssnano.co/optimisations/">cssnano specific options</a> to the query to customize the behavior further.</p>
<p><a href="https://www.npmjs.com/package/clean-css-loader">clean-css-loader</a> allows you to use a popular CSS minifier <a href="https://www.npmjs.com/package/clean-css">clean-css</a>.</p>
<p><a href="https://www.npmjs.com/package/optimize-css-assets-webpack-plugin">optimize-css-assets-webpack-plugin</a> is a plugin based option that applies a chosen minifier on CSS assets. Using <code>MiniCssExtractPlugin</code> can lead to duplicated CSS given it only merges text chunks. <code>OptimizeCSSAssetsPlugin</code> avoids this problem by operating on the generated result and thus can lead to a better result.</p>
<h3 class="header"><a class="header-anchor" href="#setting-up-css-minification" id="setting-up-css-minification"></a><span class="text">Setting Up CSS Minification</span><a class="header-anchor-select" href="#setting-up-css-minification">#</a></h3>
<p>Out of the available solutions, <code>OptimizeCSSAssetsPlugin</code> composes the best. To attach it to the setup, install it and <a href="http://cssnano.co/">cssnano</a> first:</p>
<pre><code class="lang-bash"><span class="token function" >npm</span> <span class="token function" >install</span> optimize-css-assets-webpack-plugin cssnano --save-dev
</code></pre>
<p>Like for JavaScript, you can wrap the idea in a configuration part:</p>
<p><strong>webpack.parts.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword keyword-const" >const</span> OptimizeCSSAssetsPlugin <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation brackets-parentheses" >(</span>
  <span class="token string" >"optimize-css-assets-webpack-plugin"</span>
<span class="token punctuation brackets-parentheses" >)</span><span class="token punctuation" >;</span>
<span class="token keyword keyword-const" >const</span> cssnano <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation brackets-parentheses" >(</span><span class="token string" >"cssnano"</span><span class="token punctuation brackets-parentheses" >)</span><span class="token punctuation" >;</span>

exports<span class="token punctuation" >.</span><span class="token function-variable function" >minifyCSS</span> <span class="token operator" >=</span> <span class="token punctuation brackets-parentheses" >(</span><span class="token punctuation brackets-braces" >{</span> options <span class="token punctuation brackets-braces" >}</span><span class="token punctuation brackets-parentheses" >)</span> <span class="token operator" >=&gt;</span> <span class="token punctuation brackets-parentheses" >(</span><span class="token punctuation brackets-braces" >{</span>
  plugins<span class="token punctuation" >:</span> <span class="token punctuation brackets-square" >[</span>
    <span class="token keyword keyword-new" >new</span> <span class="token class-name" >OptimizeCSSAssetsPlugin</span><span class="token punctuation brackets-parentheses" >(</span><span class="token punctuation brackets-braces" >{</span>
      cssProcessor<span class="token punctuation" >:</span> cssnano<span class="token punctuation" >,</span>
      cssProcessorOptions<span class="token punctuation" >:</span> options<span class="token punctuation" >,</span>
      canPrint<span class="token punctuation" >:</span> <span class="token boolean" >false</span><span class="token punctuation" >,</span>
    <span class="token punctuation brackets-braces" >}</span><span class="token punctuation brackets-parentheses" >)</span><span class="token punctuation" >,</span>
  <span class="token punctuation brackets-square" >]</span><span class="token punctuation" >,</span>
<span class="token punctuation brackets-braces" >}</span><span class="token punctuation brackets-parentheses" >)</span><span class="token punctuation" >;</span>
</code></pre>
<blockquote class="warning"><i class="icon-attention"></i>If you use <code>--json</code> output with webpack as discussed in the <a href="/webpack/optimizing/build-analysis/">Build Analysis</a> chapter, you should set <code>canPrint: false</code> for the plugin.</blockquote><p>Then, connect with the main configuration:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword keyword-const" >const</span> productionConfig <span class="token operator" >=</span> <span class="token function" >merge</span><span class="token punctuation brackets-parentheses" >(</span><span class="token punctuation brackets-square" >[</span>
  <span class="token operator" >...</span>
  parts<span class="token punctuation" >.</span><span class="token function" >minifyJavaScript</span><span class="token punctuation brackets-parentheses" >(</span><span class="token punctuation brackets-parentheses" >)</span><span class="token punctuation" >,</span>
<div class="leanpub-insert">
  parts<span class="token punctuation" >.</span><span class="token function" >minifyCSS</span><span class="token punctuation brackets-parentheses" >(</span><span class="token punctuation brackets-braces" >{</span>
    options<span class="token punctuation" >:</span> <span class="token punctuation brackets-braces" >{</span>
      discardComments<span class="token punctuation" >:</span> <span class="token punctuation brackets-braces" >{</span>
        removeAll<span class="token punctuation" >:</span> <span class="token boolean" >true</span><span class="token punctuation" >,</span>
      <span class="token punctuation brackets-braces" >}</span><span class="token punctuation" >,</span>
      <span class="token comment" spellcheck="true" >// Run cssnano in safe mode to avoid</span>
      <span class="token comment" spellcheck="true" >// potentially unsafe transformations.</span>
      safe<span class="token punctuation" >:</span> <span class="token boolean" >true</span><span class="token punctuation" >,</span>
    <span class="token punctuation brackets-braces" >}</span><span class="token punctuation" >,</span>
  <span class="token punctuation brackets-braces" >}</span><span class="token punctuation brackets-parentheses" >)</span><span class="token punctuation" >,</span>
</div>
  <span class="token operator" >...</span>
<span class="token punctuation brackets-square" >]</span><span class="token punctuation brackets-parentheses" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>If you build the project now (<code>npm run build</code>), you should notice that CSS has become smaller as it&#39;s missing comments:</p>
<pre><code class="lang-bash">Hash: f51ecf99e0da4db99834
Version: webpack 4.1.1
Time: 3125ms
Built at: 3/16/2018 5:32:55 PM
           Asset       Size  Chunks             Chunk Names
      chunk.0.js  162 bytes       0  <span class="token punctuation brackets-square" >[</span>emitted<span class="token punctuation brackets-square" >]</span>
      chunk.1.js   96.8 KiB       1  <span class="token punctuation brackets-square" >[</span>emitted<span class="token punctuation brackets-square" >]</span>  vendors~main
         main.js   2.19 KiB       2  <span class="token punctuation brackets-square" >[</span>emitted<span class="token punctuation brackets-square" >]</span>  main
<div class="leanpub-insert">
        main.css    1.2 KiB       2  <span class="token punctuation brackets-square" >[</span>emitted<span class="token punctuation brackets-square" >]</span>  main
vendors~main.css   1.32 KiB       1  <span class="token punctuation brackets-square" >[</span>emitted<span class="token punctuation brackets-square" >]</span>  vendors~main
</div>
  chunk.0.js.map  204 bytes       0  <span class="token punctuation brackets-square" >[</span>emitted<span class="token punctuation brackets-square" >]</span>
  chunk.1.js.map    235 KiB       1  <span class="token punctuation brackets-square" >[</span>emitted<span class="token punctuation brackets-square" >]</span>  vendors~main
<span class="token punctuation" >..</span>.
</code></pre>
<blockquote class="tip"><i class="icon-attention-circled"></i><a href="https://www.npmjs.com/package/compression-webpack-plugin">compression-webpack-plugin</a> allows you to push the problem of generating compressed files to webpack to potentially save processing time on the server.</blockquote><h2 class="header"><a class="header-anchor" href="#minifying-images" id="minifying-images"></a><span class="text">Minifying Images</span><a class="header-anchor-select" href="#minifying-images">#</a></h2>
<p>Image size can be reduced by using <a href="https://www.npmjs.com/package/img-loader">img-loader</a>, <a href="https://www.npmjs.com/package/imagemin-webpack">imagemin-webpack</a>, and <a href="https://www.npmjs.com/package/imagemin-webpack-plugin">imagemin-webpack-plugin</a>. The packages use image optimizers underneath.</p>
<p>It can be a good idea to use <em>cache-loader</em> and <em>thread-loader</em> with these as discussed in the <a href="/webpack/optimizing/performance/">Performance</a> chapter given they can be substantial operations.</p>
<h2 class="header"><a class="header-anchor" href="#conclusion" id="conclusion"></a><span class="text">Conclusion</span><a class="header-anchor-select" href="#conclusion">#</a></h2>
<p>Minification is the most comfortable step you can take to make your build smaller. To recap:</p>
<ul>
<li><strong>Minification</strong> process analyzes your source code and turns it into a smaller form with the same meaning if you use safe transformations. Specific unsafe transformations allow you to reach even smaller results while potentially breaking code that relies, for example, on exact parameter naming.</li>
<li>Webpack performs minification in production mode using UglifyJS by default. Other solutions, such as <em>babel-minify-webpack-plugin</em>, provide similar functionality with costs of their own.</li>
<li>Besides JavaScript, it&#39;s possible to minify other assets, such as CSS, HTML, and images, too. Minifying these requires specific technologies that have to be applied through loaders and plugins of their own.</li>
</ul>
<p>You&#39;ll learn to apply tree shaking against code in the next chapter.</p>
</div></div><div class="page__section"><div class="social-links"><h2 class="social-links__header">Subscribe to the blog updates</h2><blockquote class="tip social-links__tip">If you enjoyed this page, consider subscribing to the mailing list below or following <a href="https://twitter.com/survivejs">@survivejs</a> for occasional updates. There is also <a href="/atom.xml">RSS</a> available for old beards (no pun intended).</blockquote><form action="//jster.us7.list-manage.com/subscribe/post?u=ed40c0084a0c5ba31b3365d65&amp;id=b853b8e786" method="post" target="_blank" class="css-1nfeoes css-va8n550"><input type="email" class="css-baseStyle-1jrw962 css-inputStyle-16d70pc" placeholder="Email" name="EMAIL" id="mce-EMAIL" required=""/><div style="display:none;position:absolute;left:-5000px"><input type="text" name="b_ed40c0084a0c5ba31b3365d65_b853b8e786" tabindex="-1" value=""/></div><input type="submit" class="css-baseStyle-1jrw962 css-buttonStyle-1y781j1" value="Subscribe" name="subscribe"/></form></div><div class="css-r9vozr css-7ic71f0"><div class="css-panel-1asgzqv css-panelPrev-h368eu"><div class="css-1njlj0m css-7ic71f1">Previous chapter</div><a class="css-link-h8hsyv css-linkPrev-966ksh" href="/webpack/optimizing/">Optimizing</a></div><div class="css-panel-1asgzqv css-panelNext-1i6c957"><div class="css-1njlj0m css-7ic71f1">Next chapter</div><a class="css-link-h8hsyv css-linkNext-1a0mc68" href="/webpack/optimizing/tree-shaking/">Tree Shaking</a></div></div><blockquote class="tip"><p>This book is available through <a href="https://leanpub.com/survivejs-webpack">Leanpub (digital)</a>, <a href="https://www.amazon.com/dp/9526868803">Amazon (paperback)</a>, and <a href="https://www.amazon.com/dp/B06XWZZGBS">Kindle (digital)</a>. By purchasing the book you support the development of further content. A part of profit (~30%) goes to Tobias Koppers, the author of webpack.</p></blockquote><div id="disqus_thread"></div><script type="text/javascript">var disqus_shortname = 'survivejs';(function() {var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script></div><div><a class="next-page" title="Tree Shaking" href="/webpack/optimizing/tree-shaking/"><i class="icon-right-open"></i></a><a class="previous-page" title="Optimizing" href="/webpack/optimizing/"><i class="icon-left-open"></i></a></div></div></div></div><div class="nav__wrapper"><input type="checkbox" class="nav__toggle" id="nav__toggle"/><label class="nav__toggle-label" for="nav__toggle"></label><nav class="nav"><div class="nav__link"><a href="https://graphql-finland.fi/">GraphQL Finland</a></div><div class="nav__link"><a href="/">Home</a></div><div class="nav__link"><a href="/blog/">Read the blog</a></div><div class="nav__link"><a href="/maintenance/">Maintenance book</a></div><div class="nav__link"><a href="/react/">React book</a></div><div class="nav__selected__link"><a href="/webpack/">Webpack book</a></div><div class="nav__link"><a href="/training/">Hire me</a></div><div class="nav__link"><a href="https://twitter.com/survivejs">@survivejs</a></div></nav></div><footer class="css-eo7znu css-iscbe10"><ul class="css-jtawwa css-iscbe13 css-6482o6 css-3yjlwf0"><li class="css-haw22i css-iscbe14 css-10ozgd1 css-17pd6qu0"><a href="https://twitter.com/survivejs" target="_blank" rel="noopener noreferrer">@survivejs</a></li><li class="css-haw22i css-iscbe14 css-10ozgd1 css-17pd6qu0"><a href="http://eepurl.com/bth1v5" target="_blank" rel="noopener noreferrer">Mailing List</a></li><li class="css-haw22i css-iscbe14 css-10ozgd1 css-17pd6qu0"><a href="https://gitter.im/survivejs" target="_blank" rel="noopener noreferrer">Gitter Chat</a></li><li class="css-haw22i css-iscbe14 css-10ozgd1 css-17pd6qu0"><a href="https://github.com/survivejs" target="_blank" rel="noopener noreferrer">GitHub</a></li><li class="css-haw22i css-iscbe14 css-10ozgd1 css-17pd6qu0"><a href="https://presentations.survivejs.com" target="_blank" rel="noopener noreferrer">Presentations</a></li><li class="css-haw22i css-iscbe14 css-10ozgd1 css-17pd6qu0"><a href="http://goo.gl/forms/OWdGIOdHm9" target="_blank" rel="noopener noreferrer">Contact</a></li><li class="css-haw22i css-iscbe14 css-10ozgd1 css-17pd6qu0"><a href="https://github.com/survivejs/ama/issues" target="_blank" rel="noopener noreferrer">Ask Me Anything</a></li><li class="css-haw22i css-iscbe14 css-10ozgd1 css-17pd6qu0"><a href="/atom.xml" target="_blank" rel="noopener noreferrer">RSS</a></li></ul><div class="css-1gd1yml css-iscbe11"><h3 class="css-oi3rzz css-iscbe12">From the Blog</h3><ul class="blog-teasers"><li><a class="blog-teaser" href="/blog/summer-2018-events/">SurviveJS - Summer Events</a></li><li><a class="blog-teaser" href="/blog/fastpack-interview/">Fastpack - Pack JavaScript code fast and easy - Interview with Oleksiy Golovko</a></li><li><a class="blog-teaser" href="/blog/lint-staged-interview/">lint-staged - Run Linters on git Staged Files - Interview with Andrey Okonetchnikov</a></li><li><a class="blog-teaser" href="/blog/webpack-book-updated-to-webpack-4/">&quot;SurviveJS - Webpack&quot; Updated to webpack 4</a></li><li><a class="blog-teaser" href="/blog/webpack-in-munich-may-2018/">Webpack in Munich, May 2018</a></li><li><a class="blog-teaser" href="/blog/concat-2018/">Experiences on Concat 2018</a></li><li><a class="blog-teaser" href="/blog/verdaccio-interview/">Verdaccio - A lightweight npm proxy registry - Interview with Juan Picado</a></li></ul></div><ul class="css-6482o6 css-3yjlwf0"><li class="css-jtawwa css-3bvg0c0 css-10ozgd1 css-17pd6qu0"><a href="/maintenance/introduction"><img alt="Maintenance book cover" src="/44f3a3a3dad86956efa57dea740c5d44.png" width="255" height="329" class="css-1d87hyi css-3bvg0c1"/></a><a class="btn btn--normal css-button-v0k0bo" href="https://leanpub.com/survivejs-maintenance">Buy at Leanpub</a></li><li class="css-jtawwa css-3bvg0c0 css-10ozgd1 css-17pd6qu0"><a href="/react/introduction"><img alt="React book cover" src="/b61671d95f81496495f2587a10ddb122.png" width="255" height="329" class="css-1d87hyi css-3bvg0c1"/></a><a class="btn btn--normal css-button-v0k0bo" href="https://leanpub.com/survivejs-react">Buy at Leanpub</a></li><li class="css-jtawwa css-3bvg0c0 css-10ozgd1 css-17pd6qu0"><a href="/webpack/foreword"><img alt="Webpack book cover" src="/8f86c1d07d5536454690030cd1a10b53.png" width="255" height="329" class="css-1d87hyi css-3bvg0c1"/></a><a class="btn btn--normal css-button-v0k0bo" href="https://leanpub.com/survivejs-webpack">Buy at Leanpub</a><a class="btn btn--normal css-button-v0k0bo" href="https://www.amazon.com/dp/9526868803/">Buy at Amazon</a><a class="btn btn--normal css-button-v0k0bo" href="https://www.amazon.com/dp/B06XWZZGBS">Buy for Kindle</a></li></ul></footer><div><div class="gitter-open-chat-button">Need help?</div><script type="text/javascript">
          ((window.gitter = {}).chat = {}).options = {
            showChatByDefault: false,
            activationElement: '.gitter-open-chat-button',
            room: 'survivejs/react'
          };
        </script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script></div><div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript">
        docsearch({
          apiKey: '1182e3806d62e921613b8dc9c7a22ef3',
          indexName: 'survivejs_webpack',
          inputSelector: '#search',
          debug: false
        });
      </script></div></div>

    
  </body>
</html>
