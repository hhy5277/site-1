<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui" />
    <meta
      name="description"
      content="" />
    <meta
      name="keywords"
      content="" />
    <title>Adding Hashes to Filenames</title>
    
    <link rel='icon' type='image/png' href='/favicon.png'></link>

    
      <link href="/site.f547211638641cf7b2e6.css" rel="stylesheet">
    

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"
    />
  </head>
  <body>
    <div><div class="chapter__wrapper"><div class="header-image" style="background-image:url(/c14e6ca9d0876bf8a596f02fe17dacf0.jpg);"></div><h1 class="post__heading">Adding Hashes to Filenames</h1><div class="header-extra"><a href="https://pixabay.com/en/root-potato-hash-healthy-vegetable-1112017/">ctowner (Public Domain)</a></div><div class="toc-nav__wrapper"><h4 class="search-nav--header">Search</h4><input id="search"/><h4 class="toc-nav--header">Table of Contents</h4><ul class="toc-nav"><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/foreword/">Foreword</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/preface/">Preface</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/introduction/">Introduction</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/webpack/what-is-webpack/">What is Webpack</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/developing/">Developing</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing/getting-started/">Getting Started</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing/automatic-browser-refresh/">Automatic Browser Refresh</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing/linting/">Linting JavaScript</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/developing/composing-configuration/">Composing Configuration</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/styling/">Styling</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/styling/loading/">Loading Styles</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/styling/separating-css/">Separating CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/styling/autoprefixing/">Autoprefixing</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/styling/eliminating-unused-css/">Eliminating Unused CSS</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/styling/linting/">Linting CSS</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/loading/">Loading Assets</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading/loader-definitions/">Loader Definitions</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading/images/">Loading Images</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading/fonts/">Loading Fonts</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/loading/javascript/">Loading JavaScript</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/building/">Building</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building/source-maps/">Source Maps</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building/bundle-splitting/">Bundle Splitting</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building/code-splitting/">Code Splitting</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/building/tidying-up/">Tidying Up</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/optimizing/">Optimizing</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/minifying/">Minifying</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/tree-shaking/">Tree Shaking</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/environment-variables/">Environment Variables</a></li><li class="toc-chapter"><span class="toc-nav__link toc-nav__link--current chapter">Adding Hashes to Filenames</span></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/separating-manifest/">Separating a Manifest</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/analyzing-build-statistics/">Analyzing Build Statistics</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/optimizing/performance/">Performance</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/output/">Output</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/output/targets/">Build Targets</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/output/bundling-libraries/">Bundling Libraries</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/output/library-output/">Library Output</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/output/multiple-pages/">Multiple Pages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/output/server-side-rendering/">Server Side Rendering</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/techniques/">Techniques</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/dynamic-loading/">Dynamic Loading</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/web-workers/">Web Workers</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/i18n/">Internationalization</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/testing/">Testing</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/techniques/deploying/">Deploying Applications</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/packages/">Packages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/packages/consuming/">Consuming Packages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/packages/consuming-techniques/">Package Consuming Techniques</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/packages/authoring/">Authoring Packages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/packages/authoring-techniques/">Package Authoring Techniques</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/extending/">Extending</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/extending/loaders/">Extending with Loaders</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/extending/plugins/">Extending with Plugins</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/conclusion/">Conclusion</a></li><li class="toc-part"><a class="toc-nav__link part" href="/webpack/appendices/">Appendices</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/comparison/">Comparison of Build Tools</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/hmr/">Hot Module Replacement</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/hmr-with-react/">Hot Module Replacement with React</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/customizing-eslint/">Customizing ESLint</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/searching-with-react/">Searching with React</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/troubleshooting/">Troubleshooting</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/webpack/appendices/glossary/">Glossary</a></li></ul><div><div class="buy-container"><a href="/webpack/foreword"><img alt="Webpack book cover" class="sidebar-cover" src="/8f86c1d07d5536454690030cd1a10b53.png" width="255" height="329"/></a><p><a class="btn btn--normal btn--buy" href="https://leanpub.com/survivejs-webpack">Buy at Leanpub</a><a class="btn btn--normal btn--buy" href="https://www.amazon.com/dp/9526868803/">Buy at Amazon</a><a class="btn btn--normal btn--buy" href="https://www.amazon.com/dp/B06XWZZGBS">Buy for Kindle</a></p></div><h3>See also</h3><div class="buy-container"><a href="/react/introduction"><img alt="React book cover" class="sidebar-cover" src="/b61671d95f81496495f2587a10ddb122.png" width="255" height="329"/></a><p><a class="btn btn--normal btn--buy" href="https://leanpub.com/survivejs-react">Buy at Leanpub</a></p></div></div></div><div class="chapter"><div class="post__content"><div><blockquote class="latestpost tip"><a class="latestpost-link" href="/blog/react-day-berlin-interview/">React Day Berlin - Fully Packed Day of Your Favorite React Content - Interview with Robert Haritonov</a></blockquote></div><div class="chapter-content"><p>Even though the build generates fine now, the naming it uses is problematic. It doesn&#39;t allow to leverage client level cache effectively as there&#39;s no way tell whether or not a file has changed. Cache invalidation can be achieved by including a hash to filenames.</p>
<h2 class="header"><a class="header-anchor" href="#placeholders" id="placeholders"></a><span class="text">Placeholders</span><a class="header-anchor-select" href="#placeholders">#</a></h2>
<p>Webpack provides <strong>placeholders</strong> for this purpose. These strings are used to attach specific information to webpack output. The most valuable ones are:</p>
<ul>
<li><code>[path]</code> - Returns the file path.</li>
<li><code>[name]</code> - Returns the file name.</li>
<li><code>[ext]</code> - Returns the extension. <code>[ext]</code> works for most available fields. <code>ExtractTextPlugin</code> is a notable exception to this rule.</li>
<li><code>[hash]</code> - Returns the build hash. If any portion of the build changes, this changes as well.</li>
<li><code>[chunkhash]</code> - Returns an entry chunk-specific hash. Each <code>entry</code> defined at the configuration receives a hash of its own. If any portion of the entry changes, the hash changes as well. <code>[chunkhash]</code> is more granular than <code>[hash]</code> by definition.</li>
<li><code>[contenthash]</code> - Returns a hash specific to content. <code>[contenthash]</code> is available for <code>ExtractTextPlugin</code> only and is the most specific option available.</li>
</ul>
<p>It&#39;s preferable to use particularly <code>hash</code> and <code>chunkhash</code> only for production purposes as hashing doesn&#39;t do much good during development.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>It&#39;s possible to slice <code>hash</code> and <code>chunkhash</code> using specific syntax: <code>[chunkhash:8]</code>. Instead of a hash like <code>8c4cbfdb91ff93f3f3c5</code> this would yield <code>8c4cbfdb</code>.</blockquote><blockquote class="tip"><i class="icon-attention-circled"></i>There are more options available, and you can even modify the hashing and digest type as discussed at <a href="https://www.npmjs.com/package/loader-utils#interpolatename">loader-utils</a> documentation.</blockquote><h3 class="header"><a class="header-anchor" href="#example-placeholders" id="example-placeholders"></a><span class="text">Example Placeholders</span><a class="header-anchor-select" href="#example-placeholders">#</a></h3>
<p>Assuming you have the following configuration:</p>
<pre><code class="lang-javascript"><span class="token punctuation" >{</span>
  output<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    path<span class="token punctuation" >:</span> PATHS<span class="token punctuation" >.</span>build<span class="token punctuation" >,</span>
    filename<span class="token punctuation" >:</span> <span class="token string" >'[name].[chunkhash].js'</span><span class="token punctuation" >,</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
<span class="token punctuation" >}</span><span class="token punctuation" >,</span>
</code></pre>
<p>Webpack would generate filenames like these:</p>
<pre><code class="lang-bash">app.d587bbd6e38337f5accd.js
vendor.dc746a5db4ed650296e1.js
</code></pre>
<p>If the file contents related to a chunk are different, the hash changes as well, thus invalidating the cache. More accurately, the browser sends a new request for the new file. If only <code>app</code> bundle gets updated, only that file needs to be requested again.</p>
<p>The same result can be achieved by generating static filenames and invalidating the cache through a querystring (i.e., <code>app.js?d587bbd6e38337f5accd</code>). The part behind the question mark invalidates the cache. According to <a href="http://www.stevesouders.com/blog/2008/08/23/revving-filenames-dont-use-querystring/">Steve Souders</a>, attaching the hash to the filename is the most performant option.</p>
<h2 class="header"><a class="header-anchor" href="#setting-up-hashing" id="setting-up-hashing"></a><span class="text">Setting Up Hashing</span><a class="header-anchor-select" href="#setting-up-hashing">#</a></h2>
<p>The build needs tweaking to generate proper hashes. Images and fonts should receive <code>hash</code> while chunks should use <code>chunkhash</code> in their names to invalidate them correctly:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword" >const</span> commonConfig <span class="token operator" >=</span> <span class="token punctuation" >{</span>
  <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
  parts<span class="token punctuation" >.</span><span class="token function" >loadFonts</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
    options<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
<div class="leanpub-delete">
      name<span class="token punctuation" >:</span> <span class="token string" >'[name].[ext]'</span><span class="token punctuation" >,</span>
</div>
<div class="leanpub-insert">
      name<span class="token punctuation" >:</span> <span class="token string" >'[name].[hash:8].[ext]'</span><span class="token punctuation" >,</span>
</div>
    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
  <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>

<span class="token keyword" >const</span> productionConfig <span class="token operator" >=</span> <span class="token function" >merge</span><span class="token punctuation" >(</span><span class="token punctuation" >[</span>
  <span class="token punctuation" >{</span>
    <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
<div class="leanpub-insert">
    output<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
      chunkFilename<span class="token punctuation" >:</span> <span class="token string" >'[name].[chunkhash:8].js'</span><span class="token punctuation" >,</span>
      filename<span class="token punctuation" >:</span> <span class="token string" >'[name].[chunkhash:8].js'</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
</div>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
  <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
  parts<span class="token punctuation" >.</span><span class="token function" >loadImages</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
    options<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
      limit<span class="token punctuation" >:</span> <span class="token number" >15000</span><span class="token punctuation" >,</span>
<div class="leanpub-delete">
      name<span class="token punctuation" >:</span> <span class="token string" >'[name].[ext]'</span><span class="token punctuation" >,</span>
</div>
<div class="leanpub-insert">
      name<span class="token punctuation" >:</span> <span class="token string" >'[name].[hash:8].[ext]'</span><span class="token punctuation" >,</span>
</div>
    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
  <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
<span class="token punctuation" >]</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>If you used <code>chunkhash</code> for the extracted CSS as well, this would lead to problems as the code points to the CSS through JavaScript bringing it to the same entry. That means if the application code or CSS changed, it would invalidate both. Therefore, instead of <code>chunkhash</code>, you can use <code>contenthash</code> that&#39;s generated based on the extracted content:</p>
<p><strong>webpack.parts.js</strong></p>
<pre><code class="lang-javascript">exports<span class="token punctuation" >.</span>extractCSS <span class="token operator" >=</span> <span class="token punctuation" >(</span><span class="token punctuation" >{</span> include<span class="token punctuation" >,</span> exclude<span class="token punctuation" >,</span> use <span class="token punctuation" >}</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
  <span class="token comment" spellcheck="true">// Output extracted CSS to a file</span>
  <span class="token keyword" >const</span> plugin <span class="token operator" >=</span> <span class="token keyword" >new</span> <span class="token class-name" >ExtractTextPlugin</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
<div class="leanpub-delete">
    filename<span class="token punctuation" >:</span> <span class="token string" >'[name].css'</span><span class="token punctuation" >,</span>
</div>
<div class="leanpub-insert">
    filename<span class="token punctuation" >:</span> <span class="token string" >'[name].[contenthash:8].css'</span><span class="token punctuation" >,</span>
</div>
  <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

  <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>
</code></pre>
<blockquote class="warning"><i class="icon-attention"></i>The hashes have been sliced to make the output fit better in the book. In practice, you can skip slicing them.</blockquote><p>If you generate a build now (<code>npm run build</code>), you should see something:</p>
<pre><code class="lang-bash">Hash: 16b92fddd41e579e77ba
Version: webpack 2.2.1
Time: 4258ms
                 Asset       Size  Chunks             Chunk Names
       app.e0f59512.js  811 bytes       1  <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>  app
  <span class="token punctuation" >..</span>.font.674f50d2.eot     166 kB          <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>
<span class="token punctuation" >..</span>.font.af7ae505.woff2    77.2 kB          <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>
 <span class="token punctuation" >..</span>.font.fee66e71.woff      98 kB          <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>
  <span class="token punctuation" >..</span>.font.912ec66d.svg     444 kB          <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>
     logo.85011118.png      77 kB          <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>
         0.470796d5.js  408 bytes       0  <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>
  <span class="token punctuation" >..</span>.font.b06871f2.ttf     166 kB          <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>
    vendor.f897ca59.js    24.4 kB       2  <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>  vendor
      app.bf4d156d.css    2.54 kB       1  <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>  app
     0.470796d5.js.map    2.08 kB       0  <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>
   app.e0f59512.js.map    2.33 kB       1  <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>  app
  app.bf4d156d.css.map   93 bytes       1  <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>  app
vendor.f897ca59.js.map     135 kB       2  <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>  vendor
            index.html  301 bytes          <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>
   <span class="token punctuation" >[</span>4<span class="token punctuation" >]</span> ./~/object-assign/index.js 2.11 kB <span class="token punctuation" >{</span>2<span class="token punctuation" >}</span> <span class="token punctuation" >[</span>built<span class="token punctuation" >]</span>
  <span class="token punctuation" >[</span>14<span class="token punctuation" >]</span> ./app/component.js 461 bytes <span class="token punctuation" >{</span>1<span class="token punctuation" >}</span> <span class="token punctuation" >[</span>built<span class="token punctuation" >]</span>
  <span class="token punctuation" >[</span>15<span class="token punctuation" >]</span> ./app/shake.js 138 bytes <span class="token punctuation" >{</span>1<span class="token punctuation" >}</span> <span class="token punctuation" >[</span>built<span class="token punctuation" >]</span>
<span class="token punctuation" >..</span>.
</code></pre>
<p>The files have neat hashes now. To prove that it works for styling, you could try altering <em>app/main.css</em> and see what happens to the hashes when you rebuild.</p>
<p>There&#39;s one problem, though. If you change the application code, it invalidates the vendor file as well! Solving this requires extracting a <strong>manifest</strong>, but before that, you can improve the way the production build handles module IDs.</p>
<h2 class="header"><a class="header-anchor" href="#enabling-hashedmoduleidsplugin" id="enabling-hashedmoduleidsplugin"></a><span class="text">Enabling <code>HashedModuleIdsPlugin</code></span><a class="header-anchor-select" href="#enabling-hashedmoduleidsplugin">#</a></h2>
<p>Webpack uses number based IDs for the module code it generates. The problem is that they are difficult to work with and can lead to difficult to debug issues, particularly with hashing. This is why webpack provides two plugins. <code>NamedModulesPlugin</code> replaces module IDs with paths to the modules making it ideal for development. <code>HashedModuleIdsPlugin</code> does the same except it hashes the result and hides the path information.</p>
<p>The process keeps module IDs stable as they aren&#39;t derived based on order. You sacrifice a couple of bytes for a cleaner setup, but the trade-off is well worth it.</p>
<p>Tweak the configuration as follows:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="lang-javascript"><div class="leanpub-insert">
<span class="token keyword" >const</span> webpack <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'webpack'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</div>
<span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>

<span class="token keyword" >const</span> productionConfig <span class="token operator" >=</span> <span class="token function" >merge</span><span class="token punctuation" >(</span><span class="token punctuation" >[</span>
  <span class="token punctuation" >{</span>
    <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
<div class="leanpub-insert">
    plugins<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>
      <span class="token keyword" >new</span> <span class="token class-name" >webpack<span class="token punctuation" >.</span>HashedModuleIdsPlugin</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >]</span><span class="token punctuation" >,</span>
</div>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
  <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
<span class="token punctuation" >]</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>As you can see in the build output, the difference is negligible:</p>
<pre><code class="lang-bash">Hash: 11891d736f3749fb9f8f
Version: webpack 2.2.1
Time: 4115ms
                 Asset       Size  Chunks             Chunk Names
       app.4330d101.js  863 bytes       1  <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>  app
  <span class="token punctuation" >..</span>.font.912ec66d.svg     444 kB          <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>
  <span class="token punctuation" >..</span>.font.674f50d2.eot     166 kB          <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>
 <span class="token punctuation" >..</span>.font.fee66e71.woff      98 kB          <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>
<span class="token punctuation" >..</span>.font.af7ae505.woff2    77.2 kB          <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>
     logo.85011118.png      77 kB          <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>
         0.b2a1fec0.js  430 bytes       0  <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>
  <span class="token punctuation" >..</span>.font.b06871f2.ttf     166 kB          <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>
    vendor.3c78d233.js    24.8 kB       2  <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>  vendor
      app.bf4d156d.css    2.54 kB       1  <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>  app
     0.b2a1fec0.js.map    2.08 kB       0  <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>
   app.4330d101.js.map    2.34 kB       1  <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>  app
  app.bf4d156d.css.map   93 bytes       1  <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>  app
vendor.3c78d233.js.map     135 kB       2  <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>  vendor
            index.html  301 bytes          <span class="token punctuation" >[</span>emitted<span class="token punctuation" >]</span>
<span class="token punctuation" >[</span>1Q41<span class="token punctuation" >]</span> ./app/main.css 41 bytes <span class="token punctuation" >{</span>1<span class="token punctuation" >}</span> <span class="token punctuation" >[</span>built<span class="token punctuation" >]</span>
<span class="token punctuation" >[</span>2twT<span class="token punctuation" >]</span> ./app/index.js 557 bytes <span class="token punctuation" >{</span>1<span class="token punctuation" >}</span> <span class="token punctuation" >[</span>built<span class="token punctuation" >]</span>
<span class="token punctuation" >[</span>5W1q<span class="token punctuation" >]</span> ./~/font-awesome/css/font-awesome.css 41 bytes <span class="token punctuation" >{</span>1<span class="token punctuation" >}</span> <span class="token punctuation" >[</span>built<span class="token punctuation" >]</span>
<span class="token punctuation" >..</span>.
</code></pre>
<p>Note how the output has changed, though. Instead of numbers, you can see hashes. But this is expected given the change you made.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i><code>NamedChunksPlugin</code> achieves a similar result for split points. See <a href="https://medium.com/webpack/predictable-long-term-caching-with-webpack-d3eee1d3fa31">Predictable long term caching with Webpack</a> by Tim Sebastian for further details.</blockquote><blockquote class="tip"><i class="icon-attention-circled"></i>The <a href="/webpack/appendices/hmr/">Hot Module Replacement</a> appendix shows how to set up <code>NamedModulesPlugin</code> as it can be used for debugging HMR.</blockquote><h2 class="header"><a class="header-anchor" href="#conclusion" id="conclusion"></a><span class="text">Conclusion</span><a class="header-anchor-select" href="#conclusion">#</a></h2>
<p>Including hashes related to the file contents to their names allows to invalidate them on the client side. If a hash has changed, the client is forced to download the asset again.</p>
<p>To recap:</p>
<ul>
<li>Webpack&#39;s <strong>placeholders</strong> allow you to shape filenames and enable you to include hashes to them.</li>
<li>The most valuable placeholders are <code>[name]</code>, <code>[chunkhash]</code>, and <code>[ext]</code>. A chunk hash is derived based on the entry in which the asset belongs.</li>
<li>If you are using <code>ExtractTextPlugin</code>, you should use <code>[contenthash]</code>. This way the generated assets get invalidated only if their content changes.</li>
<li><code>HashedModuleIdsPlugin</code> generates module IDs based on module paths. This is more stable than relying on the default order based numeric module IDs.</li>
</ul>
<p>Even though the project generates hashes now, the output isn&#39;t flawless. The problem is that if the application changes, it invalidates the vendor bundle as well. The next chapter digs deeper into the topic and shows you how to extract a <strong>manifest</strong> to resolve the issue.</p>
</div><div class="social-links"><blockquote class="tip">If you enjoyed this page, consider subscribing to the mailing list below or following <a href="https://twitter.com/survivejs">@survivejs</a> for occasional updates. There is also <a href="/atom.xml">RSS</a> available for old beards (no pun intended).</blockquote><h2 class="subscribe-header">Subscribe to the mailing list</h2><form action="//jster.us7.list-manage.com/subscribe/post?u=ed40c0084a0c5ba31b3365d65&amp;amp;id=b853b8e786" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate social-form" target="_blank" novalidate=""><div id="mc_embed_signup_scroll"><div class="mc-field-group social-input-container"><input type="email" placeholder="Email" value="" name="EMAIL" class="required email" id="mce-EMAIL"/></div><div style="display:none;position:absolute;left:-5000px;"><input type="text" name="b_ed40c0084a0c5ba31b3365d65_b853b8e786" tabindex="-1" value=""/></div><div class="social-subscribe-container"><input type="submit" class="btn button social-subscribe" style="margin-top:1em;margin-bottom:1em;line-height:2em;" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"/></div></div></form></div><div class="new-prevnext"><div class="new-prevnext__prev"><div class="new-prevnext__bg" style="background-image:url(/5e83591517e8b287a58022df5d3ebede.jpg);"></div><span class="new-prevnext__info">Previous chapter</span><a class="new-prevnext__link" href="/webpack/optimizing/environment-variables/">Environment Variables</a></div><div class="new-prevnext__next"><div class="new-prevnext__bg" style="background-image:url(/826de783220002f1532058a1dfacccaa.jpg);"></div><span class="new-prevnext__info">Next chapter</span><a class="new-prevnext__link" href="/webpack/optimizing/separating-manifest/">Separating a Manifest</a></div></div><blockquote class="tip"><p>This book is available through <a href="https://leanpub.com/survivejs-webpack">Leanpub (digital)</a>, <a href="https://www.amazon.com/dp/9526868803">Amazon (paperback)</a>, and <a href="https://www.amazon.com/dp/B06XWZZGBS">Kindle (digital)</a>. By purchasing the book you support the development of further content. A part of profit (~30%) goes to Tobias Koppers, the author of webpack.</p></blockquote><div id="disqus_thread"></div></div></div><div><a class="next-page" title="Separating a Manifest" href="/webpack/optimizing/separating-manifest/"><i class="icon-right-open"></i></a><a class="previous-page" title="Environment Variables" href="/webpack/optimizing/environment-variables/"><i class="icon-left-open"></i></a></div><script type="text/javascript">var disqus_shortname = 'survivejs';(function() {var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script></div><div class="nav__wrapper"><input type="checkbox" class="nav__toggle" id="nav__toggle"/><label class="nav__toggle-label" for="nav__toggle"></label><nav class="nav"><div class="nav__link"><a href="/">Home</a></div><div class="nav__link"><a href="/blog/">Read the blog</a></div><div class="nav__link"><a href="/maintenance/">Maintenance book</a></div><div class="nav__link"><a href="/react/">React book</a></div><div class="nav__link"><a href="/webpack/">Webpack book</a></div><div class="nav__link"><a href="/training/">Get training</a></div><div class="nav__link"><a href="https://twitter.com/survivejs">@survivejs</a></div></nav></div><footer><div class="footer-wrapper"><div class="footer-content-wrapper"><div class="footer-social"><h3>Social</h3><ul><li><a href="https://twitter.com/survivejs" target="_blank" rel="noopener noreferrer">@survivejs</a></li><li><a href="http://eepurl.com/bth1v5" target="_blank" rel="noopener noreferrer">Mailing List</a></li><li><a href="https://gitter.im/survivejs" target="_blank" rel="noopener noreferrer">Gitter Chat</a></li><li><a href="https://github.com/survivejs" target="_blank" rel="noopener noreferrer">GitHub</a></li><li><a href="https://presentations.survivejs.com" target="_blank" rel="noopener noreferrer">Presentations</a></li><li><a href="http://goo.gl/forms/OWdGIOdHm9" target="_blank" rel="noopener noreferrer">Contact</a></li><li><a href="https://github.com/survivejs/ama/issues" target="_blank" rel="noopener noreferrer">Ask Me Anything</a></li></ul></div><div class="footer-blog"><h3>From the Blog</h3><ul class="blog-teasers"><li><a class="blog-teaser" href="/blog/react-day-berlin-interview/">React Day Berlin - Fully Packed Day of Your Favorite React Content - Interview with Robert Haritonov</a></li><li><a class="blog-teaser" href="/blog/unexpected-react-interview/">unexpected-react - Test Full Virtual DOM - Interview with Dave Brotherstone</a></li><li><a class="blog-teaser" href="/blog/webexpo-2017/">Experiences on WebExpo 2017</a></li><li><a class="blog-teaser" href="/blog/kea-interview/">Kea - High level abstraction between React and Redux - Interview with Marius Andra</a></li><li><a class="blog-teaser" href="/blog/react-next-2017/">Experiences on React Next 2017</a></li><li><a class="blog-teaser" href="/blog/frint-interview/">FrintJS - Build reactive applications with React and RxJS - Interview with Fahad Ibnay Heylaal</a></li><li><a class="blog-teaser" href="/blog/neutrino-interview/">Neutrino - Create modern JavaScript applications with minimal configuration - Interview with Eli Perelman</a></li></ul></div></div></div></footer><div><div class="gitter-open-chat-button">Need help?</div><script type="text/javascript">
          ((window.gitter = {}).chat = {}).options = {
            showChatByDefault: false,
            activationElement: '.gitter-open-chat-button',
            room: 'survivejs/react'
          };
        </script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script></div><div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript">
        docsearch({
          apiKey: '1182e3806d62e921613b8dc9c7a22ef3',
          indexName: 'survivejs_webpack',
          inputSelector: '#search',
          debug: false
        });
      </script></div></div>

    
  </body>
</html>
