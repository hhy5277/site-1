<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui" />
    <meta
      name="description"
      content="
A minimal npm package should contain metadata in a package.json file and an associated source file …" />
    <meta
      name="keywords"
      content="" />
    <meta property="og:site_name" content="SurviveJS" />
    <meta property="og:title" content="Anatomy of a Package" />
    <meta property="og:description" content="
A minimal npm package should contain metadata in a package.json file and an associated source file …" />
    <meta name="twitter:title" content="Anatomy of a Package" />
    <meta name="twitter:description" content="
A minimal npm package should contain metadata in a package.json file and an associated source file …" />
    <meta name="twitter:site" content="@SurviveJS" />
    <title>Anatomy of a Package</title>
    
    <link rel='icon' type='image/png' href='/favicon.png'></link>

    
      <link href="/site.4ba0e633f3b9e03bd0ec.css" rel="stylesheet">
    

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"
    />
  </head>
  <body>
    <header class="nav__wrapper"><input type="checkbox" class="nav__toggle" id="nav__toggle"/><label class="nav__toggle-label" for="nav__toggle"></label><a title="Where to Start Packaging" aria-hidden="true" class="css-17k05uf css-isbjic0" href="/maintenance/packaging/where-to-start/"><i class="icon-left-open"></i></a><nav class="nav"><ul class="nav__items"><li class="nav__link"><a href="https://graphql-finland.fi/">GraphQL Finland</a></li><li class="nav__link"><a href="/">Home</a></li><li class="nav__link"><a href="/blog/">Read the blog</a></li><li class="nav__link nav__link_selected"><a href="/maintenance/">Maintenance book</a></li><li class="nav__link"><a href="/react/">React book</a></li><li class="nav__link"><a href="/webpack/">Webpack book</a></li><li class="nav__link"><a href="/training/">Hire me</a></li><li class="nav__link"><a href="https://twitter.com/survivejs">@survivejs</a></li></ul></nav><a title="Publishing Packages" aria-hidden="true" class="css-17k05uf css-isbjic0" href="/maintenance/packaging/publishing/"><i class="icon-right-open"></i></a></header><div class="page"><div class="css-b5dhuc css-8rlsag0"><div style="background-image:url(/0bb2e3b419ef7bec150f59160de61591.jpg)" class="css-1huzfyy css-8rlsag1"></div><h1 class="css-13wbkqf css-8rlsag2">Anatomy of a Package</h1><small aria-hidden="true" class="css-18xzi2i css-8rlsag3"><a href="https://pixabay.com/en/family-artist-s-mannequin-figure-2755604/">Mimzy (Public Domain)</a></small></div><div class="page__container"><div class="css-xfgthk css-20xtq50"><label for="sidebar-toggle" class="css-1whlnn6 css-20xtq52">Table of contents</label><input type="checkbox" id="sidebar-toggle" class="css-38lglc css-20xtq53"/><div class="css-nyzxad css-20xtq51"><div class="toc-nav__wrapper"><div class="toc-nav__section"><input id="search" class="toc-nav__search" placeholder="Search"/></div><div class="toc-nav__section"><h4 class="toc-nav--header">Table of Contents</h4><ul class="toc-nav"><li class="toc-intro"><a class="toc-nav__link intro" href="/maintenance/preface/">Preface</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/maintenance/introduction/">Introduction</a></li><li class="toc-part"><a class="toc-nav__link part" href="/maintenance/packaging/">Packaging</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/packaging/where-to-start/">Where to Start Packaging</a></li><li class="toc-chapter"><span class="toc-nav__link toc-nav__link--current chapter">Anatomy of a Package</span></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/packaging/publishing/">Publishing Packages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/packaging/building/">Building Packages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/packaging/standalone-builds/">Standalone Builds</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/packaging/managing-dependencies/">Managing Dependencies</a></li><li class="toc-part"><a class="toc-nav__link part" href="/maintenance/code-quality/">Code Quality</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/code-quality/linting/">Linting</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/code-quality/code-formatting/">Code Formatting</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/code-quality/typing/">Typing</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/code-quality/testing/">Testing</a></li><li class="toc-part"><a class="toc-nav__link part" href="/maintenance/infrastructure/">Infrastructure</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/infrastructure/processes/">Processes</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/infrastructure/continuous-integration/">Continuous Integration</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/infrastructure/automation/">Automation</a></li><li class="toc-part"><a class="toc-nav__link part" href="/maintenance/documentation/">Documentation</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/documentation/readme/">README</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/documentation/change-log/">Change Logs</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/documentation/site/">Site</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/documentation/api/">API Documentation</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/documentation/misc/">Other Types of Documentation</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/documentation/linting/">Linting and Formatting</a></li><li class="toc-part"><a class="toc-nav__link part" href="/maintenance/future/">Future</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/future/longevity/">Longevity</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/future/marketing/">Marketing</a></li><li class="toc-part"><a class="toc-nav__link part" href="/maintenance/appendices/">Appendices</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/appendices/monorepos/">Managing Packages Using a Monorepo</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/appendices/customizing-eslint/">Customizing ESLint</a></li></ul></div><div class="toc-nav__section"></div></div></div></div><div class="page__main"><div class="page__section"><div><blockquote class="latestpost tip"><a class="latestpost-link" href="/blog/refract-interview/">Refract - Manage Component Side Effects the Reactive Way - Interview with Thomas Roch.</a></blockquote></div><div class="chapter-content"><p>A minimal npm package should contain metadata in a <em>package.json</em> file and an associated source file (usually <em>index.js</em>). In practice, packages contain more than that and you will have at least a license file and the source in various formats.</p>
<p>Often projects contain more files than are required to execute them. To keep package downloads fast, you can exclude files related to documentation and testing as those can be reached through the package site.</p>
<h2 class="header"><a class="header-anchor" href="#understanding-_package-json_" id="understanding-_package-json_"></a><span class="text">Understanding <em>package.json</em></span><a class="header-anchor-select" href="#understanding-_package-json_">#</a></h2>
<p>All packages come with a <em>package.json</em> file that contains package metadata, like information about the author, link to a bug tracker and package dependencies. The <a href="https://docs.npmjs.com/files/package.json">official documentation</a> covers them in detail.</p>
<p>The examples below is an annotated part of <em>package.json</em> from the SurviveJS <a href="https://github.com/survivejs/react-component-boilerplate">React component boilerplate</a>.</p>
<blockquote class="warning"><i class="icon-attention"></i>npm doesn’t support comments in JSON even though we’re using them below. Some tools use extended notations, such as <a href="http://json5.org/">JSON5</a>, that do.</blockquote><h3 class="header"><a class="header-anchor" href="#description-fields" id="description-fields"></a><span class="text">Description Fields</span><a class="header-anchor-select" href="#description-fields">#</a></h3>
<p>The description fields describe who created the package, what it does, search keywords, and more.</p>
<p><strong>package.json</strong></p>
<pre><code class="lang-json"><span class="token punctuation brackets-braces" >{</span>
  /* Name of the project */
  <span class="token property" >"name"</span><span class="token operator" >:</span> <span class="token string" >"react-component-boilerplate"</span><span class="token punctuation" >,</span>

  /* Brief description */
  <span class="token property" >"description"</span><span class="token operator" >:</span> <span class="token string" >"Boilerplate for React.js components"</span><span class="token punctuation" >,</span>

  /* Who is the author + optional email + optional site */
  <span class="token property" >"author"</span><span class="token operator" >:</span> <span class="token string" >"Juho Vepsäläinen &lt;email goes here&gt; (site goes here)"</span><span class="token punctuation" >,</span>

  /* Version of the package */
  <span class="token property" >"version"</span><span class="token operator" >:</span> <span class="token string" >"0.0.0"</span><span class="token punctuation" >,</span>

  /* Do not allow publishing<span class="token punctuation" >,</span> useful for apps or private packages */
  <span class="token property" >"private"</span><span class="token operator" >:</span> <span class="token boolean" >true</span><span class="token punctuation" >,</span>

  /* Keywords related to package. */
  /* Fill this well to make the package discoverable. */
  <span class="token property" >"keywords"</span><span class="token operator" >:</span> <span class="token punctuation brackets-square" >[</span><span class="token string" >"react"</span><span class="token punctuation" >,</span> <span class="token string" >"reactjs"</span><span class="token punctuation" >,</span> <span class="token string" >"boilerplate"</span><span class="token punctuation brackets-square" >]</span><span class="token punctuation" >,</span>

  /* Files to include to npm distribution. */
  /* Relative patterns like <span class="token string" >"./src"</span> fail! */
  <span class="token property" >"files"</span><span class="token operator" >:</span> <span class="token punctuation brackets-square" >[</span><span class="token string" >"lib/"</span><span class="token punctuation" >,</span> <span class="token string" >"esm/"</span><span class="token punctuation" >,</span> <span class="token string" >"bin/"</span><span class="token punctuation brackets-square" >]</span>
<span class="token punctuation brackets-braces" >}</span>
</code></pre>
<h3 class="header"><a class="header-anchor" href="#scripts" id="scripts"></a><span class="text">Scripts</span><a class="header-anchor-select" href="#scripts">#</a></h3>
<p>npm can be used as a task runner through <code>npm run</code> command. Running the command shows all available scripts. The scripts are commonly used for different build tasks.</p>
<p><strong>package.json</strong></p>
<pre><code class="lang-json">/* `npm run &lt;name&gt;` - `npm run` to get the available commands */
<span class="token punctuation brackets-braces" >{</span>
  <span class="token property" >"scripts"</span><span class="token operator" >:</span> <span class="token punctuation brackets-braces" >{</span>
    /* You don’t need to write node_modules/.bin/catalog<span class="token punctuation" >,</span> npm will */
    /* automatically call locally-installed package. */
    <span class="token property" >"start"</span><span class="token operator" >:</span> <span class="token string" >"catalog start docs"</span><span class="token punctuation" >,</span>

    /* Namespacing (namespace<span class="token operator" >:</span>task<span class="token punctuation brackets-parentheses" >)</span> is a convention used for */
    /* grouping. */
    <span class="token property" >"test"</span><span class="token operator" >:</span> <span class="token string" >"jest"</span><span class="token punctuation" >,</span>
    <span class="token property" >"test:coverage"</span><span class="token operator" >:</span> <span class="token string" >"jest --coverage"</span><span class="token punctuation" >,</span>
    <span class="token property" >"test:watch"</span><span class="token operator" >:</span> <span class="token string" >"jest --watch"</span><span class="token punctuation" >,</span>
    <span class="token property" >"test:lint"</span><span class="token operator" >:</span> <span class="token string" >"eslint . --ignore-path .gitignore"</span><span class="token punctuation" >,</span>

    <span class="token property" >"gh-pages"</span><span class="token operator" >:</span> <span class="token string" >"catalog build docs"</span><span class="token punctuation" >,</span>
    <span class="token property" >"gh-pages:deploy"</span><span class="token operator" >:</span> <span class="token string" >"gh-pages -d docs/build"</span><span class="token punctuation" >,</span>

    <span class="token property" >"build"</span><span class="token operator" >:</span> <span class="token string" >"npm run build:esm &amp;&amp; npm run build:cjs"</span><span class="token punctuation" >,</span>
    <span class="token property" >"build:esm"</span><span class="token operator" >:</span> <span class="token string" >"babel --delete-dir-on-start -d esm/ src/"</span><span class="token punctuation" >,</span>
    <span class="token property" >"build:cjs"</span><span class="token operator" >:</span>
      <span class="token string" >"babel --delete-dir-on-start --env-name cjs -d lib/ src/"</span><span class="token punctuation" >,</span>

    <span class="token property" >"preversion"</span><span class="token operator" >:</span> <span class="token string" >"npm run test"</span><span class="token punctuation" >,</span>
    <span class="token property" >"prepublishOnly"</span><span class="token operator" >:</span> <span class="token string" >"npm run build"</span><span class="token punctuation" >,</span>
    <span class="token property" >"postpublish"</span><span class="token operator" >:</span> <span class="token string" >"npm run gh-pages &amp;&amp; npm run gh-pages:deploy"</span><span class="token punctuation" >,</span>

    /* If your library is installed through Git<span class="token punctuation" >,</span> compile it */
    <span class="token property" >"postinstall"</span><span class="token operator" >:</span> <span class="token string" >"node lib/post_install.js"</span>
  <span class="token punctuation brackets-braces" >}</span>
<span class="token punctuation brackets-braces" >}</span>
</code></pre>
<p>Certain scripts, such as <code>start</code> and <code>test</code>, have shortcuts in npm. Examples:</p>
<ul>
<li><code>npm t</code> or <code>npm test</code> maps to <code>npm run test</code>.</li>
<li><code>npm start</code> maps to <code>npm run start</code>.</li>
</ul>
<p>npm commands, such as <code>npm install</code>, <code>npm publish</code> or <code>npm version</code>, can have <a href="https://docs.npmjs.com/misc/scripts">hooks</a> attached to them, like in the example above.</p>
<p>Use <code>pre</code> and <code>post</code> prefixes to group your scripts. For example, <em>npm run test</em> will try to run <code>pretest</code>, <code>test</code>, and then <code>posttest</code> scripts. In the example above, the feature is used to control what happens when <code>npm publish</code> is executed.</p>
<p>Though for npm namespaces (like, <code>namespace:task</code>) don’t mean anything, some tools support this convention. For example, <a href="https://www.npmjs.com/package/npm-run-all">npm-run-all</a> allows you to run all tasks inside a namespace — <code>npm-run-all build:*</code>.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>The <code>postinstall</code> script and how it works is discussed in detail in the <a href="/maintenance/packaging/building/">Building Packages</a> chapter.</blockquote><blockquote class="tip"><i class="icon-attention-circled"></i>Before npm 5, people used <code>prepublish</code> instead of <code>prepublishOnly</code>. <a href="https://docs.npmjs.com/misc/scripts">According to the documentation</a>, <code>prepublish</code> is run also on <code>npm install</code>. To overcome this confusing behavior, <code>prepublishOnly</code> was implemented.</blockquote><h3 class="header"><a class="header-anchor" href="#entry-points" id="entry-points"></a><span class="text">Entry Points</span><a class="header-anchor-select" href="#entry-points">#</a></h3>
<p>The entry points describe how the package should resolve to your code when used from Node or a bundler, like webpack.</p>
<p>If your code is using JavaScript features not supported by Node, or other language like TypeScript, you should compile the code in two ways:</p>
<ul>
<li>To ES5, and use this files as the <code>main</code> entry point. It will be used by Node.</li>
<li>To ES5 except ECMAScript modules (ESM), and use it as the <code>module</code> entry point. It will be used by bundlers. This will allow them to do tree shaking.</li>
</ul>
<p><strong>package.json</strong></p>
<pre><code class="lang-json"><span class="token punctuation brackets-braces" >{</span>
  /* Entry point for command line interface. */
  /* Don't set this unless you intend to allow command line usage */
  <span class="token property" >"bin"</span><span class="token operator" >:</span> <span class="token string" >"bin/index.js"</span><span class="token punctuation" >,</span>

  /* Main entry point (defaults to index.js<span class="token punctuation brackets-parentheses" >)</span> */
  <span class="token property" >"main"</span><span class="token operator" >:</span> <span class="token string" >"lib/"</span><span class="token punctuation" >,</span>

  /* ESM-based entry point for bundlers. */
  <span class="token property" >"module"</span><span class="token operator" >:</span> <span class="token string" >"esm/"</span>
<span class="token punctuation brackets-braces" >}</span>
</code></pre>
<blockquote class="tip"><i class="icon-attention-circled"></i>See <a href="/maintenance/packaging/building/">Building Packages</a> chapter for more details on building your package for different environments and tree shaking.</blockquote><p>On small projects, it’s enough to have all code in <code>index.js</code> in the root folder. On larger ones, you likely want to start splitting it up and move into a directory. Having all code in a directory will make compilation easier.</p>
<h3 class="header"><a class="header-anchor" href="#dependencies" id="dependencies"></a><span class="text">Dependencies</span><a class="header-anchor-select" href="#dependencies">#</a></h3>
<p>An npm package can have different types of dependencies. We discuss them in the <em>Types of Dependencies</em> section.</p>
<p><strong>package.json</strong></p>
<pre><code class="lang-json"><span class="token punctuation brackets-braces" >{</span>
  /* Dependencies required to use the package. */
  <span class="token property" >"dependencies"</span><span class="token operator" >:</span> <span class="token punctuation brackets-braces" >{</span>
    /* ... */
  <span class="token punctuation brackets-braces" >}</span><span class="token punctuation" >,</span>

  /* Dependencies needed to develop/compile the package. */
  <span class="token property" >"devDependencies"</span><span class="token operator" >:</span> <span class="token punctuation brackets-braces" >{</span>
    /* ... */
  <span class="token punctuation brackets-braces" >}</span><span class="token punctuation" >,</span>

  /* Package peer dependencies. The consumer chooses exact versions. */
  <span class="token property" >"peerDependencies"</span><span class="token operator" >:</span> <span class="token punctuation brackets-braces" >{</span>
    <span class="token property" >"lodash"</span><span class="token operator" >:</span> <span class="token string" >"&gt;= 3.5.0 &lt; 4.0.0"</span><span class="token punctuation" >,</span>
    <span class="token property" >"react"</span><span class="token operator" >:</span> <span class="token string" >"&gt;= 0.14.0 &lt; 17.0.0"</span>
  <span class="token punctuation brackets-braces" >}</span>
<span class="token punctuation brackets-braces" >}</span>
</code></pre>
<h3 class="header"><a class="header-anchor" href="#links" id="links"></a><span class="text">Links</span><a class="header-anchor-select" href="#links">#</a></h3>
<p>A package should link to its repository, homepage, and issue tracker. The fields are optional but they are good to have as it will make it easier for the users to find these through npm site.</p>
<p><strong>package.json</strong></p>
<pre><code class="lang-json"><span class="token punctuation brackets-braces" >{</span>
  /* Links to homepage<span class="token punctuation" >,</span> repository<span class="token punctuation" >,</span> and issue tracker */
  <span class="token property" >"homepage"</span><span class="token operator" >:</span> <span class="token string" >"https://&lt;organization/user&gt;.github.io/&lt;project&gt;/"</span><span class="token punctuation" >,</span>
  <span class="token property" >"repository"</span><span class="token operator" >:</span> <span class="token punctuation brackets-braces" >{</span>
    <span class="token property" >"type"</span><span class="token operator" >:</span> <span class="token string" >"git"</span><span class="token punctuation" >,</span>
    <span class="token property" >"url"</span><span class="token operator" >:</span> <span class="token string" >"https://github.com/&lt;organization/user&gt;/&lt;project&gt;.git"</span>
  <span class="token punctuation brackets-braces" >}</span><span class="token punctuation" >,</span>
  <span class="token property" >"bugs"</span><span class="token operator" >:</span> <span class="token punctuation brackets-braces" >{</span>
    <span class="token property" >"url"</span><span class="token operator" >:</span> <span class="token string" >"https://github.com/&lt;organization/user&gt;/&lt;project&gt;/issues"</span>
  <span class="token punctuation brackets-braces" >}</span>
<span class="token punctuation brackets-braces" >}</span>
</code></pre>
<p>If you use GitHub, you can simplify like this:</p>
<pre><code class="lang-json"><span class="token punctuation brackets-braces" >{</span>
  /* GitHub issues URL will be inferred from the repository URL */
  <span class="token property" >"homepage"</span><span class="token operator" >:</span> <span class="token string" >"https://&lt;organization/user&gt;.github.io/&lt;project&gt;/"</span><span class="token punctuation" >,</span>
  <span class="token property" >"repository"</span><span class="token operator" >:</span>
    <span class="token string" >"https://github.com/&lt;organization/user&gt;/&lt;project&gt;.git"</span>
<span class="token punctuation brackets-braces" >}</span>
</code></pre>
<h3 class="header"><a class="header-anchor" href="#license" id="license"></a><span class="text">License</span><a class="header-anchor-select" href="#license">#</a></h3>
<p>You should always <a href="https://docs.npmjs.com/files/package.json#license">specify</a> a license of your package, otherwise people will not know if they are allowed to use it. If you don’t specify any license, it means nobody can use your package.</p>
<pre><code class="lang-json"><span class="token punctuation brackets-braces" >{</span>
  <span class="token property" >"license"</span><span class="token operator" >:</span> <span class="token string" >"MIT"</span>
<span class="token punctuation brackets-braces" >}</span>
</code></pre>
<p>You can use an <a href="https://spdx.org/licenses/">SPDX license identifier</a> or a file with a custom license:</p>
<pre><code class="lang-json"><span class="token punctuation brackets-braces" >{</span>
  <span class="token property" >"license"</span><span class="token operator" >:</span> <span class="token string" >"SEE LICENSE IN &lt;filename&gt;"</span>
<span class="token punctuation brackets-braces" >}</span>
</code></pre>
<p>Also GitHub will use this field to show detailed license information in the repository:</p>
<p><figure><img src="/fb21c52e57a361f946d95bc0989d729a.png" alt="License explanation on GitHub" class="" width="" height="" /><figcaption>License explanation on GitHub</figcaption></figure></p>
<blockquote class="tip"><i class="icon-attention-circled"></i>See <a href="https://opensource.guide/legal/">The Legal Side of Open Source</a> and <a href="https://opensource.com/article/17/9/open-source-licensing">Open source licensing: What every technologist should know</a> to know more about licensing.</blockquote><h3 class="header"><a class="header-anchor" href="#other-fields" id="other-fields"></a><span class="text">Other Fields</span><a class="header-anchor-select" href="#other-fields">#</a></h3>
<p>As you can see, <em>package.json</em> can contain a lot of information. You can attach non-npm specific metadata there that can be used by tooling. Given this can bloat <em>package.json</em>, it’s preferable to keep metadata in files of their own.</p>
<h2 class="header"><a class="header-anchor" href="#what-files-to-publish" id="what-files-to-publish"></a><span class="text">What Files to Publish</span><a class="header-anchor-select" href="#what-files-to-publish">#</a></h2>
<p>Even though a project can contain a lot of files, not all should be published. Besides wasting bandwidth, this can leak sensitive files to a public registry.</p>
<h3 class="header"><a class="header-anchor" href="#what-should-be-in-a-package" id="what-should-be-in-a-package"></a><span class="text">What Should Be in a Package</span><a class="header-anchor-select" href="#what-should-be-in-a-package">#</a></h3>
<p>Most of the available npm packages are small and include only a couple of files:</p>
<ul>
<li>Entry point, like <em>index.js</em>.</li>
<li><em>package.json</em> - package metadata.</li>
<li><a href="/maintenance/documentation/readme/">README</a> - it’s shown on the package page at <em>npmjs.com</em> and is a good place for “selling” the project for a potential user. See the <a href="/maintenance/documentation/readme/">README</a> chapter for details.</li>
<li><em>CHANGELOG</em>, <em>CHANGES</em> or <em>HISTORY</em> - describe changes for each package version. See <a href="/maintenance/documentation/change-log/">Change Logs</a> chapter for details.</li>
<li><em>LICENSE</em> or <em>LICENCE</em> - license of your package. You should point to the license by name from <em>package.json</em>.</li>
</ul>
<p>These files will be included in your package regardless of the <em>package.json</em> <code>files</code> field or <code>.npmignore</code> file. <a href="/maintenance/documentation/readme/">README</a>, <em>CHANGELOG</em> and <em>LICENSE</em> can have any case and extension.</p>
<h3 class="header"><a class="header-anchor" href="#what-could-be-in-a-package" id="what-could-be-in-a-package"></a><span class="text">What Could Be in a Package</span><a class="header-anchor-select" href="#what-could-be-in-a-package">#</a></h3>
<p>There’s no official recommendations on what files to publish, except <a href="https://docs.npmjs.com/misc/developers#keeping-files-out-of-your-package">a list</a> of files that should be ignored by default or included regardless of your settings (the ones listed above).</p>
<p>The most controversial question is whether you should publish tests and documentation as part of an npm package. There’s a <a href="https://stackoverflow.com/questions/25124844/should-i-npmignore-my-tests">good Stack Overflow discussion</a>.</p>
<p>Same with the source code if you compile it before publishing. These files aren’t required to use the package but some people may want them to compile your code themselves or if they like to dig into packages on a plane.</p>
<h3 class="header"><a class="header-anchor" href="#what-should-not-be-in-a-package" id="what-should-not-be-in-a-package"></a><span class="text">What Should Not Be in a Package</span><a class="header-anchor-select" href="#what-should-not-be-in-a-package">#</a></h3>
<p>In larger projects, you often find the following files that should be excluded from an npm distribution:</p>
<ul>
<li>Tooling configuration, like <em>babel.config.json</em>, <em>.eslintrc.json</em>, <em>.travis.yml</em> or <em>webpack.config.js</em> — files like <em>babel.config.json</em> may easily break your user’s build if they try to compile _node<em>modules</em> folder and don’t have one of the plugins listed in your config.</li>
<li>Tooling or build artifacts like log files — usually anything you have in <em>.gitignore</em> which npm will use by default unless you have <em>.npmignore</em> file. In the latter case you’ll need to copy these patterns from <em>.gitignore</em>.</li>
<li>File that are required only for development: build scripts or <em>CONTRIBUTING.md</em>.</li>
<li>Any big files, like images.</li>
<li>Any sensitive data, like npm publishing keys.</li>
</ul>
<blockquote class="tip"><i class="icon-attention-circled"></i>To decrease the size of your dependencies, use <a href="https://www.npmjs.com/package/package-config-checker">package-config-checker</a>. It can pinpoint packages not using the <code>files</code> field correctly. Once you know which ones haven’t set it, consider making pull requests to those projects.</blockquote><h3 class="header"><a class="header-anchor" href="#including-and-ignoring-files" id="including-and-ignoring-files"></a><span class="text">Including and Ignoring Files</span><a class="header-anchor-select" href="#including-and-ignoring-files">#</a></h3>
<p>You can whitelist files that npm will publish, or blacklist files which it won’t publish.</p>
<h3 class="header"><a class="header-anchor" href="#files-field-in-_package-json_" id="files-field-in-_package-json_"></a><span class="text"><code>files</code> Field in <em>package.json</em></span><a class="header-anchor-select" href="#files-field-in-_package-json_">#</a></h3>
<p>Only files or folders listed in the <a href="https://docs.npmjs.com/files/package.json#files">files</a> field will be published.</p>
<p><strong>Pros:</strong></p>
<ul>
<li>You’ll never publish a big file or folder accidentally.</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>You may forget to add a new file here and publish a broken package.</li>
<li>Doesn’t support negative patterns.</li>
</ul>
<blockquote class="warning"><i class="icon-attention"></i><a href="https://github.com/npm/npm/wiki/Files-and-Ignores#details">npm doesn’t support</a> negative glob patterns, like <code>!src/*.test.js</code>, in the <code>files</code> field, Use <em>.npmignore</em> file with a pattern like <code>src/*.test.js</code> instead.</blockquote><h3 class="header"><a class="header-anchor" href="#_-npmignore_-file" id="_-npmignore_-file"></a><span class="text"><em>.npmignore</em> File</span><a class="header-anchor-select" href="#_-npmignore_-file">#</a></h3>
<p>Lists glob patterns of files and folders that shouldn’t be published, like <em>.gitignore</em> (and <em>.gitignore</em> will be used by npm if there’s no <em>.npmignore</em>).</p>
<p><strong>Pros:</strong></p>
<ul>
<li>Easier to maintain, because new files will be published by default.</li>
<li>You can have different rules for different subdirectories.</li>
<li>Supports negative patterns.</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>You can accidentally make your package bigger than it could.</li>
</ul>
<h2 class="header"><a class="header-anchor" href="#conclusion" id="conclusion"></a><span class="text">Conclusion</span><a class="header-anchor-select" href="#conclusion">#</a></h2>
<p>An npm package contains at least metadata and source. Many of the files that are relevant for development can be skipped in a distribution build to keep downloads fast. Although that’s a small issue, it’s still good to consider as it doesn’t take much effort to filter the files.</p>
<p>You’ll learn how to publish npm packages in the next chapter.</p>
</div></div><div class="page__section"><div class="social-links"><h2 class="social-links__header">Subscribe to the blog updates</h2><blockquote class="tip social-links__tip">If you enjoyed this page, consider subscribing to the mailing list below or following <a href="https://twitter.com/survivejs">@survivejs</a> for occasional updates. There is also <a href="/atom.xml">RSS</a> available for old beards (no pun intended).</blockquote><form action="//jster.us7.list-manage.com/subscribe/post?u=ed40c0084a0c5ba31b3365d65&amp;id=b853b8e786" method="post" target="_blank" class="css-1nfeoes css-va8n550"><input type="email" class="css-baseStyle-s4lgck css-inputStyle-16d70pc" placeholder="Email" name="EMAIL" id="mce-EMAIL" required=""/><div style="display:none;position:absolute;left:-5000px"><input type="text" name="b_ed40c0084a0c5ba31b3365d65_b853b8e786" tabindex="-1" value=""/></div><input type="submit" class="css-baseStyle-s4lgck css-buttonStyle-1y781j1" value="Subscribe" name="subscribe"/></form></div><div class="css-r9vozr css-7ic71f0"><div class="css-panel-1asgzqv css-panelPrev-h368eu"><div class="css-1njlj0m css-7ic71f1">Previous chapter</div><a class="css-link-h8hsyv css-linkPrev-966ksh" href="/maintenance/packaging/where-to-start/">Where to Start Packaging</a></div><div class="css-panel-1asgzqv css-panelNext-1i6c957"><div class="css-1njlj0m css-7ic71f1">Next chapter</div><a class="css-link-h8hsyv css-linkNext-1a0mc68" href="/maintenance/packaging/publishing/">Publishing Packages</a></div></div><blockquote class="tip"><p>This book is <a href="https://leanpub.com/survivejs-react">available through Leanpub</a>. By purchasing the book you support the development of further content.</p></blockquote><div id="disqus_thread"></div><script type="text/javascript">var disqus_shortname = 'survivejs';(function() {var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script></div></div></div></div><footer class="css-eo7znu css-iscbe10"><ul class="css-jtawwa css-iscbe13 css-6482o6 css-3yjlwf0"><li class="css-haw22i css-iscbe14 css-10ozgd1 css-17pd6qu0"><a href="https://twitter.com/survivejs" target="_blank" rel="noopener noreferrer">@survivejs</a></li><li class="css-haw22i css-iscbe14 css-10ozgd1 css-17pd6qu0"><a href="http://eepurl.com/bth1v5" target="_blank" rel="noopener noreferrer">Mailing List</a></li><li class="css-haw22i css-iscbe14 css-10ozgd1 css-17pd6qu0"><a href="https://gitter.im/survivejs" target="_blank" rel="noopener noreferrer">Gitter Chat</a></li><li class="css-haw22i css-iscbe14 css-10ozgd1 css-17pd6qu0"><a href="https://github.com/survivejs" target="_blank" rel="noopener noreferrer">GitHub</a></li><li class="css-haw22i css-iscbe14 css-10ozgd1 css-17pd6qu0"><a href="https://presentations.survivejs.com" target="_blank" rel="noopener noreferrer">Presentations</a></li><li class="css-haw22i css-iscbe14 css-10ozgd1 css-17pd6qu0"><a href="http://goo.gl/forms/OWdGIOdHm9" target="_blank" rel="noopener noreferrer">Contact</a></li><li class="css-haw22i css-iscbe14 css-10ozgd1 css-17pd6qu0"><a href="https://github.com/survivejs/ama/issues" target="_blank" rel="noopener noreferrer">Ask Me Anything</a></li><li class="css-haw22i css-iscbe14 css-10ozgd1 css-17pd6qu0"><a href="/atom.xml" target="_blank" rel="noopener noreferrer">RSS</a></li></ul><div class="css-1gd1yml css-iscbe11"><h3 class="css-oi3rzz css-iscbe12">From the Blog</h3><ul class="blog-teasers"><li><a class="blog-teaser" href="/blog/refract-interview/">Refract - Manage Component Side Effects the Reactive Way - Interview with Thomas Roch.</a></li><li><a class="blog-teaser" href="/blog/dss-interview/">DSS - Deterministic Style Sheets - Interview with Giuseppe Gurgone</a></li><li><a class="blog-teaser" href="/blog/fall-2018-events/">SurviveJS - Fall Events</a></li><li><a class="blog-teaser" href="/blog/uppy-interview/">Uppy - Painless Uploads for JavaScript - Interview with Artur Paikin</a></li><li><a class="blog-teaser" href="/blog/graphql-finland-interview/">GraphQL Finland - Learn GraphQL Up North - Interview with Mikhail Novikov</a></li><li><a class="blog-teaser" href="/blog/pwa-interview/">Progressive Web Apps - The Why and How - Interview with Maciej Caputa</a></li><li><a class="blog-teaser" href="/blog/proppy-interview/">Proppy - Functional props composition for components - Interview with Fahad Ibnay Heylaal</a></li></ul></div><ul aria-label="Other Juho&#x27;s books" class="css-6482o6 css-3yjlwf0"><li class="css-jtawwa css-nbe2jc1 css-10ozgd1 css-17pd6qu0"><a href="/maintenance/introduction"><h4 class="css-i1gwhw css-nbe2jc0">SurviveJS - Maintenance: Streamline JavaScript Workflow</h4><img alt="Maintenance book cover" src="/2900d9b74e46ac6cdf984148c1a0c631.svg" width="255" height="329" class="css-1d87hyi css-nbe2jc2"/></a><a class="btn btn--normal css-button-v0k0bo" href="https://leanpub.com/survivejs-maintenance">Buy at Leanpub</a></li><li class="css-jtawwa css-nbe2jc1 css-10ozgd1 css-17pd6qu0"><a href="/react/introduction"><h4 class="css-i1gwhw css-nbe2jc0">SurviveJS - React: From apprentice to master</h4><img alt="React book cover" src="/2412b7150d25c1dc3c309666132bc26e.svg" width="255" height="329" class="css-1d87hyi css-nbe2jc2"/></a><a class="btn btn--normal css-button-v0k0bo" href="https://leanpub.com/survivejs-react">Buy at Leanpub</a></li><li class="css-jtawwa css-nbe2jc1 css-10ozgd1 css-17pd6qu0"><a href="/webpack/foreword"><h4 class="css-i1gwhw css-nbe2jc0">SurviveJS - Webpack: From apprentice to master</h4><img alt="Webpack book cover" src="/20cf3367cf445212a90411ccd2282229.svg" width="255" height="329" class="css-1d87hyi css-nbe2jc2"/></a><a class="btn btn--normal css-button-v0k0bo" href="https://leanpub.com/survivejs-webpack">Buy at Leanpub</a><a class="btn btn--normal css-button-v0k0bo" href="https://www.amazon.com/dp/9526868803/">Buy at Amazon</a><a class="btn btn--normal css-button-v0k0bo" href="https://www.amazon.com/dp/B06XWZZGBS">Buy for Kindle</a></li></ul></footer><div><div class="gitter-open-chat-button">Need help?</div><script type="text/javascript">
          ((window.gitter = {}).chat = {}).options = {
            showChatByDefault: false,
            activationElement: '.gitter-open-chat-button',
            room: 'survivejs/react'
          };
        </script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script></div><div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript">
        docsearch({
          apiKey: '4b3ffdbff33831aa87c5b1f39889f2af',
          indexName: 'survivejs_maintenance',
          inputSelector: '#search',
          debug: false
        });
      </script></div>

    
  </body>
</html>
