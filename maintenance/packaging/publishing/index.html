<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui" />
    <meta
      name="description"
      content="" />
    <meta
      name="keywords"
      content="" />
    <title>Publishing Packages</title>
    
    <link rel='icon' type='image/png' href='/assets/favicon.png'></link>

    
      <link href="/site.00e10ec15149ca9c0e25.css" rel="stylesheet">
    

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"
    />
  </head>
  <body>
    <div><div class="chapter__wrapper"><div class="header-image" style="background-image:url(/9484144bf9f674a8b04217e6b3cdfe78.jpg);"></div><h1 class="post__heading">Publishing Packages</h1><div class="header-extra"><a href="https://pixabay.com/en/alphabets-ancient-author-data-2365812/">rawpixel (Public Domain)</a></div><div class="toc-nav__wrapper"><h4 class="search-nav--header">Search</h4><input id="search"/><h4 class="toc-nav--header">Table of Contents</h4><ul class="toc-nav"><li class="toc-intro"><a class="toc-nav__link intro" href="/maintenance/foreword/">Foreword</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/maintenance/preface/">Preface</a></li><li class="toc-intro"><a class="toc-nav__link intro" href="/maintenance/introduction/">Introduction</a></li><li class="toc-part"><a class="toc-nav__link part" href="/maintenance/packaging/">Packaging</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/packaging/where-to-start/">Where to Start Packaging</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/packaging/anatomy/">Anatomy of a Package</a></li><li class="toc-chapter"><span class="toc-nav__link toc-nav__link--current chapter">Publishing Packages</span></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/packaging/building/">Building Packages</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/packaging/standalone-builds/">Standalone Builds</a></li><li class="toc-part"><a class="toc-nav__link part" href="/maintenance/code-quality/">Code Quality</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/code-quality/linting/">Linting</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/code-quality/code-formatting/">Code Formatting</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/code-quality/typing/">Typing</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/code-quality/testing/">Testing</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/code-quality/dependencies/">Dependency Management</a></li><li class="toc-part"><a class="toc-nav__link part" href="/maintenance/infrastructure/">Infrastructure</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/infrastructure/processes/">Processes</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/infrastructure/continuous-integration/">Continuous Integration</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/infrastructure/automation/">Automation</a></li><li class="toc-part"><a class="toc-nav__link part" href="/maintenance/documentation/">Documentation</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/documentation/readme/">README</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/documentation/site/">Site</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/documentation/api/">API Documentation</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/documentation/linting/">Linting</a></li><li class="toc-part"><a class="toc-nav__link part" href="/maintenance/future/">Future</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/future/longevity/">Longevity</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/future/marketing/">Marketing</a></li><li class="toc-part"><a class="toc-nav__link part" href="/maintenance/conclusion/">Conclusion</a></li><li class="toc-part"><a class="toc-nav__link part" href="/maintenance/appendices/">Appendices</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/maintenance/appendices/monorepos/">Managing Packages Using a Monorepo</a></li></ul><div><div class="buy-container"><a href="/react/introduction"><img alt="React book cover" class="sidebar-cover" src="/b61671d95f81496495f2587a10ddb122.png" width="255" height="329"/></a><p><a class="btn btn--normal btn--buy" href="https://leanpub.com/survivejs-react">Buy at Leanpub</a></p></div><h3>See also</h3><div class="buy-container"><a href="/webpack/foreword"><img alt="Webpack book cover" class="sidebar-cover" src="/8f86c1d07d5536454690030cd1a10b53.png" width="255" height="329"/></a><p><a class="btn btn--normal btn--buy" href="https://leanpub.com/survivejs-webpack">Buy at Leanpub</a><a class="btn btn--normal btn--buy" href="https://www.amazon.com/dp/9526868803/">Buy at Amazon</a><a class="btn btn--normal btn--buy" href="https://www.amazon.com/dp/B06XWZZGBS">Buy for Kindle</a></p></div></div></div><div class="chapter"><div class="post__content"><div><blockquote class="latestpost tip"><a class="latestpost-link" href="/blog/unexpected-react-interview/">unexpected-react - Test Full Virtual DOM - Interview with Dave Brotherstone</a></blockquote></div><div class="chapter-content"><p>Publishing npm packages is only a <code>npm publish</code> away. Assuming the package name is still available and everything goes fine, you should have something out there! After this, you can install your package through <code>npm install</code> or <code>npm i</code>.</p>
<p>Most of the community follows a specific versioning convention which you should understand. It comes with its downsides but given that the majority use and understand it, it&#39;s worth covering.</p>
<h2 class="header"><a class="header-anchor" href="#understanding-semver" id="understanding-semver"></a><span class="text">Understanding SemVer</span><a class="header-anchor-select" href="#understanding-semver">#</a></h2>
<p>Most popular packages out there comply with SemVer. Roughly, SemVer states that you should not break backward compatibility, given <a href="http://semver.org/">certain rules</a> are met:</p>
<ol>
<li>The MAJOR version increments when incompatible API changes are made.</li>
<li>The MINOR version increments when backwards-compatible features are added.</li>
<li>The PATCH version increments when backwards-compatible bugs are fixed.</li>
</ol>
<p>The rules are different for <code>0.x</code> versions. There the rule is <code>0.&lt;MAJOR&gt;.&lt;MINOR&gt;</code>. For packages considered stable and suitable for public usage (<code>1.0.0</code> and above), the rule is <code>&lt;MAJOR&gt;.&lt;MINOR&gt;.&lt;PATCH&gt;</code>. For example, if the current version of a package is <code>0.1.4</code> and a breaking change is performed, it should bump to <code>0.2.0</code>.</p>
<p>Given SemVer can be tricky to manage, <a href="https://github.com/staltz/comver">ComVer</a> exists as a backwards compatible alternative. ComVer can be described as a binary decision <code>&lt;not compatible&gt;.&lt;compatible&gt;</code>.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>You can understand SemVer much better by studying <a href="http://semver.npmjs.com/">the online tool</a> and how it behaves.</blockquote><h2 class="header"><a class="header-anchor" href="#increasing-a-version" id="increasing-a-version"></a><span class="text">Increasing a Version</span><a class="header-anchor-select" href="#increasing-a-version">#</a></h2>
<p>To increase the version of your packages, you need to invoke one of these commands:</p>
<ul>
<li><code>npm version &lt;x.y.z&gt;</code> - Define version yourself.</li>
<li><code>npm version &lt;major|minor|patch&gt;</code> - Let npm bump the version for you based on SemVer.</li>
<li><code>npm version &lt;premajor|preminor|prepatch|prerelease&gt;</code> - Same as previous expect this time it generates <code>-&lt;prerelease number&gt;</code> suffix. Example: <code>v2.1.2-2</code>.</li>
</ul>
<p>Invoking any of these updates <em>package.json</em> and creates a version commit to git automatically. If you execute <code>npm publish</code> after doing this, you should have a new version out there.</p>
<h2 class="header"><a class="header-anchor" href="#publishing-a-pre-release-version" id="publishing-a-pre-release-version"></a><span class="text">Publishing a Pre-Release Version</span><a class="header-anchor-select" href="#publishing-a-pre-release-version">#</a></h2>
<p>Sometimes, you want to publish something preliminary to test. Tag your release as below:</p>
<ul>
<li>v0.5.0-alpha1</li>
<li>v0.5.0-beta1</li>
<li>v0.5.0-beta2</li>
<li>v0.5.0-rc1</li>
<li>v0.5.0-rc2</li>
<li>v0.5.0</li>
</ul>
<p>The initial alpha release allows the users to try out the upcoming functionality and provide feedback. The beta releases can be considered more stable.</p>
<p>The release candidates (RC) are close to an actual release and don&#39;t introduce any new functionality. They are all about refining the release till it&#39;s suitable for general consumption.</p>
<p>The workflow has two steps:</p>
<ol>
<li><code>npm version 0.5.0-alpha1</code> - Update <em>package.json</em> as discussed earlier.</li>
<li><code>npm publish --tag alpha</code> - Publish the package under <em>alpha</em> tag.</li>
</ol>
<p>To consume the test version, your users have to use <code>npm install &lt;your package name&gt;@alpha</code>.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i><a href="https://docs.npmjs.com/cli/link">npm link</a> allows you to link a package as a globally available symbolic link. Node resolves to the linked version unless local <code>node_modules</code> exists. Use <code>npm unlink</code> or <code>npm unlink &lt;package&gt;</code> to remove the link.</blockquote><h2 class="header"><a class="header-anchor" href="#version-ranges" id="version-ranges"></a><span class="text">Version Ranges</span><a class="header-anchor-select" href="#version-ranges">#</a></h2>
<p>npm supports multiple version ranges as listed below:</p>
<ul>
<li><code>~</code> - Tilde matches only patch versions. For example, <code>~1.2</code> would be equal to <code>1.2.x</code>.</li>
<li><code>^</code> - Caret is the default you get using <code>--save</code> or <code>--save-dev</code>. It matches minor versions, and this means <code>^0.2.0</code> would be equal to <code>0.2.x</code>.</li>
<li><code>*</code> - Asterisk matches major releases, and it&#39;s the most dangerous of the ranges. Using this recklessly can easily break your project in the future.</li>
<li><code>&gt;= 1.3.0 &lt; 2.0.0</code> - Ranges between versions come in handy with <code>peerDependencies</code>.</li>
</ul>
<p>You can set the default range using <code>npm config set save-prefix=&#39;^&#39;</code> in case you prefer something else than caret. Alternately, you can modify <em>~/.npmrc</em> directly. Especially defaulting to tilde can be a good idea that can help you to avoid trouble with dependencies, although it doesn&#39;t remove potential problems entirely. That&#39;s where shrinkwrapping comes in.</p>
<h2 class="header"><a class="header-anchor" href="#locking-versions" id="locking-versions"></a><span class="text">Locking Versions</span><a class="header-anchor-select" href="#locking-versions">#</a></h2>
<p>Using version ranges can feel dangerous as it doesn&#39;t take much to break an application. A single change in the wrong place is enough. Since npm 5, npm has provided support for <strong>lockfiles</strong>. When <code>npm install</code> is run, it writes a file, <em>package-lock.json</em>. The file should be committed to a project repository and it contains the versions of the installed packages.</p>
<p>The next time someone runs <code>npm install</code>, npm will use the versions specified in this lockfile. The point is to provide predictable environment as sometimes a package might break by not following the aforementioned SemVer rules correctly.</p>
<p><a href="https://yarnpkg.com/">Yarn</a>, an npm alternative, implemented the idea of lockfiles first. It provides certain functionality, such as workspaces, not found in npm and continues to push the envelope.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i><a href="https://yarnpkg.com/blog/2017/05/31/determinism/">Sebastian McKenzie discusses the difference between the lockfile approaches</a>. In short, Yarn needs <em>package.json</em> to work while npm doesn&#39;t. Future interoperability is still unclear due to the difference of the approaches.</blockquote><h2 class="header"><a class="header-anchor" href="#conclusion" id="conclusion"></a><span class="text">Conclusion</span><a class="header-anchor-select" href="#conclusion">#</a></h2>
<p>When publishing npm packages, you should take care to follow SemVer carefully. Consider ComVer as it&#39;s a simpler backwards compatible alternative. Use tooling to your advantage to avoid regressions and to keep your user base happy.</p>
<p>You&#39;ll learn how to build npm packages in the next chapter.</p>
</div><div class="social-links"><blockquote class="tip">If you enjoyed this page, consider subscribing to the mailing list below or following <a href="https://twitter.com/survivejs">@survivejs</a> for occasional updates. There is also <a href="/atom.xml">RSS</a> available for old beards (no pun intended).</blockquote><h2 class="subscribe-header">Subscribe to the mailing list</h2><form action="//jster.us7.list-manage.com/subscribe/post?u=ed40c0084a0c5ba31b3365d65&amp;amp;id=b853b8e786" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate social-form" target="_blank" novalidate=""><div id="mc_embed_signup_scroll"><div class="mc-field-group social-input-container"><input type="email" placeholder="Email" value="" name="EMAIL" class="required email" id="mce-EMAIL"/></div><div style="display:none;position:absolute;left:-5000px;"><input type="text" name="b_ed40c0084a0c5ba31b3365d65_b853b8e786" tabindex="-1" value=""/></div><div class="social-subscribe-container"><input type="submit" class="btn button social-subscribe" style="margin-top:1em;margin-bottom:1em;line-height:2em;" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"/></div></div></form></div><div class="new-prevnext"><div class="new-prevnext__prev"><div class="new-prevnext__bg" style="background-image:url(/0bb2e3b419ef7bec150f59160de61591.jpg);"></div><span class="new-prevnext__info">Previous chapter</span><a class="new-prevnext__link" href="/maintenance/packaging/anatomy/">Anatomy of a Package</a></div><div class="new-prevnext__next"><div class="new-prevnext__bg" style="background-image:url(/182f70dd0225f637ed6b56c8fb25a2de.jpg);"></div><span class="new-prevnext__info">Next chapter</span><a class="new-prevnext__link" href="/maintenance/packaging/building/">Building Packages</a></div></div><blockquote class="tip"><p>This book is <a href="https://leanpub.com/survivejs-react">available through Leanpub</a>. By purchasing the book you support the development of further content.</p></blockquote><div id="disqus_thread"></div></div></div><div><a class="next-page" title="Building Packages" href="/maintenance/packaging/building/"><i class="icon-right-open"></i></a><a class="previous-page" title="Anatomy of a Package" href="/maintenance/packaging/anatomy/"><i class="icon-left-open"></i></a></div><script type="text/javascript">var disqus_shortname = 'survivejs';(function() {var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script></div><div class="nav__wrapper"><input type="checkbox" class="nav__toggle" id="nav__toggle"/><label class="nav__toggle-label" for="nav__toggle"></label><nav class="nav"><div class="nav__link"><a href="/">Home</a></div><div class="nav__link"><a href="/blog/">Read the blog</a></div><div class="nav__link"><a href="/training/">Get training</a></div><div class="nav__link"><a href="https://leanpub.com/survivejs-react">Buy the ebook</a></div><div class="nav__link"><a href="/"></a></div><div class="nav__link"><a href="https://twitter.com/survivejs">@survivejs</a></div></nav></div><footer><div class="footer-wrapper"><div class="footer-content-wrapper"><div class="footer-social"><h3>Social</h3><ul><li><a href="https://twitter.com/survivejs" target="_blank" rel="noopener noreferrer">@survivejs</a></li><li><a href="http://eepurl.com/bth1v5" target="_blank" rel="noopener noreferrer">Mailing List</a></li><li><a href="https://gitter.im/survivejs" target="_blank" rel="noopener noreferrer">Gitter Chat</a></li><li><a href="https://github.com/survivejs" target="_blank" rel="noopener noreferrer">GitHub</a></li><li><a href="https://presentations.survivejs.com" target="_blank" rel="noopener noreferrer">Presentations</a></li><li><a href="http://goo.gl/forms/OWdGIOdHm9" target="_blank" rel="noopener noreferrer">Contact</a></li><li><a href="https://github.com/survivejs/ama/issues" target="_blank" rel="noopener noreferrer">Ask Me Anything</a></li></ul></div><div class="footer-blog"><h3>From the Blog</h3><ul class="blog-teasers"><li><a class="blog-teaser" href="/blog/unexpected-react-interview/">unexpected-react - Test Full Virtual DOM - Interview with Dave Brotherstone</a></li><li><a class="blog-teaser" href="/blog/webexpo-2017/">Experiences on WebExpo 2017</a></li><li><a class="blog-teaser" href="/blog/kea-interview/">Kea - High level abstraction between React and Redux - Interview with Marius Andra</a></li><li><a class="blog-teaser" href="/blog/react-next-2017/">Experiences on React Next 2017</a></li><li><a class="blog-teaser" href="/blog/frint-interview/">FrintJS - Build reactive applications with React and RxJS - Interview with Fahad Ibnay Heylaal</a></li><li><a class="blog-teaser" href="/blog/neutrino-interview/">Neutrino - Create modern JavaScript applications with minimal configuration - Interview with Eli Perelman</a></li><li><a class="blog-teaser" href="/blog/idyll-interview/">Idyll - Narratives for the web - Interview with Matthew Conlen</a></li></ul></div></div></div></footer><div><div class="gitter-open-chat-button">Need help?</div><script type="text/javascript">
          ((window.gitter = {}).chat = {}).options = {
            showChatByDefault: false,
            activationElement: '.gitter-open-chat-button',
            room: 'survivejs/react'
          };
        </script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script></div></div>

    
  </body>
</html>
